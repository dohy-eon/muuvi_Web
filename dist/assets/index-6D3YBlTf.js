function av(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function e0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var r0={exports:{}},ga={},n0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),lv=Symbol.for("react.portal"),uv=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),hv=Symbol.for("react.provider"),fv=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),gv=Symbol.for("react.memo"),vv=Symbol.for("react.lazy"),Od=Symbol.iterator;function yv(t){return t===null||typeof t!="object"?null:(t=Od&&t[Od]||t["@@iterator"],typeof t=="function"?t:null)}var s0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o0=Object.assign,i0={};function as(t,e,r){this.props=t,this.context=e,this.refs=i0,this.updater=r||s0}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a0(){}a0.prototype=as.prototype;function lc(t,e,r){this.props=t,this.context=e,this.refs=i0,this.updater=r||s0}var uc=lc.prototype=new a0;uc.constructor=lc;o0(uc,as.prototype);uc.isPureReactComponent=!0;var $d=Array.isArray,l0=Object.prototype.hasOwnProperty,cc={current:null},u0={key:!0,ref:!0,__self:!0,__source:!0};function c0(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)l0.call(e,n)&&!u0.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Eo,type:t,key:o,ref:i,props:s,_owner:cc.current}}function wv(t,e){return{$$typeof:Eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eo}function _v(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Id=/\/+/g;function tl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_v(""+t.key):e.toString(36)}function bi(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Eo:case lv:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+tl(i,0):n,$d(s)?(r="",t!=null&&(r=t.replace(Id,"$&/")+"/"),bi(s,e,r,"",function(u){return u})):s!=null&&(dc(s)&&(s=wv(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Id,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",$d(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+tl(o,a);i+=bi(o,e,r,l,s)}else if(l=yv(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+tl(o,a++),i+=bi(o,e,r,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Wo(t,e,r){if(t==null)return t;var n=[],s=0;return bi(t,n,"","",function(o){return e.call(r,o,s++)}),n}function xv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Si={transition:null},bv={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Si,ReactCurrentOwner:cc};function d0(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Wo,forEach:function(t,e,r){Wo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wo(t,function(){e++}),e},toArray:function(t){return Wo(t,function(e){return e})||[]},only:function(t){if(!dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=as;de.Fragment=uv;de.Profiler=dv;de.PureComponent=lc;de.StrictMode=cv;de.Suspense=mv;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;de.act=d0;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=o0({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=cc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)l0.call(e,l)&&!u0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Eo,type:t.type,key:s,ref:o,props:n,_owner:i}};de.createContext=function(t){return t={$$typeof:fv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hv,_context:t},t.Consumer=t};de.createElement=c0;de.createFactory=function(t){var e=c0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:pv,render:t}};de.isValidElement=dc;de.lazy=function(t){return{$$typeof:vv,_payload:{_status:-1,_result:t},_init:xv}};de.memo=function(t,e){return{$$typeof:gv,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Si.transition;Si.transition={};try{t()}finally{Si.transition=e}};de.unstable_act=d0;de.useCallback=function(t,e){return st.current.useCallback(t,e)};de.useContext=function(t){return st.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return st.current.useDeferredValue(t)};de.useEffect=function(t,e){return st.current.useEffect(t,e)};de.useId=function(){return st.current.useId()};de.useImperativeHandle=function(t,e,r){return st.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return st.current.useMemo(t,e)};de.useReducer=function(t,e,r){return st.current.useReducer(t,e,r)};de.useRef=function(t){return st.current.useRef(t)};de.useState=function(t){return st.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return st.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return st.current.useTransition()};de.version="18.3.1";n0.exports=de;var S=n0.exports;const Re=e0(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=S,kv=Symbol.for("react.element"),Ev=Symbol.for("react.fragment"),Cv=Object.prototype.hasOwnProperty,jv=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rv={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Cv.call(e,n)&&!Rv.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:kv,type:t,key:o,ref:i,props:s,_owner:jv.current}}ga.Fragment=Ev;ga.jsx=h0;ga.jsxs=h0;r0.exports=ga;var c=r0.exports,ql={},f0={exports:{}},_t={},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,G){var x=M.length;M.push(G);e:for(;0<x;){var T=x-1>>>1,_=M[T];if(0<s(_,G))M[T]=G,M[x]=_,x=T;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var G=M[0],x=M.pop();if(x!==G){M[0]=x;e:for(var T=0,_=M.length,P=_>>>1;T<P;){var L=2*(T+1)-1,J=M[L],D=L+1,Y=M[D];if(0>s(J,x))D<_&&0>s(Y,J)?(M[T]=Y,M[D]=x,T=D):(M[T]=J,M[L]=x,T=L);else if(D<_&&0>s(Y,x))M[T]=Y,M[D]=x,T=D;else break e}}return G}function s(M,G){var x=M.sortIndex-G.sortIndex;return x!==0?x:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=M)n(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function k(M){if(w=!1,g(M),!y)if(r(l)!==null)y=!0,ge(j);else{var G=r(u);G!==null&&Ue(k,G.startTime-M)}}function j(M,G){y=!1,w&&(w=!1,m(O),O=-1),v=!0;var x=f;try{for(g(G),h=r(l);h!==null&&(!(h.expirationTime>G)||M&&!ae());){var T=h.callback;if(typeof T=="function"){h.callback=null,f=h.priorityLevel;var _=T(h.expirationTime<=G);G=t.unstable_now(),typeof _=="function"?h.callback=_:h===r(l)&&n(l),g(G)}else n(l);h=r(l)}if(h!==null)var P=!0;else{var L=r(u);L!==null&&Ue(k,L.startTime-G),P=!1}return P}finally{h=null,f=x,v=!1}}var R=!1,N=null,O=-1,W=5,B=-1;function ae(){return!(t.unstable_now()-B<W)}function Ne(){if(N!==null){var M=t.unstable_now();B=M;var G=!0;try{G=N(!0,M)}finally{G?he():(R=!1,N=null)}}else R=!1}var he;if(typeof p=="function")he=function(){p(Ne)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ke=Se.port2;Se.port1.onmessage=Ne,he=function(){Ke.postMessage(null)}}else he=function(){b(Ne,0)};function ge(M){N=M,R||(R=!0,he())}function Ue(M,G){O=b(function(){M(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ge(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var x=f;f=G;try{return M()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var x=f;f=M;try{return G()}finally{f=x}},t.unstable_scheduleCallback=function(M,G,x){var T=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?T+x:T):x=T,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=x+_,M={id:d++,callback:G,priorityLevel:M,startTime:x,expirationTime:_,sortIndex:-1},x>T?(M.sortIndex=x,e(u,M),r(l)===null&&M===r(u)&&(w?(m(O),O=-1):w=!0,Ue(k,x-T))):(M.sortIndex=_,e(l,M),y||v||(y=!0,ge(j))),M},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(M){var G=f;return function(){var x=f;f=G;try{return M.apply(this,arguments)}finally{f=x}}}})(m0);p0.exports=m0;var Nv=p0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=S,wt=Nv;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g0=new Set,to={};function hn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(to[t]=e,t=0;t<e.length;t++)g0.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Md={},Dd={};function Av(t){return Gl.call(Dd,t)?!0:Gl.call(Md,t)?!1:Pv.test(t)?Dd[t]=!0:(Md[t]=!0,!1)}function Lv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ov(t,e,r,n){if(e===null||typeof e>"u"||Lv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function fc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hc,fc);Je[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hc,fc);Je[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hc,fc);Je[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function pc(t,e,r,n){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ov(e,r,s,n)&&(r=null),n||s===null?Av(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pr=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),w0=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=Ud&&t[Ud]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,rl;function Is(t){if(rl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rl=e&&e[1]||""}return`
`+rl+t}var nl=!1;function sl(t,e){if(!t||nl)return"";nl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{nl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Is(t):""}function $v(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=sl(t.type,!1),t;case 11:return t=sl(t.type.render,!1),t;case 1:return t=sl(t.type,!0),t;default:return""}}function Yl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pn:return"Fragment";case Tn:return"Portal";case Jl:return"Profiler";case mc:return"StrictMode";case Zl:return"Suspense";case Ql:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y0:return(t.displayName||"Context")+".Consumer";case v0:return(t._context.displayName||"Context")+".Provider";case gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vc:return e=t.displayName||null,e!==null?e:Yl(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Yl(t(e))}catch{}}return null}function Iv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(e);case 8:return e===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mv(t){var e=_0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ko(t){t._valueTracker||(t._valueTracker=Mv(t))}function x0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xl(t,e){var r=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Vd(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$r(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b0(t,e){e=e.checked,e!=null&&pc(t,"checked",e,!1)}function eu(t,e){b0(t,e);var r=$r(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tu(t,e.type,r):e.hasOwnProperty("defaultValue")&&tu(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function tu(t,e,r){(e!=="number"||Mi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ms=Array.isArray;function zn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$r(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ru(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(I(92));if(Ms(r)){if(1<r.length)throw Error(I(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$r(r)}}function S0(t,e){var r=$r(e.value),n=$r(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Fd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qo,E0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dv=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(t){Dv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zs[e]=zs[t]})});function C0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zs.hasOwnProperty(t)&&zs[t]?(""+e).trim():e+"px"}function j0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=C0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Uv=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(t,e){if(e){if(Uv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function ou(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var au=null,Fn=null,Wn=null;function Wd(t){if(t=Ro(t)){if(typeof au!="function")throw Error(I(280));var e=t.stateNode;e&&(e=xa(e),au(t.stateNode,t.type,e))}}function R0(t){Fn?Wn?Wn.push(t):Wn=[t]:Fn=t}function N0(){if(Fn){var t=Fn,e=Wn;if(Wn=Fn=null,Wd(t),e)for(t=0;t<e.length;t++)Wd(e[t])}}function T0(t,e){return t(e)}function P0(){}var ol=!1;function A0(t,e,r){if(ol)return t(e,r);ol=!0;try{return T0(t,e,r)}finally{ol=!1,(Fn!==null||Wn!==null)&&(P0(),N0())}}function no(t,e){var r=t.stateNode;if(r===null)return null;var n=xa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(I(231,e,typeof r));return r}var lu=!1;if(ur)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{lu=!1}function Vv(t,e,r,n,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Fs=!1,Di=null,Ui=!1,uu=null,Bv={onError:function(t){Fs=!0,Di=t}};function zv(t,e,r,n,s,o,i,a,l){Fs=!1,Di=null,Vv.apply(Bv,arguments)}function Fv(t,e,r,n,s,o,i,a,l){if(zv.apply(this,arguments),Fs){if(Fs){var u=Di;Fs=!1,Di=null}else throw Error(I(198));Ui||(Ui=!0,uu=u)}}function fn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function L0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hd(t){if(fn(t)!==t)throw Error(I(188))}function Wv(t){var e=t.alternate;if(!e){if(e=fn(t),e===null)throw Error(I(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Hd(s),t;if(o===n)return Hd(s),e;o=o.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?t:e}function O0(t){return t=Wv(t),t!==null?$0(t):null}function $0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$0(t);if(e!==null)return e;t=t.sibling}return null}var I0=wt.unstable_scheduleCallback,Kd=wt.unstable_cancelCallback,Hv=wt.unstable_shouldYield,Kv=wt.unstable_requestPaint,Ie=wt.unstable_now,qv=wt.unstable_getCurrentPriorityLevel,wc=wt.unstable_ImmediatePriority,M0=wt.unstable_UserBlockingPriority,Vi=wt.unstable_NormalPriority,Gv=wt.unstable_LowPriority,D0=wt.unstable_IdlePriority,va=null,Qt=null;function Jv(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(va,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Yv,Zv=Math.log,Qv=Math.LN2;function Yv(t){return t>>>=0,t===0?32:31-(Zv(t)/Qv|0)|0}var Go=64,Jo=4194304;function Ds(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Ds(a):(o&=i,o!==0&&(n=Ds(o)))}else i=r&~s,i!==0?n=Ds(i):o!==0&&(n=Ds(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Bt(e),s=1<<r,n|=t[r],e&=~s;return n}function Xv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Bt(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=Xv(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U0(){var t=Go;return Go<<=1,!(Go&4194240)&&(Go=64),t}function il(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Co(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=r}function t1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Bt(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function _c(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Bt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var me=0;function V0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B0,xc,z0,F0,W0,du=!1,Zo=[],jr=null,Rr=null,Nr=null,so=new Map,oo=new Map,br=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(e.pointerId)}}function ks(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ro(e),e!==null&&xc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function n1(t,e,r,n,s){switch(e){case"focusin":return jr=ks(jr,t,e,r,n,s),!0;case"dragenter":return Rr=ks(Rr,t,e,r,n,s),!0;case"mouseover":return Nr=ks(Nr,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return so.set(o,ks(so.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,oo.set(o,ks(oo.get(o)||null,t,e,r,n,s)),!0}return!1}function H0(t){var e=Zr(t.target);if(e!==null){var r=fn(e);if(r!==null){if(e=r.tag,e===13){if(e=L0(r),e!==null){t.blockedOn=e,W0(t.priority,function(){z0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ki(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iu=n,r.target.dispatchEvent(n),iu=null}else return e=Ro(r),e!==null&&xc(e),t.blockedOn=r,!1;e.shift()}return!0}function Gd(t,e,r){ki(t)&&r.delete(e)}function s1(){du=!1,jr!==null&&ki(jr)&&(jr=null),Rr!==null&&ki(Rr)&&(Rr=null),Nr!==null&&ki(Nr)&&(Nr=null),so.forEach(Gd),oo.forEach(Gd)}function Es(t,e){t.blockedOn===e&&(t.blockedOn=null,du||(du=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,s1)))}function io(t){function e(s){return Es(s,t)}if(0<Zo.length){Es(Zo[0],t);for(var r=1;r<Zo.length;r++){var n=Zo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jr!==null&&Es(jr,t),Rr!==null&&Es(Rr,t),Nr!==null&&Es(Nr,t),so.forEach(e),oo.forEach(e),r=0;r<br.length;r++)n=br[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)H0(r),r.blockedOn===null&&br.shift()}var Hn=pr.ReactCurrentBatchConfig,zi=!0;function o1(t,e,r,n){var s=me,o=Hn.transition;Hn.transition=null;try{me=1,bc(t,e,r,n)}finally{me=s,Hn.transition=o}}function i1(t,e,r,n){var s=me,o=Hn.transition;Hn.transition=null;try{me=4,bc(t,e,r,n)}finally{me=s,Hn.transition=o}}function bc(t,e,r,n){if(zi){var s=hu(t,e,r,n);if(s===null)gl(t,e,n,Fi,r),qd(t,n);else if(n1(s,t,e,r,n))n.stopPropagation();else if(qd(t,n),e&4&&-1<r1.indexOf(t)){for(;s!==null;){var o=Ro(s);if(o!==null&&B0(o),o=hu(t,e,r,n),o===null&&gl(t,e,n,Fi,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else gl(t,e,n,null,r)}}var Fi=null;function hu(t,e,r,n){if(Fi=null,t=yc(n),t=Zr(t),t!==null)if(e=fn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=L0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fi=t,null}function K0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qv()){case wc:return 1;case M0:return 4;case Vi:case Gv:return 16;case D0:return 536870912;default:return 16}default:return 16}}var Er=null,Sc=null,Ei=null;function q0(){if(Ei)return Ei;var t,e=Sc,r=e.length,n,s="value"in Er?Er.value:Er.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Ei=s.slice(t,1<n?1-n:void 0)}function Ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function Jd(){return!1}function xt(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qo:Jd,this.isPropagationStopped=Jd,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=xt(ls),jo=Oe({},ls,{view:0,detail:0}),a1=xt(jo),al,ll,Cs,ya=Oe({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cs&&(Cs&&t.type==="mousemove"?(al=t.screenX-Cs.screenX,ll=t.screenY-Cs.screenY):ll=al=0,Cs=t),al)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),Zd=xt(ya),l1=Oe({},ya,{dataTransfer:0}),u1=xt(l1),c1=Oe({},jo,{relatedTarget:0}),ul=xt(c1),d1=Oe({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),h1=xt(d1),f1=Oe({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p1=xt(f1),m1=Oe({},ls,{data:0}),Qd=xt(m1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y1[t])?!!e[t]:!1}function Ec(){return w1}var _1=Oe({},jo,{key:function(t){if(t.key){var e=g1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?Ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x1=xt(_1),b1=Oe({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=xt(b1),S1=Oe({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),k1=xt(S1),E1=Oe({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),C1=xt(E1),j1=Oe({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R1=xt(j1),N1=[9,13,27,32],Cc=ur&&"CompositionEvent"in window,Ws=null;ur&&"documentMode"in document&&(Ws=document.documentMode);var T1=ur&&"TextEvent"in window&&!Ws,G0=ur&&(!Cc||Ws&&8<Ws&&11>=Ws),Xd=" ",eh=!1;function J0(t,e){switch(t){case"keyup":return N1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var An=!1;function P1(t,e){switch(t){case"compositionend":return Z0(e);case"keypress":return e.which!==32?null:(eh=!0,Xd);case"textInput":return t=e.data,t===Xd&&eh?null:t;default:return null}}function A1(t,e){if(An)return t==="compositionend"||!Cc&&J0(t,e)?(t=q0(),Ei=Sc=Er=null,An=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G0&&e.locale!=="ko"?null:e.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L1[t.type]:e==="textarea"}function Q0(t,e,r,n){R0(n),e=Wi(e,"onChange"),0<e.length&&(r=new kc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hs=null,ao=null;function O1(t){lp(t,0)}function wa(t){var e=$n(t);if(x0(e))return t}function $1(t,e){if(t==="change")return e}var Y0=!1;if(ur){var cl;if(ur){var dl="oninput"in document;if(!dl){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),dl=typeof rh.oninput=="function"}cl=dl}else cl=!1;Y0=cl&&(!document.documentMode||9<document.documentMode)}function nh(){Hs&&(Hs.detachEvent("onpropertychange",X0),ao=Hs=null)}function X0(t){if(t.propertyName==="value"&&wa(ao)){var e=[];Q0(e,ao,t,yc(t)),A0(O1,e)}}function I1(t,e,r){t==="focusin"?(nh(),Hs=e,ao=r,Hs.attachEvent("onpropertychange",X0)):t==="focusout"&&nh()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wa(ao)}function D1(t,e){if(t==="click")return wa(e)}function U1(t,e){if(t==="input"||t==="change")return wa(e)}function V1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:V1;function lo(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Gl.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function sh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oh(t,e){var r=sh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sh(r)}}function ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tp(){for(var t=window,e=Mi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mi(t.document)}return e}function jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B1(t){var e=tp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ep(r.ownerDocument.documentElement,r)){if(n!==null&&jc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=oh(r,o);var i=oh(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z1=ur&&"documentMode"in document&&11>=document.documentMode,Ln=null,fu=null,Ks=null,pu=!1;function ih(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pu||Ln==null||Ln!==Mi(n)||(n=Ln,"selectionStart"in n&&jc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ks&&lo(Ks,n)||(Ks=n,n=Wi(fu,"onSelect"),0<n.length&&(e=new kc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ln)))}function Yo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var On={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},hl={},rp={};ur&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function _a(t){if(hl[t])return hl[t];if(!On[t])return t;var e=On[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rp)return hl[t]=e[r];return t}var np=_a("animationend"),sp=_a("animationiteration"),op=_a("animationstart"),ip=_a("transitionend"),ap=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){ap.set(t,e),hn(e,[t])}for(var fl=0;fl<ah.length;fl++){var pl=ah[fl],F1=pl.toLowerCase(),W1=pl[0].toUpperCase()+pl.slice(1);Dr(F1,"on"+W1)}Dr(np,"onAnimationEnd");Dr(sp,"onAnimationIteration");Dr(op,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(ip,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function lh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Fv(n,e,void 0,t),t.currentTarget=null}function lp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;lh(s,a,u),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;lh(s,a,u),o=l}}}if(Ui)throw t=uu,Ui=!1,uu=null,t}function _e(t,e){var r=e[wu];r===void 0&&(r=e[wu]=new Set);var n=t+"__bubble";r.has(n)||(up(e,t,2,!1),r.add(n))}function ml(t,e,r){var n=0;e&&(n|=4),up(r,t,n,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function uo(t){if(!t[Xo]){t[Xo]=!0,g0.forEach(function(r){r!=="selectionchange"&&(H1.has(r)||ml(r,!1,t),ml(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,ml("selectionchange",!1,e))}}function up(t,e,r,n){switch(K0(e)){case 1:var s=o1;break;case 4:s=i1;break;default:s=bc}r=s.bind(null,e,r,t),s=void 0,!lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function gl(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Zr(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}A0(function(){var u=o,d=yc(r),h=[];e:{var f=ap.get(t);if(f!==void 0){var v=kc,y=t;switch(t){case"keypress":if(Ci(r)===0)break e;case"keydown":case"keyup":v=x1;break;case"focusin":y="focus",v=ul;break;case"focusout":y="blur",v=ul;break;case"beforeblur":case"afterblur":v=ul;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=k1;break;case np:case sp:case op:v=h1;break;case ip:v=C1;break;case"scroll":v=a1;break;case"wheel":v=R1;break;case"copy":case"cut":case"paste":v=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yd}var w=(e&4)!==0,b=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,g;p!==null;){g=p;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=no(p,m),k!=null&&w.push(co(p,k,g)))),b)break;p=p.return}0<w.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==iu&&(y=r.relatedTarget||r.fromElement)&&(Zr(y)||y[cr]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?Zr(y):null,y!==null&&(b=fn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Zd,k="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Yd,k="onPointerLeave",m="onPointerEnter",p="pointer"),b=v==null?f:$n(v),g=y==null?f:$n(y),f=new w(k,p+"leave",v,r,d),f.target=b,f.relatedTarget=g,k=null,Zr(d)===u&&(w=new w(m,p+"enter",y,r,d),w.target=g,w.relatedTarget=b,k=w),b=k,v&&y)t:{for(w=v,m=y,p=0,g=w;g;g=xn(g))p++;for(g=0,k=m;k;k=xn(k))g++;for(;0<p-g;)w=xn(w),p--;for(;0<g-p;)m=xn(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=xn(w),m=xn(m)}w=null}else w=null;v!==null&&uh(h,f,v,w,!1),y!==null&&b!==null&&uh(h,b,y,w,!0)}}e:{if(f=u?$n(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=$1;else if(th(f))if(Y0)j=U1;else{j=M1;var R=I1}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=D1);if(j&&(j=j(t,u))){Q0(h,j,r,d);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&tu(f,"number",f.value)}switch(R=u?$n(u):window,t){case"focusin":(th(R)||R.contentEditable==="true")&&(Ln=R,fu=u,Ks=null);break;case"focusout":Ks=fu=Ln=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,ih(h,r,d);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":ih(h,r,d)}var N;if(Cc)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else An?J0(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(G0&&r.locale!=="ko"&&(An||O!=="onCompositionStart"?O==="onCompositionEnd"&&An&&(N=q0()):(Er=d,Sc="value"in Er?Er.value:Er.textContent,An=!0)),R=Wi(u,O),0<R.length&&(O=new Qd(O,t,null,r,d),h.push({event:O,listeners:R}),N?O.data=N:(N=Z0(r),N!==null&&(O.data=N)))),(N=T1?P1(t,r):A1(t,r))&&(u=Wi(u,"onBeforeInput"),0<u.length&&(d=new Qd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}lp(h,e)})}function co(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=no(t,r),o!=null&&n.unshift(co(t,o,s)),o=no(t,e),o!=null&&n.push(co(t,o,s))),t=t.return}return n}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uh(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=no(r,o),l!=null&&i.unshift(co(r,l,a))):s||(l=no(r,o),l!=null&&i.push(co(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var K1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function ch(t){return(typeof t=="string"?t:""+t).replace(K1,`
`).replace(q1,"")}function ei(t,e,r){if(e=ch(e),ch(t)!==e&&r)throw Error(I(425))}function Hi(){}var mu=null,gu=null;function vu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(t){return dh.resolve(null).then(t).catch(Z1)}:yu;function Z1(t){setTimeout(function(){throw t})}function vl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),io(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);io(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Jt="__reactFiber$"+us,ho="__reactProps$"+us,cr="__reactContainer$"+us,wu="__reactEvents$"+us,Q1="__reactListeners$"+us,Y1="__reactHandles$"+us;function Zr(t){var e=t[Jt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cr]||r[Jt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hh(t);t!==null;){if(r=t[Jt])return r;t=hh(t)}return e}t=r,r=t.parentNode}return null}function Ro(t){return t=t[Jt]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $n(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function xa(t){return t[ho]||null}var _u=[],In=-1;function Ur(t){return{current:t}}function be(t){0>In||(t.current=_u[In],_u[In]=null,In--)}function ye(t,e){In++,_u[In]=t.current,t.current=e}var Ir={},Xe=Ur(Ir),ct=Ur(!1),rn=Ir;function Qn(t,e){var r=t.type.contextTypes;if(!r)return Ir;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dt(t){return t=t.childContextTypes,t!=null}function Ki(){be(ct),be(Xe)}function fh(t,e,r){if(Xe.current!==Ir)throw Error(I(168));ye(Xe,e),ye(ct,r)}function cp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(I(108,Iv(t)||"Unknown",s));return Oe({},r,n)}function qi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,rn=Xe.current,ye(Xe,t),ye(ct,ct.current),!0}function ph(t,e,r){var n=t.stateNode;if(!n)throw Error(I(169));r?(t=cp(t,e,rn),n.__reactInternalMemoizedMergedChildContext=t,be(ct),be(Xe),ye(Xe,t)):be(ct),ye(ct,r)}var sr=null,ba=!1,yl=!1;function dp(t){sr===null?sr=[t]:sr.push(t)}function X1(t){ba=!0,dp(t)}function Vr(){if(!yl&&sr!==null){yl=!0;var t=0,e=me;try{var r=sr;for(me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sr=null,ba=!1}catch(s){throw sr!==null&&(sr=sr.slice(t+1)),I0(wc,Vr),s}finally{me=e,yl=!1}}return null}var Mn=[],Dn=0,Gi=null,Ji=0,kt=[],Et=0,nn=null,or=1,ir="";function Wr(t,e){Mn[Dn++]=Ji,Mn[Dn++]=Gi,Gi=t,Ji=e}function hp(t,e,r){kt[Et++]=or,kt[Et++]=ir,kt[Et++]=nn,nn=t;var n=or;t=ir;var s=32-Bt(n)-1;n&=~(1<<s),r+=1;var o=32-Bt(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,or=1<<32-Bt(e)+s|r<<s|n,ir=o+t}else or=1<<o|r<<s|n,ir=t}function Rc(t){t.return!==null&&(Wr(t,1),hp(t,1,0))}function Nc(t){for(;t===Gi;)Gi=Mn[--Dn],Mn[Dn]=null,Ji=Mn[--Dn],Mn[Dn]=null;for(;t===nn;)nn=kt[--Et],kt[Et]=null,ir=kt[--Et],kt[Et]=null,or=kt[--Et],kt[Et]=null}var yt=null,vt=null,Ee=!1,Vt=null;function fp(t,e){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=nn!==null?{id:or,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yt=t,vt=null,!0):!1;default:return!1}}function xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bu(t){if(Ee){var e=vt;if(e){var r=e;if(!mh(t,e)){if(xu(t))throw Error(I(418));e=Tr(r.nextSibling);var n=yt;e&&mh(t,e)?fp(n,r):(t.flags=t.flags&-4097|2,Ee=!1,yt=t)}}else{if(xu(t))throw Error(I(418));t.flags=t.flags&-4097|2,Ee=!1,yt=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function ti(t){if(t!==yt)return!1;if(!Ee)return gh(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vu(t.type,t.memoizedProps)),e&&(e=vt)){if(xu(t))throw pp(),Error(I(418));for(;e;)fp(t,e),e=Tr(e.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vt=Tr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?Tr(t.stateNode.nextSibling):null;return!0}function pp(){for(var t=vt;t;)t=Tr(t.nextSibling)}function Yn(){vt=yt=null,Ee=!1}function Tc(t){Vt===null?Vt=[t]:Vt.push(t)}var ey=pr.ReactCurrentBatchConfig;function js(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,t))}return t}function ri(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vh(t){var e=t._init;return e(t._payload)}function mp(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Or(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,k){return p===null||p.tag!==6?(p=El(g,m.mode,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,k){var j=g.type;return j===Pn?d(m,p,g.props.children,k,g.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&vh(j)===p.type)?(k=s(p,g.props),k.ref=js(m,p,g),k.return=m,k):(k=Li(g.type,g.key,g.props,null,m.mode,k),k.ref=js(m,p,g),k.return=m,k)}function u(m,p,g,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Cl(g,m.mode,k),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,k,j){return p===null||p.tag!==7?(p=tn(g,m.mode,k,j),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=El(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ho:return g=Li(p.type,p.key,p.props,null,m.mode,g),g.ref=js(m,null,p),g.return=m,g;case Tn:return p=Cl(p,m.mode,g),p.return=m,p;case wr:var k=p._init;return h(m,k(p._payload),g)}if(Ms(p)||bs(p))return p=tn(p,m.mode,g,null),p.return=m,p;ri(m,p)}return null}function f(m,p,g,k){var j=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:a(m,p,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:return g.key===j?l(m,p,g,k):null;case Tn:return g.key===j?u(m,p,g,k):null;case wr:return j=g._init,f(m,p,j(g._payload),k)}if(Ms(g)||bs(g))return j!==null?null:d(m,p,g,k,null);ri(m,g)}return null}function v(m,p,g,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,a(p,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ho:return m=m.get(k.key===null?g:k.key)||null,l(p,m,k,j);case Tn:return m=m.get(k.key===null?g:k.key)||null,u(p,m,k,j);case wr:var R=k._init;return v(m,p,g,R(k._payload),j)}if(Ms(k)||bs(k))return m=m.get(g)||null,d(p,m,k,j,null);ri(p,k)}return null}function y(m,p,g,k){for(var j=null,R=null,N=p,O=p=0,W=null;N!==null&&O<g.length;O++){N.index>O?(W=N,N=null):W=N.sibling;var B=f(m,N,g[O],k);if(B===null){N===null&&(N=W);break}t&&N&&B.alternate===null&&e(m,N),p=o(B,p,O),R===null?j=B:R.sibling=B,R=B,N=W}if(O===g.length)return r(m,N),Ee&&Wr(m,O),j;if(N===null){for(;O<g.length;O++)N=h(m,g[O],k),N!==null&&(p=o(N,p,O),R===null?j=N:R.sibling=N,R=N);return Ee&&Wr(m,O),j}for(N=n(m,N);O<g.length;O++)W=v(N,m,O,g[O],k),W!==null&&(t&&W.alternate!==null&&N.delete(W.key===null?O:W.key),p=o(W,p,O),R===null?j=W:R.sibling=W,R=W);return t&&N.forEach(function(ae){return e(m,ae)}),Ee&&Wr(m,O),j}function w(m,p,g,k){var j=bs(g);if(typeof j!="function")throw Error(I(150));if(g=j.call(g),g==null)throw Error(I(151));for(var R=j=null,N=p,O=p=0,W=null,B=g.next();N!==null&&!B.done;O++,B=g.next()){N.index>O?(W=N,N=null):W=N.sibling;var ae=f(m,N,B.value,k);if(ae===null){N===null&&(N=W);break}t&&N&&ae.alternate===null&&e(m,N),p=o(ae,p,O),R===null?j=ae:R.sibling=ae,R=ae,N=W}if(B.done)return r(m,N),Ee&&Wr(m,O),j;if(N===null){for(;!B.done;O++,B=g.next())B=h(m,B.value,k),B!==null&&(p=o(B,p,O),R===null?j=B:R.sibling=B,R=B);return Ee&&Wr(m,O),j}for(N=n(m,N);!B.done;O++,B=g.next())B=v(N,m,O,B.value,k),B!==null&&(t&&B.alternate!==null&&N.delete(B.key===null?O:B.key),p=o(B,p,O),R===null?j=B:R.sibling=B,R=B);return t&&N.forEach(function(Ne){return e(m,Ne)}),Ee&&Wr(m,O),j}function b(m,p,g,k){if(typeof g=="object"&&g!==null&&g.type===Pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:e:{for(var j=g.key,R=p;R!==null;){if(R.key===j){if(j=g.type,j===Pn){if(R.tag===7){r(m,R.sibling),p=s(R,g.props.children),p.return=m,m=p;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&vh(j)===R.type){r(m,R.sibling),p=s(R,g.props),p.ref=js(m,R,g),p.return=m,m=p;break e}r(m,R);break}else e(m,R);R=R.sibling}g.type===Pn?(p=tn(g.props.children,m.mode,k,g.key),p.return=m,m=p):(k=Li(g.type,g.key,g.props,null,m.mode,k),k.ref=js(m,p,g),k.return=m,m=k)}return i(m);case Tn:e:{for(R=g.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Cl(g,m.mode,k),p.return=m,m=p}return i(m);case wr:return R=g._init,b(m,p,R(g._payload),k)}if(Ms(g))return y(m,p,g,k);if(bs(g))return w(m,p,g,k);ri(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=El(g,m.mode,k),p.return=m,m=p),i(m)):r(m,p)}return b}var Xn=mp(!0),gp=mp(!1),Zi=Ur(null),Qi=null,Un=null,Pc=null;function Ac(){Pc=Un=Qi=null}function Lc(t){var e=Zi.current;be(Zi),t._currentValue=e}function Su(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Kn(t,e){Qi=t,Pc=Un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:e,next:null},Un===null){if(Qi===null)throw Error(I(308));Un=t,Qi.dependencies={lanes:0,firstContext:t}}else Un=Un.next=t;return e}var Qr=null;function Oc(t){Qr===null?Qr=[t]:Qr.push(t)}function vp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Oc(e)):(r.next=s.next,s.next=r),e.interleaved=r,dr(t,n)}function dr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _r=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,dr(t,r)}return s=n.interleaved,s===null?(e.next=e,Oc(n)):(e.next=s.next,s.next=e),n.interleaved=e,dr(t,r)}function ji(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_c(t,r)}}function yh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yi(t,e,r,n){var s=t.updateQueue;_r=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Oe({},h,f);break e;case 2:_r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);on|=i,t.lanes=i,t.memoizedState=h}}function wh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var No={},Yt=Ur(No),fo=Ur(No),po=Ur(No);function Yr(t){if(t===No)throw Error(I(174));return t}function Ic(t,e){switch(ye(po,e),ye(fo,t),ye(Yt,No),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nu(e,t)}be(Yt),ye(Yt,e)}function es(){be(Yt),be(fo),be(po)}function wp(t){Yr(po.current);var e=Yr(Yt.current),r=nu(e,t.type);e!==r&&(ye(fo,t),ye(Yt,r))}function Mc(t){fo.current===t&&(be(Yt),be(fo))}var Pe=Ur(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wl=[];function Dc(){for(var t=0;t<wl.length;t++)wl[t]._workInProgressVersionPrimary=null;wl.length=0}var Ri=pr.ReactCurrentDispatcher,_l=pr.ReactCurrentBatchConfig,sn=0,Ae=null,Be=null,We=null,ea=!1,qs=!1,mo=0,ty=0;function Ze(){throw Error(I(321))}function Uc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wt(t[r],e[r]))return!1;return!0}function Vc(t,e,r,n,s,o){if(sn=o,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ri.current=t===null||t.memoizedState===null?oy:iy,t=r(n,s),qs){o=0;do{if(qs=!1,mo=0,25<=o)throw Error(I(301));o+=1,We=Be=null,e.updateQueue=null,Ri.current=ay,t=r(n,s)}while(qs)}if(Ri.current=ta,e=Be!==null&&Be.next!==null,sn=0,We=Be=Ae=null,ea=!1,e)throw Error(I(300));return t}function Bc(){var t=mo!==0;return mo=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ae.memoizedState=We=t:We=We.next=t,We}function Nt(){if(Be===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=We===null?Ae.memoizedState:We.next;if(e!==null)We=e,Be=t;else{if(t===null)throw Error(I(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Ae.memoizedState=We=t:We=We.next=t}return We}function go(t,e){return typeof e=="function"?e(t):e}function xl(t){var e=Nt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=Be,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((sn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=n):l=l.next=h,Ae.lanes|=d,on|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=a,Wt(n,e.memoizedState)||(ut=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Ae.lanes|=o,on|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function bl(t){var e=Nt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Wt(o,e.memoizedState)||(ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function _p(){}function xp(t,e){var r=Ae,n=Nt(),s=e(),o=!Wt(n.memoizedState,s);if(o&&(n.memoizedState=s,ut=!0),n=n.queue,zc(kp.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,vo(9,Sp.bind(null,r,n,s,e),void 0,null),He===null)throw Error(I(349));sn&30||bp(r,e,s)}return s}function bp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Sp(t,e,r,n){e.value=r,e.getSnapshot=n,Ep(e)&&Cp(t)}function kp(t,e,r){return r(function(){Ep(e)&&Cp(t)})}function Ep(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wt(t,r)}catch{return!0}}function Cp(t){var e=dr(t,1);e!==null&&zt(e,t,1,-1)}function _h(t){var e=Gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=sy.bind(null,Ae,t),[e.memoizedState,t]}function vo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function jp(){return Nt().memoizedState}function Ni(t,e,r,n){var s=Gt();Ae.flags|=t,s.memoizedState=vo(1|e,r,void 0,n===void 0?null:n)}function Sa(t,e,r,n){var s=Nt();n=n===void 0?null:n;var o=void 0;if(Be!==null){var i=Be.memoizedState;if(o=i.destroy,n!==null&&Uc(n,i.deps)){s.memoizedState=vo(e,r,o,n);return}}Ae.flags|=t,s.memoizedState=vo(1|e,r,o,n)}function xh(t,e){return Ni(8390656,8,t,e)}function zc(t,e){return Sa(2048,8,t,e)}function Rp(t,e){return Sa(4,2,t,e)}function Np(t,e){return Sa(4,4,t,e)}function Tp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pp(t,e,r){return r=r!=null?r.concat([t]):null,Sa(4,4,Tp.bind(null,e,t),r)}function Fc(){}function Ap(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Uc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Lp(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Uc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Op(t,e,r){return sn&21?(Wt(r,e)||(r=U0(),Ae.lanes|=r,on|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=r)}function ry(t,e){var r=me;me=r!==0&&4>r?r:4,t(!0);var n=_l.transition;_l.transition={};try{t(!1),e()}finally{me=r,_l.transition=n}}function $p(){return Nt().memoizedState}function ny(t,e,r){var n=Lr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ip(t))Mp(e,r);else if(r=vp(t,e,r,n),r!==null){var s=nt();zt(r,t,n,s),Dp(r,e,n)}}function sy(t,e,r){var n=Lr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ip(t))Mp(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,Wt(a,i)){var l=e.interleaved;l===null?(s.next=s,Oc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=vp(t,e,s,n),r!==null&&(s=nt(),zt(r,t,n,s),Dp(r,e,n))}}function Ip(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Mp(t,e){qs=ea=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Dp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_c(t,r)}}var ta={readContext:Rt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},oy={readContext:Rt,useCallback:function(t,e){return Gt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:xh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ni(4194308,4,Tp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ni(4,2,t,e)},useMemo:function(t,e){var r=Gt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Gt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ny.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=Gt();return t={current:t},e.memoizedState=t},useState:_h,useDebugValue:Fc,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=_h(!1),e=t[0];return t=ry.bind(null,t[1]),Gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,s=Gt();if(Ee){if(r===void 0)throw Error(I(407));r=r()}else{if(r=e(),He===null)throw Error(I(349));sn&30||bp(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,xh(kp.bind(null,n,o,t),[t]),n.flags|=2048,vo(9,Sp.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Gt(),e=He.identifierPrefix;if(Ee){var r=ir,n=or;r=(n&~(1<<32-Bt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=mo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ty++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iy={readContext:Rt,useCallback:Ap,useContext:Rt,useEffect:zc,useImperativeHandle:Pp,useInsertionEffect:Rp,useLayoutEffect:Np,useMemo:Lp,useReducer:xl,useRef:jp,useState:function(){return xl(go)},useDebugValue:Fc,useDeferredValue:function(t){var e=Nt();return Op(e,Be.memoizedState,t)},useTransition:function(){var t=xl(go)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:_p,useSyncExternalStore:xp,useId:$p,unstable_isNewReconciler:!1},ay={readContext:Rt,useCallback:Ap,useContext:Rt,useEffect:zc,useImperativeHandle:Pp,useInsertionEffect:Rp,useLayoutEffect:Np,useMemo:Lp,useReducer:bl,useRef:jp,useState:function(){return bl(go)},useDebugValue:Fc,useDeferredValue:function(t){var e=Nt();return Be===null?e.memoizedState=t:Op(e,Be.memoizedState,t)},useTransition:function(){var t=bl(go)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:_p,useSyncExternalStore:xp,useId:$p,unstable_isNewReconciler:!1};function It(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ku(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Oe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ka={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nt(),s=Lr(t),o=ar(n,s);o.payload=e,r!=null&&(o.callback=r),e=Pr(t,o,s),e!==null&&(zt(e,t,s,n),ji(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nt(),s=Lr(t),o=ar(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Pr(t,o,s),e!==null&&(zt(e,t,s,n),ji(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nt(),n=Lr(t),s=ar(r,n);s.tag=2,e!=null&&(s.callback=e),e=Pr(t,s,n),e!==null&&(zt(e,t,n,r),ji(e,t,n))}};function bh(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!lo(r,n)||!lo(s,o):!0}function Up(t,e,r){var n=!1,s=Ir,o=e.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(s=dt(e)?rn:Xe.current,n=e.contextTypes,o=(n=n!=null)?Qn(t,s):Ir),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ka,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ka.enqueueReplaceState(e,e.state,null)}function Eu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$c(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Rt(o):(o=dt(e)?rn:Xe.current,s.context=Qn(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ku(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ka.enqueueReplaceState(s,s.state,null),Yi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ts(t,e){try{var r="",n=e;do r+=$v(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Sl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ly=typeof WeakMap=="function"?WeakMap:Map;function Vp(t,e,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){na||(na=!0,Iu=n),Cu(t,e)},r}function Bp(t,e,r){r=ar(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Cu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Cu(t,e),typeof n!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function kh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ly;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=by.bind(null,t,e,r),e.then(t,t))}function Eh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ch(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ar(-1,1),e.tag=2,Pr(r,e,1))),r.lanes|=1),t)}var uy=pr.ReactCurrentOwner,ut=!1;function tt(t,e,r,n){e.child=t===null?gp(e,null,r,n):Xn(e,t.child,r,n)}function jh(t,e,r,n,s){r=r.render;var o=e.ref;return Kn(e,s),n=Vc(t,e,r,n,o,s),r=Bc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Ee&&r&&Rc(e),e.flags|=1,tt(t,e,n,s),e.child)}function Rh(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Qc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,zp(t,e,o,n,s)):(t=Li(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:lo,r(i,n)&&t.ref===e.ref)return hr(t,e,s)}return e.flags|=1,t=Or(o,n),t.ref=e.ref,t.return=e,e.child=t}function zp(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(lo(o,n)&&t.ref===e.ref)if(ut=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,hr(t,e,s)}return ju(t,e,r,n,s)}function Fp(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Bn,pt),pt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Bn,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ye(Bn,pt),pt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ye(Bn,pt),pt|=n;return tt(t,e,s,r),e.child}function Wp(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ju(t,e,r,n,s){var o=dt(r)?rn:Xe.current;return o=Qn(e,o),Kn(e,s),r=Vc(t,e,r,n,o,s),n=Bc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Ee&&n&&Rc(e),e.flags|=1,tt(t,e,r,s),e.child)}function Nh(t,e,r,n,s){if(dt(r)){var o=!0;qi(e)}else o=!1;if(Kn(e,s),e.stateNode===null)Ti(t,e),Up(e,r,n),Eu(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=dt(r)?rn:Xe.current,u=Qn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Sh(e,i,n,u),_r=!1;var f=e.memoizedState;i.state=f,Yi(e,n,i,s),l=e.memoizedState,a!==n||f!==l||ct.current||_r?(typeof d=="function"&&(ku(e,r,d,n),l=e.memoizedState),(a=_r||bh(e,r,a,n,f,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,yp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:It(e.type,a),i.props=u,h=e.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=dt(r)?rn:Xe.current,l=Qn(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Sh(e,i,n,l),_r=!1,f=e.memoizedState,i.state=f,Yi(e,n,i,s);var y=e.memoizedState;a!==h||f!==y||ct.current||_r?(typeof v=="function"&&(ku(e,r,v,n),y=e.memoizedState),(u=_r||bh(e,r,u,n,f,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),i.props=n,i.state=y,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ru(t,e,r,n,o,s)}function Ru(t,e,r,n,s,o){Wp(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&ph(e,r,!1),hr(t,e,o);n=e.stateNode,uy.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Xn(e,t.child,null,o),e.child=Xn(e,null,a,o)):tt(t,e,a,o),e.memoizedState=n.state,s&&ph(e,r,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?fh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fh(t,e.context,!1),Ic(t,e.containerInfo)}function Th(t,e,r,n,s){return Yn(),Tc(s),e.flags|=256,tt(t,e,r,n),e.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Tu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kp(t,e,r){var n=e.pendingProps,s=Pe.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Pe,s&1),t===null)return bu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ja(i,n,0,null),t=tn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tu(r),e.memoizedState=Nu,t):Wc(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cy(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Or(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Or(a,o):(o=tn(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Tu(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=Nu,n}return o=t.child,t=o.sibling,n=Or(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Wc(t,e){return e=ja({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ni(t,e,r,n){return n!==null&&Tc(n),Xn(e,t.child,null,r),t=Wc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cy(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Sl(Error(I(422))),ni(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=ja({mode:"visible",children:n.children},s,0,null),o=tn(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Xn(e,t.child,null,i),e.child.memoizedState=Tu(i),e.memoizedState=Nu,o);if(!(e.mode&1))return ni(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(I(419)),n=Sl(o,n,void 0),ni(t,e,i,n)}if(a=(i&t.childLanes)!==0,ut||a){if(n=He,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,dr(t,s),zt(n,t,s,-1))}return Zc(),n=Sl(Error(I(421))),ni(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Sy.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,vt=Tr(s.nextSibling),yt=e,Ee=!0,Vt=null,t!==null&&(kt[Et++]=or,kt[Et++]=ir,kt[Et++]=nn,or=t.id,ir=t.overflow,nn=e),e=Wc(e,n.children),e.flags|=4096,e)}function Ph(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Su(t.return,e,r)}function kl(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function qp(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(tt(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ph(t,r,e);else if(t.tag===19)Ph(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ye(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Xi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),kl(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}kl(e,!0,r,null,o);break;case"together":kl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ti(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),on|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,r=Or(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Or(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dy(t,e,r){switch(e.tag){case 3:Hp(e),Yn();break;case 5:wp(e);break;case 1:dt(e.type)&&qi(e);break;case 4:Ic(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ye(Zi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ye(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?Kp(t,e,r):(ye(Pe,Pe.current&1),t=hr(t,e,r),t!==null?t.sibling:null);ye(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,Fp(t,e,r)}return hr(t,e,r)}var Gp,Pu,Jp,Zp;Gp=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pu=function(){};Jp=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Yr(Yt.current);var o=null;switch(r){case"input":s=Xl(t,s),n=Xl(t,n),o=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),o=[];break;case"textarea":s=ru(t,s),n=ru(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hi)}su(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(to.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(to.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Zp=function(t,e,r,n){r!==n&&(e.flags|=4)};function Rs(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hy(t,e,r){var n=e.pendingProps;switch(Nc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return dt(e.type)&&Ki(),Qe(e),null;case 3:return n=e.stateNode,es(),be(ct),be(Xe),Dc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ti(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vt!==null&&(Uu(Vt),Vt=null))),Pu(t,e),Qe(e),null;case 5:Mc(e);var s=Yr(po.current);if(r=e.type,t!==null&&e.stateNode!=null)Jp(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(I(166));return Qe(e),null}if(t=Yr(Yt.current),ti(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Jt]=e,n[ho]=o,t=(e.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(s=0;s<Us.length;s++)_e(Us[s],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":Vd(n,o),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},_e("invalid",n);break;case"textarea":zd(n,o),_e("invalid",n)}su(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ei(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ei(n.textContent,a,t),s=["children",""+a]):to.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&_e("scroll",n)}switch(r){case"input":Ko(n),Bd(n,o,!0);break;case"textarea":Ko(n),Fd(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Hi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Jt]=e,t[ho]=n,Gp(t,e,!1,!1),e.stateNode=t;e:{switch(i=ou(r,n),r){case"dialog":_e("cancel",t),_e("close",t),s=n;break;case"iframe":case"object":case"embed":_e("load",t),s=n;break;case"video":case"audio":for(s=0;s<Us.length;s++)_e(Us[s],t);s=n;break;case"source":_e("error",t),s=n;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=n;break;case"details":_e("toggle",t),s=n;break;case"input":Vd(t,n),s=Xl(t,n),_e("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),_e("invalid",t);break;case"textarea":zd(t,n),s=ru(t,n),_e("invalid",t);break;default:s=n}su(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?j0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E0(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ro(t,l):typeof l=="number"&&ro(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(to.hasOwnProperty(o)?l!=null&&o==="onScroll"&&_e("scroll",t):l!=null&&pc(t,o,l,i))}switch(r){case"input":Ko(t),Bd(t,n,!1);break;case"textarea":Ko(t),Fd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$r(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?zn(t,!!n.multiple,o,!1):n.defaultValue!=null&&zn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)Zp(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(I(166));if(r=Yr(po.current),Yr(Yt.current),ti(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jt]=e,(o=n.nodeValue!==r)&&(t=yt,t!==null))switch(t.tag){case 3:ei(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ei(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=e,e.stateNode=n}return Qe(e),null;case 13:if(be(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&e.mode&1&&!(e.flags&128))pp(),Yn(),e.flags|=98560,o=!1;else if(o=ti(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(I(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(I(317));o[Jt]=e}else Yn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else Vt!==null&&(Uu(Vt),Vt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?ze===0&&(ze=3):Zc())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return es(),Pu(t,e),t===null&&uo(e.stateNode.containerInfo),Qe(e),null;case 10:return Lc(e.type._context),Qe(e),null;case 17:return dt(e.type)&&Ki(),Qe(e),null;case 19:if(be(Pe),o=e.memoizedState,o===null)return Qe(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Rs(o,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Xi(t),i!==null){for(e.flags|=128,Rs(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ye(Pe,Pe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ie()>rs&&(e.flags|=128,n=!0,Rs(o,!1),e.lanes=4194304)}else{if(!n)if(t=Xi(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ee)return Qe(e),null}else 2*Ie()-o.renderingStartTime>rs&&r!==1073741824&&(e.flags|=128,n=!0,Rs(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ie(),e.sibling=null,r=Pe.current,ye(Pe,n?r&1|2:r&1),e):(Qe(e),null);case 22:case 23:return Jc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?pt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function fy(t,e){switch(Nc(e),e.tag){case 1:return dt(e.type)&&Ki(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(),be(ct),be(Xe),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mc(e),null;case 13:if(be(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Yn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Pe),null;case 4:return es(),null;case 10:return Lc(e.type._context),null;case 22:case 23:return Jc(),null;case 24:return null;default:return null}}var si=!1,Ye=!1,py=typeof WeakSet=="function"?WeakSet:Set,F=null;function Vn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(t,e,n)}else r.current=null}function Au(t,e,r){try{r()}catch(n){$e(t,e,n)}}var Ah=!1;function my(t,e){if(mu=zi,t=tp(),jc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=i),f===o&&++d===n&&(l=i),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(gu={focusedElem:t,selectionRange:r},zi=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:It(e.type,w),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){$e(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return y=Ah,Ah=!1,y}function Gs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Au(e,r,o)}s=s.next}while(s!==n)}}function Ea(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qp(t){var e=t.alternate;e!==null&&(t.alternate=null,Qp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[ho],delete e[wu],delete e[Q1],delete e[Y1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yp(t){return t.tag===5||t.tag===3||t.tag===4}function Lh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hi));else if(n!==4&&(t=t.child,t!==null))for(Ou(t,e,r),t=t.sibling;t!==null;)Ou(t,e,r),t=t.sibling}function $u(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($u(t,e,r),t=t.sibling;t!==null;)$u(t,e,r),t=t.sibling}var qe=null,Dt=!1;function vr(t,e,r){for(r=r.child;r!==null;)Xp(t,e,r),r=r.sibling}function Xp(t,e,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(va,r)}catch{}switch(r.tag){case 5:Ye||Vn(r,e);case 6:var n=qe,s=Dt;qe=null,vr(t,e,r),qe=n,Dt=s,qe!==null&&(Dt?(t=qe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Dt?(t=qe,r=r.stateNode,t.nodeType===8?vl(t.parentNode,r):t.nodeType===1&&vl(t,r),io(t)):vl(qe,r.stateNode));break;case 4:n=qe,s=Dt,qe=r.stateNode.containerInfo,Dt=!0,vr(t,e,r),qe=n,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Au(r,e,i),s=s.next}while(s!==n)}vr(t,e,r);break;case 1:if(!Ye&&(Vn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){$e(r,e,a)}vr(t,e,r);break;case 21:vr(t,e,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,vr(t,e,r),Ye=n):vr(t,e,r);break;default:vr(t,e,r)}}function Oh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new py),e.forEach(function(n){var s=ky.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Dt=!1;break e;case 3:qe=a.stateNode.containerInfo,Dt=!0;break e;case 4:qe=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(qe===null)throw Error(I(160));Xp(o,i,s),qe=null,Dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)em(e,t),e=e.sibling}function em(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),qt(t),n&4){try{Gs(3,t,t.return),Ea(3,t)}catch(w){$e(t,t.return,w)}try{Gs(5,t,t.return)}catch(w){$e(t,t.return,w)}}break;case 1:Pt(e,t),qt(t),n&512&&r!==null&&Vn(r,r.return);break;case 5:if(Pt(e,t),qt(t),n&512&&r!==null&&Vn(r,r.return),t.flags&32){var s=t.stateNode;try{ro(s,"")}catch(w){$e(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&b0(s,o),ou(a,i);var u=ou(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?j0(s,h):d==="dangerouslySetInnerHTML"?E0(s,h):d==="children"?ro(s,h):pc(s,d,h,u)}switch(a){case"input":eu(s,o);break;case"textarea":S0(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?zn(s,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?zn(s,!!o.multiple,o.defaultValue,!0):zn(s,!!o.multiple,o.multiple?[]:"",!1))}s[ho]=o}catch(w){$e(t,t.return,w)}}break;case 6:if(Pt(e,t),qt(t),n&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){$e(t,t.return,w)}}break;case 3:if(Pt(e,t),qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{io(e.containerInfo)}catch(w){$e(t,t.return,w)}break;case 4:Pt(e,t),qt(t);break;case 13:Pt(e,t),qt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(qc=Ie())),n&4&&Oh(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||d,Pt(e,t),Ye=u):Pt(e,t),qt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(F=t,d=t.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,v=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Vn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){$e(n,r,w)}}break;case 5:Vn(f,f.return);break;case 22:if(f.memoizedState!==null){Ih(h);continue}}v!==null?(v.return=f,F=v):Ih(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C0("display",i))}catch(w){$e(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){$e(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(e,t),qt(t),n&4&&Oh(t);break;case 21:break;default:Pt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Yp(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ro(s,""),n.flags&=-33);var o=Lh(t);$u(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Lh(t);Ou(t,a,i);break;default:throw Error(I(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gy(t,e,r){F=t,tm(t)}function tm(t,e,r){for(var n=(t.mode&1)!==0;F!==null;){var s=F,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||si;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=si;var u=Ye;if(si=i,(Ye=l)&&!u)for(F=s;F!==null;)i=F,l=i.child,i.tag===22&&i.memoizedState!==null?Mh(s):l!==null?(l.return=i,F=l):Mh(s);for(;o!==null;)F=o,tm(o),o=o.sibling;F=s,si=a,Ye=u}$h(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,F=o):$h(t)}}function $h(t){for(;F!==null;){var e=F;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Ea(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:It(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wh(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wh(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&io(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ye||e.flags&512&&Lu(e)}catch(f){$e(e,e.return,f)}}if(e===t){F=null;break}if(r=e.sibling,r!==null){r.return=e.return,F=r;break}F=e.return}}function Ih(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var r=e.sibling;if(r!==null){r.return=e.return,F=r;break}F=e.return}}function Mh(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ea(4,e)}catch(l){$e(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){$e(e,s,l)}}var o=e.return;try{Lu(e)}catch(l){$e(e,o,l)}break;case 5:var i=e.return;try{Lu(e)}catch(l){$e(e,i,l)}}}catch(l){$e(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var vy=Math.ceil,ra=pr.ReactCurrentDispatcher,Hc=pr.ReactCurrentOwner,jt=pr.ReactCurrentBatchConfig,pe=0,He=null,De=null,Ge=0,pt=0,Bn=Ur(0),ze=0,yo=null,on=0,Ca=0,Kc=0,Js=null,at=null,qc=0,rs=1/0,rr=null,na=!1,Iu=null,Ar=null,oi=!1,Cr=null,sa=0,Zs=0,Mu=null,Pi=-1,Ai=0;function nt(){return pe&6?Ie():Pi!==-1?Pi:Pi=Ie()}function Lr(t){return t.mode&1?pe&2&&Ge!==0?Ge&-Ge:ey.transition!==null?(Ai===0&&(Ai=U0()),Ai):(t=me,t!==0||(t=window.event,t=t===void 0?16:K0(t.type)),t):1}function zt(t,e,r,n){if(50<Zs)throw Zs=0,Mu=null,Error(I(185));Co(t,r,n),(!(pe&2)||t!==He)&&(t===He&&(!(pe&2)&&(Ca|=r),ze===4&&Sr(t,Ge)),ht(t,n),r===1&&pe===0&&!(e.mode&1)&&(rs=Ie()+500,ba&&Vr()))}function ht(t,e){var r=t.callbackNode;e1(t,e);var n=Bi(t,t===He?Ge:0);if(n===0)r!==null&&Kd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Kd(r),e===1)t.tag===0?X1(Dh.bind(null,t)):dp(Dh.bind(null,t)),J1(function(){!(pe&6)&&Vr()}),r=null;else{switch(V0(n)){case 1:r=wc;break;case 4:r=M0;break;case 16:r=Vi;break;case 536870912:r=D0;break;default:r=Vi}r=um(r,rm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function rm(t,e){if(Pi=-1,Ai=0,pe&6)throw Error(I(327));var r=t.callbackNode;if(qn()&&t.callbackNode!==r)return null;var n=Bi(t,t===He?Ge:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=oa(t,n);else{e=n;var s=pe;pe|=2;var o=sm();(He!==t||Ge!==e)&&(rr=null,rs=Ie()+500,en(t,e));do try{_y();break}catch(a){nm(t,a)}while(!0);Ac(),ra.current=o,pe=s,De!==null?e=0:(He=null,Ge=0,e=ze)}if(e!==0){if(e===2&&(s=cu(t),s!==0&&(n=s,e=Du(t,s))),e===1)throw r=yo,en(t,0),Sr(t,n),ht(t,Ie()),r;if(e===6)Sr(t,n);else{if(s=t.current.alternate,!(n&30)&&!yy(s)&&(e=oa(t,n),e===2&&(o=cu(t),o!==0&&(n=o,e=Du(t,o))),e===1))throw r=yo,en(t,0),Sr(t,n),ht(t,Ie()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(I(345));case 2:Hr(t,at,rr);break;case 3:if(Sr(t,n),(n&130023424)===n&&(e=qc+500-Ie(),10<e)){if(Bi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yu(Hr.bind(null,t,at,rr),e);break}Hr(t,at,rr);break;case 4:if(Sr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Bt(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vy(n/1960))-n,10<n){t.timeoutHandle=yu(Hr.bind(null,t,at,rr),n);break}Hr(t,at,rr);break;case 5:Hr(t,at,rr);break;default:throw Error(I(329))}}}return ht(t,Ie()),t.callbackNode===r?rm.bind(null,t):null}function Du(t,e){var r=Js;return t.current.memoizedState.isDehydrated&&(en(t,e).flags|=256),t=oa(t,e),t!==2&&(e=at,at=r,e!==null&&Uu(e)),t}function Uu(t){at===null?at=t:at.push.apply(at,t)}function yy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Wt(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~Kc,e&=~Ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Bt(e),n=1<<r;t[r]=-1,e&=~n}}function Dh(t){if(pe&6)throw Error(I(327));qn();var e=Bi(t,0);if(!(e&1))return ht(t,Ie()),null;var r=oa(t,e);if(t.tag!==0&&r===2){var n=cu(t);n!==0&&(e=n,r=Du(t,n))}if(r===1)throw r=yo,en(t,0),Sr(t,e),ht(t,Ie()),r;if(r===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,at,rr),ht(t,Ie()),null}function Gc(t,e){var r=pe;pe|=1;try{return t(e)}finally{pe=r,pe===0&&(rs=Ie()+500,ba&&Vr())}}function an(t){Cr!==null&&Cr.tag===0&&!(pe&6)&&qn();var e=pe;pe|=1;var r=jt.transition,n=me;try{if(jt.transition=null,me=1,t)return t()}finally{me=n,jt.transition=r,pe=e,!(pe&6)&&Vr()}}function Jc(){pt=Bn.current,be(Bn)}function en(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,G1(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(Nc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ki();break;case 3:es(),be(ct),be(Xe),Dc();break;case 5:Mc(n);break;case 4:es();break;case 13:be(Pe);break;case 19:be(Pe);break;case 10:Lc(n.type._context);break;case 22:case 23:Jc()}r=r.return}if(He=t,De=t=Or(t.current,null),Ge=pt=e,ze=0,yo=null,Kc=Ca=on=0,at=Js=null,Qr!==null){for(e=0;e<Qr.length;e++)if(r=Qr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Qr=null}return t}function nm(t,e){do{var r=De;try{if(Ac(),Ri.current=ta,ea){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ea=!1}if(sn=0,We=Be=Ae=null,qs=!1,mo=0,Hc.current=null,r===null||r.return===null){ze=1,yo=e,De=null;break}e:{var o=t,i=r.return,a=r,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Eh(i);if(v!==null){v.flags&=-257,Ch(v,i,a,o,e),v.mode&1&&kh(o,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){kh(o,u,e),Zc();break e}l=Error(I(426))}}else if(Ee&&a.mode&1){var b=Eh(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ch(b,i,a,o,e),Tc(ts(l,a));break e}}o=l=ts(l,a),ze!==4&&(ze=2),Js===null?Js=[o]:Js.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Vp(o,l,e);yh(o,m);break e;case 1:a=l;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=Bp(o,a,e);yh(o,k);break e}}o=o.return}while(o!==null)}im(r)}catch(j){e=j,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function sm(){var t=ra.current;return ra.current=ta,t===null?ta:t}function Zc(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(on&268435455)&&!(Ca&268435455)||Sr(He,Ge)}function oa(t,e){var r=pe;pe|=2;var n=sm();(He!==t||Ge!==e)&&(rr=null,en(t,e));do try{wy();break}catch(s){nm(t,s)}while(!0);if(Ac(),pe=r,ra.current=n,De!==null)throw Error(I(261));return He=null,Ge=0,ze}function wy(){for(;De!==null;)om(De)}function _y(){for(;De!==null&&!Hv();)om(De)}function om(t){var e=lm(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?im(t):De=e,Hc.current=null}function im(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fy(r,e),r!==null){r.flags&=32767,De=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,De=null;return}}else if(r=hy(r,e,pt),r!==null){De=r;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);ze===0&&(ze=5)}function Hr(t,e,r){var n=me,s=jt.transition;try{jt.transition=null,me=1,xy(t,e,r,n)}finally{jt.transition=s,me=n}return null}function xy(t,e,r,n){do qn();while(Cr!==null);if(pe&6)throw Error(I(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(t1(t,o),t===He&&(De=He=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oi||(oi=!0,um(Vi,function(){return qn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var i=me;me=1;var a=pe;pe|=4,Hc.current=null,my(t,r),em(r,t),B1(gu),zi=!!mu,gu=mu=null,t.current=r,gy(r),Kv(),pe=a,me=i,jt.transition=o}else t.current=r;if(oi&&(oi=!1,Cr=t,sa=s),o=t.pendingLanes,o===0&&(Ar=null),Jv(r.stateNode),ht(t,Ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,t=Iu,Iu=null,t;return sa&1&&t.tag!==0&&qn(),o=t.pendingLanes,o&1?t===Mu?Zs++:(Zs=0,Mu=t):Zs=0,Vr(),null}function qn(){if(Cr!==null){var t=V0(sa),e=jt.transition,r=me;try{if(jt.transition=null,me=16>t?16:t,Cr===null)var n=!1;else{if(t=Cr,Cr=null,sa=0,pe&6)throw Error(I(331));var s=pe;for(pe|=4,F=t.current;F!==null;){var o=F,i=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Gs(8,d,o)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,v=d.return;if(Qp(d),d===u){F=null;break}if(f!==null){f.return=v,F=f;break}F=v}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,F=i;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var p=t.current;for(F=p;F!==null;){i=F;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,F=g;else e:for(i=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ea(9,a)}}catch(j){$e(a,a.return,j)}if(a===i){F=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,F=k;break e}F=a.return}}if(pe=s,Vr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(va,t)}catch{}n=!0}return n}finally{me=r,jt.transition=e}}return!1}function Uh(t,e,r){e=ts(r,e),e=Vp(t,e,1),t=Pr(t,e,1),e=nt(),t!==null&&(Co(t,1,e),ht(t,e))}function $e(t,e,r){if(t.tag===3)Uh(t,t,r);else for(;e!==null;){if(e.tag===3){Uh(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ar===null||!Ar.has(n))){t=ts(r,t),t=Bp(e,t,1),e=Pr(e,t,1),t=nt(),e!==null&&(Co(e,1,t),ht(e,t));break}}e=e.return}}function by(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&r,He===t&&(Ge&r)===r&&(ze===4||ze===3&&(Ge&130023424)===Ge&&500>Ie()-qc?en(t,0):Kc|=r),ht(t,e)}function am(t,e){e===0&&(t.mode&1?(e=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):e=1);var r=nt();t=dr(t,e),t!==null&&(Co(t,e,r),ht(t,r))}function Sy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),am(t,r)}function ky(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(e),am(t,r)}var lm;lm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)ut=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ut=!1,dy(t,e,r);ut=!!(t.flags&131072)}else ut=!1,Ee&&e.flags&1048576&&hp(e,Ji,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ti(t,e),t=e.pendingProps;var s=Qn(e,Xe.current);Kn(e,r),s=Vc(null,e,n,t,s,r);var o=Bc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(n)?(o=!0,qi(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$c(e),s.updater=ka,e.stateNode=s,s._reactInternals=e,Eu(e,n,t,r),e=Ru(null,e,n,!0,o,r)):(e.tag=0,Ee&&o&&Rc(e),tt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ti(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Cy(n),t=It(n,t),s){case 0:e=ju(null,e,n,t,r);break e;case 1:e=Nh(null,e,n,t,r);break e;case 11:e=jh(null,e,n,t,r);break e;case 14:e=Rh(null,e,n,It(n.type,t),r);break e}throw Error(I(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:It(n,s),ju(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:It(n,s),Nh(t,e,n,s,r);case 3:e:{if(Hp(e),t===null)throw Error(I(387));n=e.pendingProps,o=e.memoizedState,s=o.element,yp(t,e),Yi(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ts(Error(I(423)),e),e=Th(t,e,n,r,s);break e}else if(n!==s){s=ts(Error(I(424)),e),e=Th(t,e,n,r,s);break e}else for(vt=Tr(e.stateNode.containerInfo.firstChild),yt=e,Ee=!0,Vt=null,r=gp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yn(),n===s){e=hr(t,e,r);break e}tt(t,e,n,r)}e=e.child}return e;case 5:return wp(e),t===null&&bu(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,vu(n,s)?i=null:o!==null&&vu(n,o)&&(e.flags|=32),Wp(t,e),tt(t,e,i,r),e.child;case 6:return t===null&&bu(e),null;case 13:return Kp(t,e,r);case 4:return Ic(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xn(e,null,n,r):tt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:It(n,s),jh(t,e,n,s,r);case 7:return tt(t,e,e.pendingProps,r),e.child;case 8:return tt(t,e,e.pendingProps.children,r),e.child;case 12:return tt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,ye(Zi,n._currentValue),n._currentValue=i,o!==null)if(Wt(o.value,i)){if(o.children===s.children&&!ct.current){e=hr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=ar(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Su(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(I(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Su(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}tt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Kn(e,r),s=Rt(s),n=n(s),e.flags|=1,tt(t,e,n,r),e.child;case 14:return n=e.type,s=It(n,e.pendingProps),s=It(n.type,s),Rh(t,e,n,s,r);case 15:return zp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:It(n,s),Ti(t,e),e.tag=1,dt(n)?(t=!0,qi(e)):t=!1,Kn(e,r),Up(e,n,s),Eu(e,n,s,r),Ru(null,e,n,!0,t,r);case 19:return qp(t,e,r);case 22:return Fp(t,e,r)}throw Error(I(156,e.tag))};function um(t,e){return I0(t,e)}function Ey(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,r,n){return new Ey(t,e,r,n)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cy(t){if(typeof t=="function")return Qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gc)return 11;if(t===vc)return 14}return 2}function Or(t,e){var r=t.alternate;return r===null?(r=Ct(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Li(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")Qc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Pn:return tn(r.children,s,o,e);case mc:i=8,s|=8;break;case Jl:return t=Ct(12,r,e,s|2),t.elementType=Jl,t.lanes=o,t;case Zl:return t=Ct(13,r,e,s),t.elementType=Zl,t.lanes=o,t;case Ql:return t=Ct(19,r,e,s),t.elementType=Ql,t.lanes=o,t;case w0:return ja(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v0:i=10;break e;case y0:i=9;break e;case gc:i=11;break e;case vc:i=14;break e;case wr:i=16,n=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Ct(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function tn(t,e,r,n){return t=Ct(7,t,n,e),t.lanes=r,t}function ja(t,e,r,n){return t=Ct(22,t,n,e),t.elementType=w0,t.lanes=r,t.stateNode={isHidden:!1},t}function El(t,e,r){return t=Ct(6,t,null,e),t.lanes=r,t}function Cl(t,e,r){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jy(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yc(t,e,r,n,s,o,i,a,l){return t=new jy(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ct(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$c(o),t}function Ry(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cm(t){if(!t)return Ir;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var r=t.type;if(dt(r))return cp(t,r,e)}return e}function dm(t,e,r,n,s,o,i,a,l){return t=Yc(r,n,!0,t,s,o,i,a,l),t.context=cm(null),r=t.current,n=nt(),s=Lr(r),o=ar(n,s),o.callback=e??null,Pr(r,o,s),t.current.lanes=s,Co(t,s,n),ht(t,n),t}function Ra(t,e,r,n){var s=e.current,o=nt(),i=Lr(s);return r=cm(r),e.context===null?e.context=r:e.pendingContext=r,e=ar(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pr(s,e,i),t!==null&&(zt(t,s,i,o),ji(t,s,i)),i}function ia(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Xc(t,e){Vh(t,e),(t=t.alternate)&&Vh(t,e)}function Ny(){return null}var hm=typeof reportError=="function"?reportError:function(t){console.error(t)};function ed(t){this._internalRoot=t}Na.prototype.render=ed.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Ra(t,e,null,null)};Na.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;an(function(){Ra(null,t,null,null)}),e[cr]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var e=F0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<br.length&&e!==0&&e<br[r].priority;r++);br.splice(r,0,t),r===0&&H0(t)}};function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function Ty(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ia(i);o.call(u)}}var i=dm(e,n,t,0,null,!1,!1,"",Bh);return t._reactRootContainer=i,t[cr]=i.current,uo(t.nodeType===8?t.parentNode:t),an(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ia(l);a.call(u)}}var l=Yc(t,0,!1,null,null,!1,!1,"",Bh);return t._reactRootContainer=l,t[cr]=l.current,uo(t.nodeType===8?t.parentNode:t),an(function(){Ra(e,l,r,n)}),l}function Pa(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=ia(i);a.call(l)}}Ra(e,i,t,s)}else i=Ty(r,e,t,s,n);return ia(i)}B0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ds(e.pendingLanes);r!==0&&(_c(e,r|1),ht(e,Ie()),!(pe&6)&&(rs=Ie()+500,Vr()))}break;case 13:an(function(){var n=dr(t,1);if(n!==null){var s=nt();zt(n,t,1,s)}}),Xc(t,1)}};xc=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var r=nt();zt(e,t,134217728,r)}Xc(t,134217728)}};z0=function(t){if(t.tag===13){var e=Lr(t),r=dr(t,e);if(r!==null){var n=nt();zt(r,t,e,n)}Xc(t,e)}};F0=function(){return me};W0=function(t,e){var r=me;try{return me=t,e()}finally{me=r}};au=function(t,e,r){switch(e){case"input":if(eu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=xa(n);if(!s)throw Error(I(90));x0(n),eu(n,s)}}}break;case"textarea":S0(t,r);break;case"select":e=r.value,e!=null&&zn(t,!!r.multiple,e,!1)}};T0=Gc;P0=an;var Py={usingClientEntryPoint:!1,Events:[Ro,$n,xa,R0,N0,Gc]},Ns={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ay={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{va=ii.inject(Ay),Qt=ii}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py;_t.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(e))throw Error(I(200));return Ry(t,e,null,r)};_t.createRoot=function(t,e){if(!td(t))throw Error(I(299));var r=!1,n="",s=hm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yc(t,1,!1,null,null,r,!1,n,s),t[cr]=e.current,uo(t.nodeType===8?t.parentNode:t),new ed(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=O0(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return an(t)};_t.hydrate=function(t,e,r){if(!Ta(e))throw Error(I(200));return Pa(null,t,e,!0,r)};_t.hydrateRoot=function(t,e,r){if(!td(t))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=hm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=dm(e,null,t,1,r??null,s,!1,o,i),t[cr]=e.current,uo(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Na(e)};_t.render=function(t,e,r){if(!Ta(e))throw Error(I(200));return Pa(null,t,e,!1,r)};_t.unmountComponentAtNode=function(t){if(!Ta(t))throw Error(I(40));return t._reactRootContainer?(an(function(){Pa(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};_t.unstable_batchedUpdates=Gc;_t.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ta(r))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Pa(t,e,r,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(t){console.error(t)}}fm(),f0.exports=_t;var pm=f0.exports;const Ly=e0(pm);var zh=pm;ql.createRoot=zh.createRoot,ql.hydrateRoot=zh.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fh="popstate";function Oy(t={}){function e(n,s){let{pathname:o,search:i,hash:a}=n.location;return Vu("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:wo(s)}return Iy(e,r,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $y(){return Math.random().toString(36).substring(2,10)}function Wh(t,e){return{usr:t.state,key:t.key,idx:e}}function Vu(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cs(e):e,state:r,key:e&&e.key||n||$y()}}function wo({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Iy(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a="POP",l=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function h(){a="POP";let b=d(),m=b==null?null:b-u;u=b,l&&l({action:a,location:w.location,delta:m})}function f(b,m){a="PUSH";let p=Vu(w.location,b,m);u=d()+1;let g=Wh(p,u),k=w.createHref(p);try{i.pushState(g,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}o&&l&&l({action:a,location:w.location,delta:1})}function v(b,m){a="REPLACE";let p=Vu(w.location,b,m);u=d();let g=Wh(p,u),k=w.createHref(p);i.replaceState(g,"",k),o&&l&&l({action:a,location:w.location,delta:0})}function y(b){return My(b)}let w={get action(){return a},get location(){return t(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Fh,h),l=b,()=>{s.removeEventListener(Fh,h),l=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(b){return i.go(b)}};return w}function My(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:wo(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mm(t,e,r="/"){return Dy(t,e,r,!1)}function Dy(t,e,r,n){let s=typeof e=="string"?cs(e):e,o=fr(s.pathname||"/",r);if(o==null)return null;let i=gm(t);Uy(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=Zy(o);a=Gy(i[l],u,n)}return a}function gm(t,e=[],r=[],n="",s=!1){let o=(i,a,l=s,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Le(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=lr([n,d.relativePath]),f=r.concat(d);i.children&&i.children.length>0&&(Le(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),gm(i.children,e,f,h,l)),!(i.path==null&&!i.index)&&e.push({path:h,score:Ky(h,i.index),routesMeta:f})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let u of vm(i.path))o(i,a,!0,u)}),e}function vm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=vm(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qy(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Vy=/^:[\w-]+$/,By=3,zy=2,Fy=1,Wy=10,Hy=-2,Hh=t=>t==="*";function Ky(t,e){let r=t.split("/"),n=r.length;return r.some(Hh)&&(n+=Hy),e&&(n+=zy),r.filter(s=>!Hh(s)).reduce((s,o)=>s+(Vy.test(o)?By:o===""?Fy:Wy),n)}function qy(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Gy(t,e,r=!1){let{routesMeta:n}=t,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=aa({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=aa({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:lr([o,h.pathname]),pathnameBase:ew(lr([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=lr([o,h.pathnameBase]))}return i}function aa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Jy(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=a[f]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function Jy(t,e=!1,r=!0){Xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Zy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Qy(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?cs(t):t;return{pathname:r?r.startsWith("/")?r:Yy(r,e):e,search:tw(n),hash:rw(s)}}function Yy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jl(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ym(t){let e=Xy(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function wm(t,e,r,n=!1){let s;typeof t=="string"?s=cs(t):(s={...t},Le(!s.pathname||!s.pathname.includes("?"),jl("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),jl("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),jl("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Qy(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var lr=t=>t.join("/").replace(/\/\/+/g,"/"),ew=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _m=["POST","PUT","PATCH","DELETE"];new Set(_m);var sw=["GET",..._m];new Set(sw);var ds=S.createContext(null);ds.displayName="DataRouter";var Aa=S.createContext(null);Aa.displayName="DataRouterState";S.createContext(!1);var xm=S.createContext({isTransitioning:!1});xm.displayName="ViewTransition";var ow=S.createContext(new Map);ow.displayName="Fetchers";var iw=S.createContext(null);iw.displayName="Await";var er=S.createContext(null);er.displayName="Navigation";var To=S.createContext(null);To.displayName="Location";var tr=S.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var rd=S.createContext(null);rd.displayName="RouteError";function aw(t,{relative:e}={}){Le(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(er),{hash:s,pathname:o,search:i}=Ao(t,{relative:e}),a=o;return r!=="/"&&(a=o==="/"?r:lr([r,o])),n.createHref({pathname:a,search:i,hash:s})}function Po(){return S.useContext(To)!=null}function mr(){return Le(Po(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(To).location}var bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sm(t){S.useContext(er).static||S.useLayoutEffect(t)}function bt(){let{isDataRoute:t}=S.useContext(tr);return t?_w():lw()}function lw(){Le(Po(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(ds),{basename:e,navigator:r}=S.useContext(er),{matches:n}=S.useContext(tr),{pathname:s}=mr(),o=JSON.stringify(ym(n)),i=S.useRef(!1);return Sm(()=>{i.current=!0}),S.useCallback((l,u={})=>{if(Xt(i.current,bm),!i.current)return;if(typeof l=="number"){r.go(l);return}let d=wm(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:lr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}S.createContext(null);function km(){let{matches:t}=S.useContext(tr),e=t[t.length-1];return e?e.params:{}}function Ao(t,{relative:e}={}){let{matches:r}=S.useContext(tr),{pathname:n}=mr(),s=JSON.stringify(ym(r));return S.useMemo(()=>wm(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function uw(t,e){return Em(t,e)}function Em(t,e,r,n,s){var p;Le(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(er),{matches:i}=S.useContext(tr),a=i[i.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let g=h&&h.path||"";Cm(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=mr(),v;if(e){let g=typeof e=="string"?cs(e):e;Le(d==="/"||((p=g.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),v=g}else v=f;let y=v.pathname||"/",w=y;if(d!=="/"){let g=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=mm(t,{pathname:w});Xt(h||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=pw(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:lr([d,o.encodeLocation?o.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:lr([d,o.encodeLocation?o.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),i,r,n,s);return e&&m?S.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},m):m}function cw(){let t=ww(),e=nw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,i)}var dw=S.createElement(cw,null),hw=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(tr.Provider,{value:this.props.routeContext},S.createElement(rd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fw({routeContext:t,match:e,children:r}){let n=S.useContext(ds);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(tr.Provider,{value:t},r)}function pw(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,i=r==null?void 0:r.errors;if(i!=null){let u=o.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Le(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,l=-1;if(r)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=r,v=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,v=!1,y=null,w=null;r&&(f=i&&d.route.id?i[d.route.id]:void 0,y=d.route.errorElement||dw,a&&(l<0&&h===0?(Cm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===h&&(v=!0,w=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),m=()=>{let p;return f?p=y:v?p=w:d.route.Component?p=S.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,S.createElement(fw,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(hw,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):m()},null)}function nd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(t){let e=S.useContext(ds);return Le(e,nd(t)),e}function gw(t){let e=S.useContext(Aa);return Le(e,nd(t)),e}function vw(t){let e=S.useContext(tr);return Le(e,nd(t)),e}function sd(t){let e=vw(t),r=e.matches[e.matches.length-1];return Le(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function yw(){return sd("useRouteId")}function ww(){var n;let t=S.useContext(rd),e=gw("useRouteError"),r=sd("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function _w(){let{router:t}=mw("useNavigate"),e=sd("useNavigate"),r=S.useRef(!1);return Sm(()=>{r.current=!0}),S.useCallback(async(s,o={})=>{Xt(r.current,bm),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Kh={};function Cm(t,e,r){!e&&!Kh[t]&&(Kh[t]=!0,Xt(!1,r))}S.memo(xw);function xw({routes:t,future:e,state:r,unstable_onError:n}){return Em(t,void 0,r,n,e)}function At(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:o=!1}){Le(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:i,navigator:s,static:o,future:{}}),[i,s,o]);typeof r=="string"&&(r=cs(r));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,v=S.useMemo(()=>{let y=fr(l,i);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:n}},[i,l,u,d,h,f,n]);return Xt(v!=null,`<Router basename="${i}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(er.Provider,{value:a},S.createElement(To.Provider,{children:e,value:v}))}function Sw({children:t,location:e}){return uw(Bu(t),e)}function Bu(t,e=[]){let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let o=[...e,s];if(n.type===S.Fragment){r.push.apply(r,Bu(n.props.children,o));return}Le(n.type===At,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Bu(n.props.children,o)),r.push(i)}),r}var Oi="get",$i="application/x-www-form-urlencoded";function La(t){return t!=null&&typeof t.tagName=="string"}function kw(t){return La(t)&&t.tagName.toLowerCase()==="button"}function Ew(t){return La(t)&&t.tagName.toLowerCase()==="form"}function Cw(t){return La(t)&&t.tagName.toLowerCase()==="input"}function jw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rw(t,e){return t.button===0&&(!e||e==="_self")&&!jw(t)}var ai=null;function Nw(){if(ai===null)try{new FormData(document.createElement("form"),0),ai=!1}catch{ai=!0}return ai}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rl(t){return t!=null&&!Tw.has(t)?(Xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$i}"`),null):t}function Pw(t,e){let r,n,s,o,i;if(Ew(t)){let a=t.getAttribute("action");n=a?fr(a,e):null,r=t.getAttribute("method")||Oi,s=Rl(t.getAttribute("enctype"))||$i,o=new FormData(t)}else if(kw(t)||Cw(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?fr(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Oi,s=Rl(t.getAttribute("formenctype"))||Rl(a.getAttribute("enctype"))||$i,o=new FormData(a,t),!Nw()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,h)}}else{if(La(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Oi,n=null,s=$i,i=t}return o&&s==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function od(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aw(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Lw(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ow(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $w(t,e,r){let n=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let i=await Lw(o,r);return i.links?i.links():[]}return[]}));return Uw(n.flat(1).filter(Ow).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qh(t,e,r,n,s,o){let i=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>i(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var h;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(i(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Iw(t,e,{includeHydrateFallback:r}={}){return Mw(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Mw(t){return[...new Set(t)]}function Dw(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Uw(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let o=JSON.stringify(Dw(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function jm(){let t=S.useContext(ds);return od(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vw(){let t=S.useContext(Aa);return od(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var id=S.createContext(void 0);id.displayName="FrameworkContext";function Rm(){let t=S.useContext(id);return od(t,"You must render this element inside a <HydratedRouter> element"),t}function Bw(t,e){let r=S.useContext(id),[n,s]=S.useState(!1),[o,i]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let w=m=>{m.forEach(p=>{i(p.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),S.useEffect(()=>{if(n){let w=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},y=()=>{s(!1),i(!1)};return r?t!=="intent"?[o,f,{}]:[o,f,{onFocus:Ts(a,v),onBlur:Ts(l,y),onMouseEnter:Ts(u,v),onMouseLeave:Ts(d,y),onTouchStart:Ts(h,v)}]:[!1,f,{}]}function Ts(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function zw({page:t,...e}){let{router:r}=jm(),n=S.useMemo(()=>mm(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(Ww,{page:t,matches:n,...e}):null}function Fw(t){let{manifest:e,routeModules:r}=Rm(),[n,s]=S.useState([]);return S.useEffect(()=>{let o=!1;return $w(t,e,r).then(i=>{o||s(i)}),()=>{o=!0}},[t,e,r]),n}function Ww({page:t,matches:e,...r}){let n=mr(),{manifest:s,routeModules:o}=Rm(),{basename:i}=jm(),{loaderData:a,matches:l}=Vw(),u=S.useMemo(()=>qh(t,e,l,s,n,"data"),[t,e,l,s,n]),d=S.useMemo(()=>qh(t,e,l,s,n,"assets"),[t,e,l,s,n]),h=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(e.forEach(m=>{var g;let p=s.routes[m.route.id];!p||!p.hasLoader||(!u.some(k=>k.route.id===m.route.id)&&m.route.id in a&&((g=o[m.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?w=!0:y.add(m.route.id))}),y.size===0)return[];let b=Aw(t,i,"data");return w&&y.size>0&&b.searchParams.set("_routes",e.filter(m=>y.has(m.route.id)).map(m=>m.route.id).join(",")),[b.pathname+b.search]},[i,a,n,s,u,e,t,o]),f=S.useMemo(()=>Iw(d,s),[d,s]),v=Fw(d);return S.createElement(S.Fragment,null,h.map(y=>S.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>S.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:w})=>S.createElement("link",{key:y,nonce:r.nonce,...w})))}function Hw(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Nm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nm&&(window.__reactRouterVersion="7.9.5")}catch{}function Kw({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=Oy({window:r,v5Compat:!0}));let s=n.current,[o,i]=S.useState({action:s.action,location:s.location}),a=S.useCallback(l=>{S.startTransition(()=>i(l))},[i]);return S.useLayoutEffect(()=>s.listen(a),[s,a]),S.createElement(bw,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var Tm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pm=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:i,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},v){let{basename:y}=S.useContext(er),w=typeof u=="string"&&Tm.test(u),b,m=!1;if(typeof u=="string"&&w&&(b=u,Nm))try{let W=new URL(window.location.href),B=u.startsWith("//")?new URL(W.protocol+u):new URL(u),ae=fr(B.pathname,y);B.origin===W.origin&&ae!=null?u=ae+B.search+B.hash:m=!0}catch{Xt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=aw(u,{relative:s}),[g,k,j]=Bw(n,f),R=Zw(u,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function N(W){e&&e(W),W.defaultPrevented||R(W)}let O=S.createElement("a",{...f,...j,href:b||p,onClick:m||o?e:N,ref:Hw(v,k),target:l,"data-discover":!w&&r==="render"?"true":void 0});return g&&!w?S.createElement(S.Fragment,null,O,S.createElement(zw,{page:p})):O});Pm.displayName="Link";var qw=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:i,viewTransition:a,children:l,...u},d){let h=Ao(i,{relative:u.relative}),f=mr(),v=S.useContext(Aa),{navigator:y,basename:w}=S.useContext(er),b=v!=null&&t_(h)&&a===!0,m=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,p=f.pathname,g=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(p=p.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&w&&(g=fr(g,w)||g);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let j=p===m||!s&&p.startsWith(m)&&p.charAt(k)==="/",R=g!=null&&(g===m||!s&&g.startsWith(m)&&g.charAt(m.length)==="/"),N={isActive:j,isPending:R,isTransitioning:b},O=j?e:void 0,W;typeof n=="function"?W=n(N):W=[n,j?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(N):o;return S.createElement(Pm,{...u,"aria-current":O,className:W,ref:d,style:B,to:i,viewTransition:a},typeof l=="function"?l(N):l)});qw.displayName="NavLink";var Gw=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:o,method:i=Oi,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},v)=>{let y=Xw(),w=e_(a,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&Tm.test(a),p=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let k=g.nativeEvent.submitter,j=(k==null?void 0:k.getAttribute("formmethod"))||i;y(k||g.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:s,state:o,relative:u,preventScrollReset:d,viewTransition:h})};return S.createElement("form",{ref:v,method:b,action:w,onSubmit:n?l:p,...f,"data-discover":!m&&t==="render"?"true":void 0})});Gw.displayName="Form";function Jw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Am(t){let e=S.useContext(ds);return Le(e,Jw(t)),e}function Zw(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:i}={}){let a=bt(),l=mr(),u=Ao(t,{relative:o});return S.useCallback(d=>{if(Rw(d,e)){d.preventDefault();let h=r!==void 0?r:wo(l)===wo(u);a(t,{replace:h,state:n,preventScrollReset:s,relative:o,viewTransition:i})}},[l,a,u,r,n,e,t,s,o,i])}var Qw=0,Yw=()=>`__${String(++Qw)}__`;function Xw(){let{router:t}=Am("useSubmit"),{basename:e}=S.useContext(er),r=yw();return S.useCallback(async(n,s={})=>{let{action:o,method:i,encType:a,formData:l,body:u}=Pw(n,e);if(s.navigate===!1){let d=s.fetcherKey||Yw();await t.fetch(d,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function e_(t,{relative:e}={}){let{basename:r}=S.useContext(er),n=S.useContext(tr);Le(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Ao(t||".",{relative:e})},i=mr();if(t==null){o.search=i.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:lr([r,o.pathname])),wo(o)}function t_(t,{relative:e}={}){let r=S.useContext(xm);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Am("useViewTransitionState"),s=Ao(t,{relative:e});if(!r.isTransitioning)return!1;let o=fr(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=fr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return aa(s.pathname,i)!=null||aa(s.pathname,o)!=null}var Lm={};function r_(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var n_=r_,le=n_;function s_(t){return!!t&&typeof t.then=="function"}var xe=s_;function o_(t,e){if(t!=null)return t;throw le(e??"Got unexpected null or undefined")}var Ce=o_;function ie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Oa{getValue(){throw le("BaseLoadable")}toPromise(){throw le("BaseLoadable")}valueMaybe(){throw le("BaseLoadable")}valueOrThrow(){throw le(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw le("BaseLoadable")}promiseOrThrow(){throw le(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw le("BaseLoadable")}errorOrThrow(){throw le(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw le("BaseLoadable")}}class i_ extends Oa{constructor(e){super(),ie(this,"state","hasValue"),ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const r=e(this.contents);return xe(r)?ln(r):ns(r)?r:Lo(r)}catch(r){return xe(r)?ln(r.next(()=>this.map(e))):$a(r)}}}class a_ extends Oa{constructor(e){super(),ie(this,"state","hasError"),ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Om extends Oa{constructor(e){super(),ie(this,"state","loading"),ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ln(this.contents.then(r=>{const n=e(r);if(ns(n)){const s=n;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return n}).catch(r=>{if(xe(r))return r.then(()=>this.map(e).contents);throw r}))}}function Lo(t){return Object.freeze(new i_(t))}function $a(t){return Object.freeze(new a_(t))}function ln(t){return Object.freeze(new Om(t))}function $m(){return Object.freeze(new Om(new Promise(()=>{})))}function l_(t){return t.every(e=>e.state==="hasValue")?Lo(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?$a(Ce(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ln(Promise.all(t.map(e=>e.contents)))}function Im(t){const r=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>ns(s)?s:xe(s)?ln(s):Lo(s)),n=l_(r);return Array.isArray(t)?n:n.map(s=>Object.getOwnPropertyNames(t).reduce((o,i,a)=>({...o,[i]:s[a]}),{}))}function ns(t){return t instanceof Oa}const u_={of:t=>xe(t)?ln(t):ns(t)?t:Lo(t),error:t=>$a(t),loading:()=>$m(),all:Im,isLoadable:ns};var pn={loadableWithValue:Lo,loadableWithError:$a,loadableWithPromise:ln,loadableLoading:$m,loadableAll:Im,isLoadable:ns,RecoilLoadable:u_},c_=pn.loadableWithValue,d_=pn.loadableWithError,h_=pn.loadableWithPromise,f_=pn.loadableLoading,p_=pn.loadableAll,m_=pn.isLoadable,g_=pn.RecoilLoadable,Oo=Object.freeze({__proto__:null,loadableWithValue:c_,loadableWithError:d_,loadableWithPromise:h_,loadableLoading:f_,loadableAll:p_,isLoadable:m_,RecoilLoadable:g_});const zu={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function v_(t,e){var r,n;const s=(r=Lm[t])===null||r===void 0||(n=r.toLowerCase())===null||n===void 0?void 0:n.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw le(`process.env.${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function y_(t,e){var r;const n=(r=Lm[t])===null||r===void 0?void 0:r.trim();n==null||n===""||e(n.split(/\s*,\s*|\s+/))}function w_(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(v_("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{zu.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),y_("RECOIL_GKS_ENABLED",e=>{e.forEach(r=>{zu.RECOIL_GKS_ENABLED.add(r)})}))}w_();var $o=zu;function Ia(t){return $o.RECOIL_GKS_ENABLED.has(t)}Ia.setPass=t=>{$o.RECOIL_GKS_ENABLED.add(t)};Ia.setFail=t=>{$o.RECOIL_GKS_ENABLED.delete(t)};Ia.clear=()=>{$o.RECOIL_GKS_ENABLED.clear()};var we=Ia;function __(t,e,{error:r}={}){return null}var x_=__,ft=x_,Nl,Tl,Pl;const b_=(Nl=Re.createMutableSource)!==null&&Nl!==void 0?Nl:Re.unstable_createMutableSource,Mm=(Tl=Re.useMutableSource)!==null&&Tl!==void 0?Tl:Re.unstable_useMutableSource,ad=(Pl=Re.useSyncExternalStore)!==null&&Pl!==void 0?Pl:Re.unstable_useSyncExternalStore;let Gh=!1;function S_(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:r}=Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=((t=e==null?void 0:e.current)!==null&&t!==void 0?t:r.currentDispatcher).useSyncExternalStore!=null;return ad&&!s&&!Gh&&(Gh=!0,ft()),s}function k_(){return we("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:we("recoil_sync_external_store")&&ad!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:we("recoil_mutable_source")&&Mm!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?we("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:we("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var ld={createMutableSource:b_,useMutableSource:Mm,useSyncExternalStore:ad,currentRendererSupportsUseSyncExternalStore:S_,reactMode:k_};class ud{constructor(e){ie(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Dm extends ud{}class Um extends ud{}function E_(t){return t instanceof Dm||t instanceof Um}var Ma={AbstractRecoilValue:ud,RecoilState:Dm,RecoilValueReadOnly:Um,isRecoilValue:E_},C_=Ma.AbstractRecoilValue,j_=Ma.RecoilState,R_=Ma.RecoilValueReadOnly,N_=Ma.isRecoilValue,un=Object.freeze({__proto__:null,AbstractRecoilValue:C_,RecoilState:j_,RecoilValueReadOnly:R_,isRecoilValue:N_});function T_(t,...e){}var P_=T_,Vm=P_;function A_(t,e){return function*(){let r=0;for(const n of t)yield e(n,r++)}()}var Da=A_;class Bm{}const L_=new Bm,ss=new Map,cd=new Map;function O_(t){return Da(t,e=>Ce(cd.get(e)))}function $_(t){if(ss.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function I_(t){$o.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&$_(t.key),ss.set(t.key,t);const e=t.set==null?new un.RecoilValueReadOnly(t.key):new un.RecoilState(t.key);return cd.set(t.key,e),e}class M_ extends Error{}function D_(t){const e=ss.get(t);if(e==null)throw new M_(`Missing definition for RecoilValue: "${t}""`);return e}function U_(t){return ss.get(t)}const la=new Map;function V_(t){var e;if(!we("recoil_memory_managament_2020"))return;const r=ss.get(t);if(r!=null&&(e=r.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(r)){var n;ss.delete(t),(n=zm(t))===null||n===void 0||n(),la.delete(t)}}function B_(t,e){we("recoil_memory_managament_2020")&&(e===void 0?la.delete(t):la.set(t,e))}function zm(t){return la.get(t)}var Ht={recoilValues:cd,registerNode:I_,getNode:D_,getNodeMaybe:U_,deleteNodeConfigIfPossible:V_,setConfigDeletionHandler:B_,getConfigDeletionHandler:zm,recoilValuesForKeys:O_,DefaultValue:Bm,DEFAULT_VALUE:L_};function z_(t,e){e()}var F_={enqueueExecution:z_};function W_(t,e){return e={exports:{}},t(e,e.exports),e.exports}var H_=W_(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},r={},n=5,s=Math.pow(2,n),o=s-1,i=s/2,a=s/4,l={},u=function(E){return function(){return E}},d=r.hash=function(C){var E=typeof C>"u"?"undefined":e(C);if(E==="number")return C;E!=="string"&&(C+="");for(var $=0,U=0,V=C.length;U<V;++U){var H=C.charCodeAt(U);$=($<<5)-$+H|0}return $},h=function(E){return E-=E>>1&1431655765,E=(E&858993459)+(E>>2&858993459),E=E+(E>>4)&252645135,E+=E>>8,E+=E>>16,E&127},f=function(E,$){return $>>>E&o},v=function(E){return 1<<E},y=function(E,$){return h(E&$-1)},w=function(E,$,U,V){var H=V;if(!E){var oe=V.length;H=new Array(oe);for(var re=0;re<oe;++re)H[re]=V[re]}return H[$]=U,H},b=function(E,$,U){var V=U.length-1,H=0,oe=0,re=U;if(E)H=oe=$;else for(re=new Array(V);H<$;)re[oe++]=U[H++];for(++H;H<=V;)re[oe++]=U[H++];return E&&(re.length=V),re},m=function(E,$,U,V){var H=V.length;if(E){for(var oe=H;oe>=$;)V[oe--]=V[oe];return V[$]=U,V}for(var re=0,ne=0,ce=new Array(H+1);re<$;)ce[ne++]=V[re++];for(ce[$]=U;re<H;)ce[++ne]=V[re++];return ce},p=1,g=2,k=3,j=4,R={__hamt_isEmpty:!0},N=function(E){return E===R||E&&E.__hamt_isEmpty},O=function(E,$,U,V){return{type:p,edit:E,hash:$,key:U,value:V,_modify:M}},W=function(E,$,U){return{type:g,edit:E,hash:$,children:U,_modify:G}},B=function(E,$,U){return{type:k,edit:E,mask:$,children:U,_modify:x}},ae=function(E,$,U){return{type:j,edit:E,size:$,children:U,_modify:T}},Ne=function(E){return E===R||E.type===p||E.type===g},he=function(E,$,U,V,H){for(var oe=[],re=V,ne=0,ce=0;re;++ce)re&1&&(oe[ce]=H[ne++]),re>>>=1;return oe[$]=U,ae(E,ne+1,oe)},Se=function(E,$,U,V){for(var H=new Array($-1),oe=0,re=0,ne=0,ce=V.length;ne<ce;++ne)if(ne!==U){var ke=V[ne];ke&&!N(ke)&&(H[oe++]=ke,re|=1<<ne)}return B(E,re,H)},Ke=function C(E,$,U,V,H,oe){if(U===H)return W(E,U,[oe,V]);var re=f($,U),ne=f($,H);return B(E,v(re)|v(ne),re===ne?[C(E,$+n,U,V,H,oe)]:re<ne?[V,oe]:[oe,V])},ge=function(E,$,U,V,H,oe,re,ne){for(var ce=H.length,ke=0;ke<ce;++ke){var it=H[ke];if(U(re,it.key)){var Fe=it.value,St=oe(Fe);return St===Fe?H:St===l?(--ne.value,b(E,ke,H)):w(E,ke,O($,V,re,St),H)}}var Tt=oe();return Tt===l?H:(++ne.value,w(E,ce,O($,V,re,Tt),H))},Ue=function(E,$){return E===$.edit},M=function(E,$,U,V,H,oe,re){if($(oe,this.key)){var ne=V(this.value);return ne===this.value?this:ne===l?(--re.value,R):Ue(E,this)?(this.value=ne,this):O(E,H,oe,ne)}var ce=V();return ce===l?this:(++re.value,Ke(E,U,this.hash,this,H,O(E,H,oe,ce)))},G=function(E,$,U,V,H,oe,re){if(H===this.hash){var ne=Ue(E,this),ce=ge(ne,E,$,this.hash,this.children,V,oe,re);return ce===this.children?this:ce.length>1?W(E,this.hash,ce):ce[0]}var ke=V();return ke===l?this:(++re.value,Ke(E,U,this.hash,this,H,O(E,H,oe,ke)))},x=function(E,$,U,V,H,oe,re){var ne=this.mask,ce=this.children,ke=f(U,H),it=v(ke),Fe=y(ne,it),St=ne&it,Tt=St?ce[Fe]:R,_n=Tt._modify(E,$,U+n,V,H,oe,re);if(Tt===_n)return this;var Fo=Ue(E,this),_s=ne,xs=void 0;if(St&&N(_n)){if(_s&=~it,!_s)return R;if(ce.length<=2&&Ne(ce[Fe^1]))return ce[Fe^1];xs=b(Fo,Fe,ce)}else if(!St&&!N(_n)){if(ce.length>=i)return he(E,ke,_n,ne,ce);_s|=it,xs=m(Fo,Fe,_n,ce)}else xs=w(Fo,Fe,_n,ce);return Fo?(this.mask=_s,this.children=xs,this):B(E,_s,xs)},T=function(E,$,U,V,H,oe,re){var ne=this.size,ce=this.children,ke=f(U,H),it=ce[ke],Fe=(it||R)._modify(E,$,U+n,V,H,oe,re);if(it===Fe)return this;var St=Ue(E,this),Tt=void 0;if(N(it)&&!N(Fe))++ne,Tt=w(St,ke,Fe,ce);else if(!N(it)&&N(Fe)){if(--ne,ne<=a)return Se(E,ne,ke,ce);Tt=w(St,ke,R,ce)}else Tt=w(St,ke,Fe,ce);return St?(this.size=ne,this.children=Tt,this):ae(E,ne,Tt)};R._modify=function(C,E,$,U,V,H,oe){var re=U();return re===l?R:(++oe.value,O(C,V,H,re))};function _(C,E,$,U,V){this._editable=C,this._edit=E,this._config=$,this._root=U,this._size=V}_.prototype.setTree=function(C,E){return this._editable?(this._root=C,this._size=E,this):C===this._root?this:new _(this._editable,this._edit,this._config,C,E)};var P=r.tryGetHash=function(C,E,$,U){for(var V=U._root,H=0,oe=U._config.keyEq;;)switch(V.type){case p:return oe($,V.key)?V.value:C;case g:{if(E===V.hash)for(var re=V.children,ne=0,ce=re.length;ne<ce;++ne){var ke=re[ne];if(oe($,ke.key))return ke.value}return C}case k:{var it=f(H,E),Fe=v(it);if(V.mask&Fe){V=V.children[y(V.mask,Fe)],H+=n;break}return C}case j:{if(V=V.children[f(H,E)],V){H+=n;break}return C}default:return C}};_.prototype.tryGetHash=function(C,E,$){return P(C,E,$,this)};var L=r.tryGet=function(C,E,$){return P(C,$._config.hash(E),E,$)};_.prototype.tryGet=function(C,E){return L(C,E,this)};var J=r.getHash=function(C,E,$){return P(void 0,C,E,$)};_.prototype.getHash=function(C,E){return J(C,E,this)},r.get=function(C,E){return P(void 0,E._config.hash(C),C,E)},_.prototype.get=function(C,E){return L(E,C,this)};var D=r.has=function(C,E,$){return P(l,C,E,$)!==l};_.prototype.hasHash=function(C,E){return D(C,E,this)};var Y=r.has=function(C,E){return D(E._config.hash(C),C,E)};_.prototype.has=function(C){return Y(C,this)};var A=function(E,$){return E===$};r.make=function(C){return new _(0,0,{keyEq:C&&C.keyEq||A,hash:C&&C.hash||d},R,0)},r.empty=r.make();var z=r.isEmpty=function(C){return C&&!!N(C._root)};_.prototype.isEmpty=function(){return z(this)};var te=r.modifyHash=function(C,E,$,U){var V={value:U._size},H=U._root._modify(U._editable?U._edit:NaN,U._config.keyEq,0,C,E,$,V);return U.setTree(H,V.value)};_.prototype.modifyHash=function(C,E,$){return te($,C,E,this)};var X=r.modify=function(C,E,$){return te(C,$._config.hash(E),E,$)};_.prototype.modify=function(C,E){return X(E,C,this)};var Z=r.setHash=function(C,E,$,U){return te(u($),C,E,U)};_.prototype.setHash=function(C,E,$){return Z(C,E,$,this)};var ee=r.set=function(C,E,$){return Z($._config.hash(C),C,E,$)};_.prototype.set=function(C,E){return ee(C,E,this)};var fe=u(l),q=r.removeHash=function(C,E,$){return te(fe,C,E,$)};_.prototype.removeHash=_.prototype.deleteHash=function(C,E){return q(C,E,this)};var ue=r.remove=function(C,E){return q(E._config.hash(C),C,E)};_.prototype.remove=_.prototype.delete=function(C){return ue(C,this)};var Kt=r.beginMutation=function(C){return new _(C._editable+1,C._edit+1,C._config,C._root,C._size)};_.prototype.beginMutation=function(){return Kt(this)};var ys=r.endMutation=function(C){return C._editable=C._editable&&C._editable-1,C};_.prototype.endMutation=function(){return ys(this)};var Bo=r.mutate=function(C,E){var $=Kt(E);return C($),ys($)};_.prototype.mutate=function(C){return Bo(C,this)};var yn=function(E){return E&&ws(E[0],E[1],E[2],E[3],E[4])},ws=function(E,$,U,V,H){for(;U<E;){var oe=$[U++];if(oe&&!N(oe))return zo(oe,V,[E,$,U,V,H])}return yn(H)},zo=function(E,$,U){switch(E.type){case p:return{value:$(E),rest:U};case g:case j:case k:var V=E.children;return ws(V.length,V,0,$,U);default:return yn(U)}},Xa={done:!0};function wn(C){this.v=C}wn.prototype.next=function(){if(!this.v)return Xa;var C=this.v;return this.v=yn(C.rest),C},wn.prototype[Symbol.iterator]=function(){return this};var el=function(E,$){return new wn(zo(E._root,$))},Xg=function(E){return[E.key,E.value]},ev=r.entries=function(C){return el(C,Xg)};_.prototype.entries=_.prototype[Symbol.iterator]=function(){return ev(this)};var tv=function(E){return E.key},rv=r.keys=function(C){return el(C,tv)};_.prototype.keys=function(){return rv(this)};var nv=function(E){return E.value},sv=r.values=_.prototype.values=function(C){return el(C,nv)};_.prototype.values=function(){return sv(this)};var Ld=r.fold=function(C,E,$){var U=$._root;if(U.type===p)return C(E,U.value,U.key);for(var V=[U.children],H=void 0;H=V.pop();)for(var oe=0,re=H.length;oe<re;){var ne=H[oe++];ne&&ne.type&&(ne.type===p?E=C(E,ne.value,ne.key):V.push(ne.children))}return E};_.prototype.fold=function(C,E){return Ld(C,E,this)};var ov=r.forEach=function(C,E){return Ld(function($,U,V){return C(U,V,E)},null,E)};_.prototype.forEach=function(C){return ov(C,this)};var iv=r.count=function(C){return C._size};_.prototype.count=function(){return iv(this)},Object.defineProperty(_.prototype,"size",{get:_.prototype.count}),t.exports?t.exports=r:(void 0).hamt=r});class K_{constructor(e){ie(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,r){return this._map.set(e,r),this}delete(e){return this._map.delete(e),this}clone(){return hd(this)}toMap(){return new Map(this._map)}}class dd{constructor(e){if(ie(this,"_hamt",H_.empty.beginMutation()),e instanceof dd){const r=e._hamt.endMutation();e._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(e)for(const[r,n]of e.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,r){return this._hamt.set(e,r),this}delete(e){return this._hamt.delete(e),this}clone(){return hd(this)}toMap(){return new Map(this._hamt)}}function hd(t){return we("recoil_hamt_2020")?new dd(t):new K_(t)}var q_={persistentMap:hd},G_=q_.persistentMap,J_=Object.freeze({__proto__:null,persistentMap:G_});function Z_(t,...e){const r=new Set;e:for(const n of t){for(const s of e)if(s.has(n))continue e;r.add(n)}return r}var Jh=Z_;function Q_(t,e){const r=new Map;return t.forEach((n,s)=>{r.set(s,e(n,s))}),r}var Zh=Q_;function Y_(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function X_(t){return{nodeDeps:Zh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Zh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Al(t,e,r,n){const{nodeDeps:s,nodeToNodeSubscriptions:o}=r,i=s.get(t);if(i&&n&&i!==n.nodeDeps.get(t))return;s.set(t,e);const a=i==null?e:Jh(e,i);for(const l of a)o.has(l)||o.set(l,new Set),Ce(o.get(l)).add(t);if(i){const l=Jh(i,e);for(const u of l){if(!o.has(u))return;const d=Ce(o.get(u));d.delete(t),d.size===0&&o.delete(u)}}}function ex(t,e,r,n){var s,o,i,a;const l=r.getState();n===l.currentTree.version||n===((s=l.nextTree)===null||s===void 0?void 0:s.version)||n===((o=l.previousTree)===null||o===void 0?void 0:o.version)||ft();const u=r.getGraph(n);if(Al(t,e,u),n===((i=l.previousTree)===null||i===void 0?void 0:i.version)){const h=r.getGraph(l.currentTree.version);Al(t,e,h,u)}if(n===((a=l.previousTree)===null||a===void 0?void 0:a.version)||n===l.currentTree.version){var d;const h=(d=l.nextTree)===null||d===void 0?void 0:d.version;if(h!==void 0){const f=r.getGraph(h);Al(t,e,f,u)}}}var Io={cloneGraph:X_,graph:Y_,saveDepsToStore:ex};let tx=0;const rx=()=>tx++;let nx=0;const sx=()=>nx++;let ox=0;const ix=()=>ox++;var Ua={getNextTreeStateVersion:rx,getNextStoreID:sx,getNextComponentID:ix};const{persistentMap:Qh}=J_,{graph:ax}=Io,{getNextTreeStateVersion:Fm}=Ua;function lx(){const t=Fm();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Qh(),nonvalidatedAtoms:Qh()}}function ux(){const t=lx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,ax()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Wm={makeEmptyStoreState:ux,getNextTreeStateVersion:Fm};class cx{}var fd={RetentionZone:cx};function dx(t,e){const r=new Set(t);return r.add(e),r}var hx={setByAddingToSet:dx};function*fx(t,e){let r=0;for(const n of t)e(n,r++)&&(yield n)}var pd=fx;function px(t,e){return new Proxy(t,{get:(n,s)=>(!(s in n)&&s in e&&(n[s]=e[s]()),n[s]),ownKeys:n=>Object.keys(n)})}var Hm=px;const{getNode:Mo,getNodeMaybe:mx,recoilValuesForKeys:Yh}=Ht,{RetentionZone:Xh}=fd,{setByAddingToSet:gx}=hx,vx=Object.freeze(new Set);class yx extends Error{}function wx(t,e,r){if(!we("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:n}=t.getState().retention;function s(o){let i=n.get(o);i||n.set(o,i=new Set),i.add(e)}if(r instanceof Xh)s(r);else if(Array.isArray(r))for(const o of r)s(o);return()=>{if(!we("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function i(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(r instanceof Xh)i(r);else if(Array.isArray(r))for(const a of r)i(a)}}function md(t,e,r,n){const s=t.getState();if(s.nodeCleanupFunctions.has(r))return;const o=Mo(r),i=wx(t,r,o.retainedBy),a=o.init(t,e,n);s.nodeCleanupFunctions.set(r,()=>{a(),i()})}function _x(t,e,r){md(t,t.getState().currentTree,e,r)}function xx(t,e){var r;const n=t.getState();(r=n.nodeCleanupFunctions.get(e))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(e)}function bx(t,e,r){return md(t,e,r,"get"),Mo(r).get(t,e)}function Km(t,e,r){return Mo(r).peek(t,e)}function Sx(t,e,r){var n;const s=mx(e);return s==null||(n=s.invalidate)===null||n===void 0||n.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,r),dirtyAtoms:gx(t.dirtyAtoms,e)}}function kx(t,e,r,n){const s=Mo(r);if(s.set==null)throw new yx(`Attempt to set read-only RecoilValue: ${r}`);const o=s.set;return md(t,e,r,"set"),o(t,e,n)}function Ex(t,e,r){const n=t.getState(),s=t.getGraph(e.version),o=Mo(r).nodeType;return Hm({type:o},{loadable:()=>Km(t,e,r),isActive:()=>n.knownAtoms.has(r)||n.knownSelectors.has(r),isSet:()=>o==="selector"?!1:e.atomValues.has(r),isModified:()=>e.dirtyAtoms.has(r),deps:()=>{var i;return Yh((i=s.nodeDeps.get(r))!==null&&i!==void 0?i:[])},subscribers:()=>{var i,a;return{nodes:Yh(pd(qm(t,e,new Set([r])),l=>l!==r)),components:Da((i=(a=n.nodeToComponentSubscriptions.get(r))===null||a===void 0?void 0:a.values())!==null&&i!==void 0?i:[],([l])=>({name:l}))}}})}function qm(t,e,r){const n=new Set,s=Array.from(r),o=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var i;n.add(a);const l=(i=o.nodeToNodeSubscriptions.get(a))!==null&&i!==void 0?i:vx;for(const u of l)n.has(u)||s.push(u)}return n}var mn={getNodeLoadable:bx,peekNodeLoadable:Km,setNodeValue:kx,initializeNode:_x,cleanUpNode:xx,setUnvalidatedAtomValue_DEPRECATED:Sx,peekNodeInfo:Ex,getDownstreamNodes:qm};let Gm=null;function Cx(t){Gm=t}function jx(){var t;(t=Gm)===null||t===void 0||t()}var Jm={setInvalidateMemoizedSnapshot:Cx,invalidateMemoizedSnapshot:jx};const{getDownstreamNodes:Rx,getNodeLoadable:Zm,setNodeValue:Nx}=mn,{getNextComponentID:Tx}=Ua,{getNode:Px,getNodeMaybe:Qm}=Ht,{DefaultValue:gd}=Ht,{reactMode:Ax}=ld,{AbstractRecoilValue:Lx,RecoilState:K5,RecoilValueReadOnly:q5,isRecoilValue:G5}=un,{invalidateMemoizedSnapshot:Ox}=Jm;function $x(t,{key:e},r=t.getState().currentTree){var n,s;const o=t.getState();r.version===o.currentTree.version||r.version===((n=o.nextTree)===null||n===void 0?void 0:n.version)||r.version===((s=o.previousTree)===null||s===void 0?void 0:s.version)||ft();const i=Zm(t,r,e);return i.state==="loading"&&i.contents.catch(()=>{}),i}function Ix(t,e){const r=t.clone();return e.forEach((n,s)=>{n.state==="hasValue"&&n.contents instanceof gd?r.delete(s):r.set(s,n)}),r}function Mx(t,e,{key:r},n){if(typeof n=="function"){const s=Zm(t,e,r);if(s.state==="loading"){const o=`Tried to set atom or selector "${r}" using an updater function while the current state is pending, this is not currently supported.`;throw ft(),le(o)}else if(s.state==="hasError")throw s.contents;return n(s.contents)}else return n}function Dx(t,e,r){if(r.type==="set"){const{recoilValue:s,valueOrUpdater:o}=r,i=Mx(t,e,s,o),a=Nx(t,e,s.key,i);for(const[l,u]of a.entries())Fu(e,l,u)}else if(r.type==="setLoadable"){const{recoilValue:{key:s},loadable:o}=r;Fu(e,s,o)}else if(r.type==="markModified"){const{recoilValue:{key:s}}=r;e.dirtyAtoms.add(s)}else if(r.type==="setUnvalidated"){var n;const{recoilValue:{key:s},unvalidatedValue:o}=r,i=Qm(s);i==null||(n=i.invalidate)===null||n===void 0||n.call(i,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,o),e.dirtyAtoms.add(s)}else ft(`Unknown action ${r.type}`)}function Fu(t,e,r){r.state==="hasValue"&&r.contents instanceof gd?t.atomValues.delete(e):t.atomValues.set(e,r),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Ym(t,e){t.replaceState(r=>{const n=Xm(r);for(const s of e)Dx(t,n,s);return e2(t,n),Ox(),n})}function Va(t,e){if(Qs.length){const r=Qs[Qs.length-1];let n=r.get(t);n||r.set(t,n=[]),n.push(e)}else Ym(t,[e])}const Qs=[];function Ux(){const t=new Map;return Qs.push(t),()=>{for(const[r,n]of t)Ym(r,n);Qs.pop()!==t&&ft()}}function Xm(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function e2(t,e){const r=Rx(t,e,e.dirtyAtoms);for(const o of r){var n,s;(n=Qm(o))===null||n===void 0||(s=n.invalidate)===null||s===void 0||s.call(n,e)}}function t2(t,e,r){Va(t,{type:"set",recoilValue:e,valueOrUpdater:r})}function Vx(t,e,r){if(r instanceof gd)return t2(t,e,r);Va(t,{type:"setLoadable",recoilValue:e,loadable:r})}function Bx(t,e){Va(t,{type:"markModified",recoilValue:e})}function zx(t,e,r){Va(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:r})}function Fx(t,{key:e},r,n=null){const s=Tx(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),Ce(o.nodeToComponentSubscriptions.get(e)).set(s,[n??"<not captured>",r]);const i=Ax();if(i.early&&(i.mode==="LEGACY"||i.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&r(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);if(l===void 0||!l.has(s)){ft();return}l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e)}}}function Wx(t,e){var r;const{currentTree:n}=t.getState(),s=Px(e.key);(r=s.clearCache)===null||r===void 0||r.call(s,t,n)}var gr={AbstractRecoilValue:Lx,getRecoilValueAsLoadable:$x,setRecoilValue:t2,setRecoilValueLoadable:Vx,markRecoilValueModified:Bx,setUnvalidatedRecoilValue:zx,subscribeToRecoilValue:Fx,applyAtomValueWrites:Ix,batchStart:Ux,writeLoadableToTreeState:Fu,invalidateDownstreams:e2,copyTreeState:Xm,refreshRecoilValue:Wx};function Hx(t,e,r){const n=t.entries();let s=n.next();for(;!s.done;){const o=s.value;if(e.call(r,o[1],o[0],t))return!0;s=n.next()}return!1}var Kx=Hx;const{cleanUpNode:qx}=mn,{deleteNodeConfigIfPossible:Gx,getNode:r2}=Ht,{RetentionZone:n2}=fd,Jx=12e4,s2=new Set;function o2(t,e){const r=t.getState(),n=r.currentTree;if(r.nextTree){ft();return}const s=new Set;for(const i of e)if(i instanceof n2)for(const a of Xx(r,i))s.add(a);else s.add(i);const o=Zx(t,s);for(const i of o)Yx(t,n,i)}function Zx(t,e){const r=t.getState(),n=r.currentTree,s=t.getGraph(n.version),o=new Set,i=new Set;return a(e),o;function a(l){const u=new Set,d=Qx(t,n,l,o,i);for(const y of d){var h;if(r2(y).retainedBy==="recoilRoot"){i.add(y);continue}if(((h=r.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){i.add(y);continue}if(i2(y).some(b=>r.retention.referenceCounts.get(b))){i.add(y);continue}const w=s.nodeToNodeSubscriptions.get(y);if(w&&Kx(w,b=>i.has(b))){i.add(y);continue}o.add(y),u.add(y)}const f=new Set;for(const y of u)for(const w of(v=s.nodeDeps.get(y))!==null&&v!==void 0?v:s2){var v;o.has(w)||f.add(w)}f.size&&a(f)}}function Qx(t,e,r,n,s){const o=t.getGraph(e.version),i=[],a=new Set;for(;r.size>0;)l(Ce(r.values().next().value));return i;function l(u){if(n.has(u)||s.has(u)){r.delete(u);return}if(a.has(u))return;const d=o.nodeToNodeSubscriptions.get(u);if(d)for(const h of d)l(h);a.add(u),r.delete(u),i.push(u)}}function Yx(t,e,r){if(!we("recoil_memory_managament_2020"))return;qx(t,r);const n=t.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);const s=i2(r);for(const l of s){var o;(o=n.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(r)}e.atomValues.delete(r),e.dirtyAtoms.delete(r),e.nonvalidatedAtoms.delete(r);const i=n.graphsByVersion.get(e.version);if(i){const l=i.nodeDeps.get(r);if(l!==void 0){i.nodeDeps.delete(r);for(const u of l){var a;(a=i.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(r)}}i.nodeToNodeSubscriptions.delete(r)}Gx(r)}function Xx(t,e){var r;return(r=t.retention.nodesRetainedByZone.get(e))!==null&&r!==void 0?r:s2}function i2(t){const e=r2(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof n2?[e]:e}function eb(t,e){const r=t.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(e):o2(t,new Set([e]))}function tb(t,e,r){var n;if(!we("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,o=((n=s.get(e))!==null&&n!==void 0?n:0)+r;o===0?rb(t,e):s.set(e,o)}function rb(t,e){if(!we("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),eb(t,e)}function nb(t){if(!we("recoil_memory_managament_2020"))return;const e=t.getState();o2(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function sb(t){return t===void 0?"recoilRoot":t}var hs={SUSPENSE_TIMEOUT_MS:Jx,updateRetainCount:tb,releaseScheduledRetainablesNow:nb,retainedByOptionWithDefault:sb};const{unstable_batchedUpdates:ob}=Ly;var ib={unstable_batchedUpdates:ob};const{unstable_batchedUpdates:ab}=ib;var lb={unstable_batchedUpdates:ab};const{batchStart:ub}=gr,{unstable_batchedUpdates:cb}=lb;let db=cb||(t=>t());const hb=t=>{db(()=>{let e=()=>{};try{e=ub(),t()}finally{e()}})};var vd={batchUpdates:hb};function*fb(t){for(const e of t)for(const r of e)yield r}var a2=fb;const pb=typeof Window>"u"||typeof window>"u";var yd={isSSR:pb};function mb(t,e){let r,n;return[(...i)=>{const a=e(...i);return r===a||(r=a,n=t(...i)),n},()=>{r=null}]}var gb={memoizeOneWithArgsHashAndInvalidation:mb};const{batchUpdates:Wu}=vd,{initializeNode:vb,peekNodeInfo:yb}=mn,{graph:wb}=Io,{getNextStoreID:_b}=Ua,{DEFAULT_VALUE:xb,recoilValues:ef,recoilValuesForKeys:tf}=Ht,{AbstractRecoilValue:bb,getRecoilValueAsLoadable:Sb,setRecoilValue:rf,setUnvalidatedRecoilValue:kb}=gr,{updateRetainCount:Ii}=hs,{setInvalidateMemoizedSnapshot:Eb}=Jm,{getNextTreeStateVersion:Cb,makeEmptyStoreState:jb}=Wm,{isSSR:Rb}=yd,{memoizeOneWithArgsHashAndInvalidation:Nb}=gb;class Ba{constructor(e,r){ie(this,"_store",void 0),ie(this,"_refCount",1),ie(this,"getLoadable",n=>(this.checkRefCount_INTERNAL(),Sb(this._store,n))),ie(this,"getPromise",n=>(this.checkRefCount_INTERNAL(),this.getLoadable(n).toPromise())),ie(this,"getNodes_UNSTABLE",n=>{if(this.checkRefCount_INTERNAL(),(n==null?void 0:n.isModified)===!0){if((n==null?void 0:n.isInitialized)===!1)return[];const i=this._store.getState().currentTree;return tf(i.dirtyAtoms)}const s=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(n==null?void 0:n.isInitialized)==null?ef.values():n.isInitialized===!0?tf(a2([s,o])):pd(ef.values(),({key:i})=>!s.has(i)&&!o.has(i))}),ie(this,"getInfo_UNSTABLE",({key:n})=>(this.checkRefCount_INTERNAL(),yb(this._store,this._store.getState().currentTree,n))),ie(this,"map",n=>{this.checkRefCount_INTERNAL();const s=new Hu(this,Wu);return n(s),s}),ie(this,"asyncMap",async n=>{this.checkRefCount_INTERNAL();const s=new Hu(this,Wu);return s.retain(),await n(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:_b(),parentStoreID:r,getState:()=>e,replaceState:n=>{e.currentTree=n(e.currentTree)},getGraph:n=>{const s=e.graphsByVersion;if(s.has(n))return Ce(s.get(n));const o=wb();return s.set(n,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw le("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)vb(this._store,n,"get"),Ii(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ft(),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){Rb||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!we("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){we("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function l2(t,e,r=!1){const n=t.getState(),s=r?Cb():e.version;return{currentTree:{version:r?s:e.version,stateID:r?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Da(n.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function Tb(t){const e=new Ba(jb());return t!=null?e.map(t):e}const[nf,u2]=Nb((t,e)=>{var r;const n=t.getState(),s=e==="latest"?(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree:Ce(n.previousTree);return new Ba(l2(t,s),t.storeID)},(t,e)=>{var r,n;return String(e)+String(t.storeID)+String((r=t.getState().nextTree)===null||r===void 0?void 0:r.version)+String(t.getState().currentTree.version)+String((n=t.getState().previousTree)===null||n===void 0?void 0:n.version)});Eb(u2);function Pb(t,e="latest"){const r=nf(t,e);return r.isRetained()?r:(u2(),nf(t,e))}class Hu extends Ba{constructor(e,r){super(l2(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ie(this,"_batch",void 0),ie(this,"set",(n,s)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Ii(o,n.key,1),rf(this.getStore_INTERNAL(),n,s)})}),ie(this,"reset",n=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ii(s,n.key,1),rf(this.getStore_INTERNAL(),n,xb)})}),ie(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();Wu(()=>{for(const[o,i]of n.entries())Ii(s,o,1),kb(s,new bb(o),i)})}),this._batch=r}}var za={Snapshot:Ba,MutableSnapshot:Hu,freshSnapshot:Tb,cloneSnapshot:Pb},Ab=za.Snapshot,Lb=za.MutableSnapshot,Ob=za.freshSnapshot,$b=za.cloneSnapshot,Fa=Object.freeze({__proto__:null,Snapshot:Ab,MutableSnapshot:Lb,freshSnapshot:Ob,cloneSnapshot:$b});function Ib(...t){const e=new Set;for(const r of t)for(const n of r)e.add(n);return e}var Mb=Ib;const{useRef:Db}=Re;function Ub(t){const e=Db(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var sf=Ub;const{getNextTreeStateVersion:Vb,makeEmptyStoreState:c2}=Wm,{cleanUpNode:Bb,getDownstreamNodes:zb,initializeNode:Fb,setNodeValue:Wb,setUnvalidatedAtomValue_DEPRECATED:Hb}=mn,{graph:Kb}=Io,{cloneGraph:qb}=Io,{getNextStoreID:d2}=Ua,{createMutableSource:Ll,reactMode:h2}=ld,{applyAtomValueWrites:Gb}=gr,{releaseScheduledRetainablesNow:f2}=hs,{freshSnapshot:Jb}=Fa,{useCallback:Zb,useContext:p2,useEffect:Ku,useMemo:Qb,useRef:Yb,useState:Xb}=Re;function Ps(){throw le("This component must be used inside a <RecoilRoot> component.")}const m2=Object.freeze({storeID:d2(),getState:Ps,replaceState:Ps,getGraph:Ps,subscribeToTransactions:Ps,addTransactionMetadata:Ps});let qu=!1;function of(t){if(qu)throw le("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){we("recoil_memory_managament_2020")&&we("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&f2(t);const r=e.currentTree.version,n=Vb();e.nextTree={...e.currentTree,version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(n,qb(Ce(e.graphsByVersion.get(r))))}}const g2=Re.createContext({current:m2}),wd=()=>p2(g2),v2=Re.createContext(null);function e3(){const t=p2(v2);return t==null&&Vm(),t}function y2(t,e,r){const n=zb(t,r,r.dirtyAtoms);for(const s of n){const o=e.nodeToComponentSubscriptions.get(s);if(o)for(const[i,[a,l]]of o)l(r)}}function t3(t){const e=t.getState(),r=e.currentTree,n=r.dirtyAtoms;if(n.size){for(const[s,o]of e.nodeTransactionSubscriptions)if(n.has(s))for(const[i,a]of o)a(t);for(const[s,o]of e.transactionSubscriptions)o(t);(!h2().early||e.suspendedComponentResolvers.size>0)&&(y2(t,e,r),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(r)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function r3(t){const e=t.getState();e.commitDepth++;try{const{nextTree:r}=e;if(r==null)return;e.previousTree=e.currentTree,e.currentTree=r,e.nextTree=null,t3(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):ft("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,we("recoil_memory_managament_2020")&&r==null&&f2(t)}finally{e.commitDepth--}}function n3({setNotifyBatcherOfChange:t}){const e=wd(),[,r]=Xb([]);return t(()=>r({})),Ku(()=>(t(()=>r({})),()=>{t(()=>{})}),[t]),Ku(()=>{F_.enqueueExecution("Batcher",()=>{r3(e.current)})}),null}function s3(t,e){const r=c2();return e({set:(n,s)=>{const o=r.currentTree,i=Wb(t,o,n.key,s),a=new Set(i.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);r.currentTree={...o,dirtyAtoms:Mb(o.dirtyAtoms,a),atomValues:Gb(o.atomValues,i),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:n=>{n.forEach((s,o)=>{r.currentTree=Hb(r.currentTree,o,s)})}}),r}function o3(t){const e=Jb(t),r=e.getStore_INTERNAL().getState();return e.retain(),r.nodeCleanupFunctions.forEach(n=>n()),r.nodeCleanupFunctions.clear(),r}let af=0;function i3({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:r,children:n}){let s;const o=v=>{const y=s.current.graphsByVersion;if(y.has(v))return Ce(y.get(v));const w=Kb();return y.set(v,w),w},i=(v,y)=>{if(y==null){const{transactionSubscriptions:w}=h.current.getState(),b=af++;return w.set(b,v),{release:()=>{w.delete(b)}}}else{const{nodeTransactionSubscriptions:w}=h.current.getState();w.has(y)||w.set(y,new Map);const b=af++;return Ce(w.get(y)).set(b,v),{release:()=>{const m=w.get(y);m&&(m.delete(b),m.size===0&&w.delete(y))}}}},a=v=>{of(h.current);for(const y of Object.keys(v))Ce(h.current.getState().nextTree).transactionMetadata[y]=v[y]},l=v=>{of(h.current);const y=Ce(s.current.nextTree);let w;try{qu=!0,w=v(y)}finally{qu=!1}w!==y&&(s.current.nextTree=w,h2().early&&y2(h.current,s.current,w),Ce(u.current)())},u=Yb(null),d=Zb(v=>{u.current=v},[u]),h=sf(()=>r??{storeID:d2(),getState:()=>s.current,replaceState:l,getGraph:o,subscribeToTransactions:i,addTransactionMetadata:a});r!=null&&(h.current=r),s=sf(()=>t!=null?s3(h.current,t):e!=null?o3(e):c2());const f=Qb(()=>Ll==null?void 0:Ll(s,()=>s.current.currentTree.version),[s]);return Ku(()=>{const v=h.current;for(const y of new Set(v.getState().knownAtoms))Fb(v,y,"get");return()=>{for(const y of v.getState().knownAtoms)Bb(v,y)}},[h]),Re.createElement(g2.Provider,{value:h},Re.createElement(v2.Provider,{value:f},Re.createElement(n3,{setNotifyBatcherOfChange:d}),n))}function a3(t){const{override:e,...r}=t,n=wd();return e===!1&&n.current!==m2?t.children:Re.createElement(i3,r)}var _d={RecoilRoot:a3,useStoreRef:wd,useRecoilMutableSource:e3};function l3(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}var u3=l3;const{useEffect:c3,useRef:d3}=Re;function h3(t){const e=d3();return c3(()=>{e.current=t}),e.current}var f3=h3;const{useStoreRef:p3}=_d,{SUSPENSE_TIMEOUT_MS:m3}=hs,{updateRetainCount:As}=hs,{RetentionZone:g3}=fd,{useEffect:v3,useRef:y3}=Re,{isSSR:lf}=yd;function w3(t){if(we("recoil_memory_managament_2020"))return _3(t)}function _3(t){const r=(Array.isArray(t)?t:[t]).map(i=>i instanceof g3?i:i.key),n=p3();v3(()=>{if(!we("recoil_memory_managament_2020"))return;const i=n.current;if(s.current&&!lf)window.clearTimeout(s.current),s.current=null;else for(const a of r)As(i,a,1);return()=>{for(const a of r)As(i,a,-1)}},[n,...r]);const s=y3(),o=f3(r);if(!lf&&(o===void 0||!u3(o,r))){const i=n.current;for(const a of r)As(i,a,1);if(o)for(const a of o)As(i,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of r)As(i,a,-1)},m3)}}var x3=w3;function b3(){return"<component name not available>"}var Wa=b3;const{currentRendererSupportsUseSyncExternalStore:S3,reactMode:Do,useMutableSource:k3,useSyncExternalStore:E3}=ld,{useRecoilMutableSource:C3,useStoreRef:fs}=_d,{isRecoilValue:J5}=un,{getRecoilValueAsLoadable:Ha,setRecoilValue:j3,subscribeToRecoilValue:Ka}=gr,{useCallback:Ft,useEffect:ua,useMemo:R3,useRef:w2,useState:_2}=Re,{isSSR:N3}=yd;function T3(t,e,r){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const o=r.current.getState().suspendedComponentResolvers;o.add(s),N3&&xe(t.contents)&&t.contents.finally(()=>{o.delete(s)})}):t.state==="hasError"?t.contents:le(`Invalid value of loadable atom "${e.key}"`)}function P3(t){const e=fs(),r=Wa(),n=Ft(()=>{var a;const l=e.current,u=l.getState(),d=Do().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Ha(l,t,d),key:t.key}},[e,t]),s=Ft(a=>{let l;return()=>{var u,d;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((d=l)===null||d===void 0?void 0:d.key)===h.key?l:(l=h,h)}},[]),o=R3(()=>s(n),[n,s]),i=Ft(a=>{const l=e.current;return Ka(l,t,a,r).release},[e,t,r]);return E3(i,o,o).loadable}function A3(t){const e=fs(),r=Ft(()=>{var u;const d=e.current,h=d.getState(),f=Do().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return Ha(d,t,f)},[e,t]),n=Ft(()=>r(),[r]),s=Wa(),o=Ft((u,d)=>{const h=e.current;return Ka(h,t,()=>{if(!we("recoil_suppress_rerender_in_callback"))return d();const v=r();l.current.is(v)||d(),l.current=v},s).release},[e,t,s,r]),i=C3();if(i==null)throw le("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=k3(i,n,o),l=w2(a);return ua(()=>{l.current=a}),a}function uf(t){const e=fs(),r=Wa(),n=Ft(()=>{var l;const u=e.current,d=u.getState(),h=Do().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return Ha(u,t,h)},[e,t]),s=Ft(()=>({loadable:n(),key:t.key}),[n,t.key]),o=Ft(l=>{const u=s();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[s]);ua(()=>{const l=Ka(e.current,t,u=>{a(o)},r);return a(o),l.release},[r,t,e,o]);const[i,a]=_2(s);return i.key!==t.key?s().loadable:i.loadable}function L3(t){const e=fs(),[,r]=_2([]),n=Wa(),s=Ft(()=>{var a;const l=e.current,u=l.getState(),d=Do().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Ha(l,t,d)},[e,t]),o=s(),i=w2(o);return ua(()=>{i.current=o}),ua(()=>{const a=e.current,l=a.getState(),u=Ka(a,t,h=>{var f;if(!we("recoil_suppress_rerender_in_callback"))return r([]);const v=s();(f=i.current)!==null&&f!==void 0&&f.is(v)||r(v),i.current=v},n);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{i.current=null,r([])});else{var d;if(!we("recoil_suppress_rerender_in_callback"))return r([]);const h=s();(d=i.current)!==null&&d!==void 0&&d.is(h)||r(h),i.current=h}return u.release},[n,s,t,e]),o}function O3(t){return we("recoil_memory_managament_2020")&&x3(t),{TRANSITION_SUPPORT:uf,SYNC_EXTERNAL_STORE:S3()?P3:uf,MUTABLE_SOURCE:A3,LEGACY:L3}[Do().mode](t)}function $3(t){const e=fs(),r=O3(t);return T3(r,t,e)}function I3(t){const e=fs();return Ft(r=>{j3(e.current,t,r)},[e,t])}var M3={useRecoilValue:$3,useSetRecoilState:I3};const{batchUpdates:D3}=vd,{DEFAULT_VALUE:U3,getNode:V3}=Ht,{AbstractRecoilValue:B3,setRecoilValueLoadable:z3}=gr,{cloneSnapshot:Z5}=Fa,{useCallback:Q5,useEffect:Y5,useRef:X5,useState:eE}=Re;function F3(t,e){var r;const n=t.getState(),s=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,o=e.getStore_INTERNAL().getState().currentTree;D3(()=>{const i=new Set;for(const u of[s.atomValues.keys(),o.atomValues.keys()])for(const d of u){var a,l;((a=s.atomValues.get(d))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(d))===null||l===void 0?void 0:l.contents)&&V3(d).shouldRestoreFromSnapshots&&i.add(d)}i.forEach(u=>{z3(t,new B3(u),o.atomValues.has(u)?Ce(o.atomValues.get(u)):U3)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}var W3={gotoSnapshot:F3};const{useMemo:tE}=Re,{loadableWithValue:H3}=Oo,{initializeNode:K3}=mn,{DEFAULT_VALUE:q3,getNode:G3}=Ht,{copyTreeState:J3,getRecoilValueAsLoadable:Z3,invalidateDownstreams:Q3,writeLoadableToTreeState:Y3}=gr;function cf(t){return G3(t.key).nodeType==="atom"}class X3{constructor(e,r){ie(this,"_store",void 0),ie(this,"_treeState",void 0),ie(this,"_changes",void 0),ie(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!cf(n))throw le("Reading selectors within atomicUpdate is not supported");const s=Z3(this._store,n,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:le(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),ie(this,"set",(n,s)=>{if(!cf(n))throw le("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const o=this.get(n);this._changes.set(n.key,s(o))}else K3(this._store,n.key,"set"),this._changes.set(n.key,s)}),ie(this,"reset",n=>{this.set(n,q3)}),this._store=e,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=J3(this._treeState);for(const[r,n]of this._changes)Y3(e,r,H3(n));return Q3(this._store,e),e}}function eS(t){return e=>{t.replaceState(r=>{const n=new X3(t,r);return e(n),n.newTreeState_INTERNAL()})}}var tS={atomicUpdater:eS},rS=tS.atomicUpdater,x2=Object.freeze({__proto__:null,atomicUpdater:rS});function nS(t,e){if(!t)throw new Error(e)}var sS=nS,Vs=sS;const{atomicUpdater:oS}=x2,{batchUpdates:iS}=vd,{DEFAULT_VALUE:aS}=Ht,{refreshRecoilValue:lS,setRecoilValue:df}=gr,{cloneSnapshot:uS}=Fa,{gotoSnapshot:cS}=W3,{useCallback:rE}=Re;class b2{}const dS=new b2;function hS(t,e,r,n){let s=dS,o;if(iS(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw le(a);const l=Hm({...n??{},set:(d,h)=>df(t,d,h),reset:d=>df(t,d,aS),refresh:d=>lS(t,d),gotoSnapshot:d=>cS(t,d),transact_UNSTABLE:d=>oS(t)(d)},{snapshot:()=>{const d=uS(t);return o=d.retain(),d}}),u=e(l);if(typeof u!="function")throw le(a);s=u(...r)}),s instanceof b2&&Vs(!1),xe(s))s=s.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var i;(i=o)===null||i===void 0||i()}return s}var fS={recoilCallback:hS};const{useCallback:nE}=Re,{atomicUpdater:sE}=x2,{useMemo:oE}=Re;class pS{constructor(e){ie(this,"value",void 0),this.value=e}}var mS={WrappedValue:pS},gS=mS.WrappedValue,S2=Object.freeze({__proto__:null,WrappedValue:gS});class hf extends Error{}class vS{constructor(e){var r,n,s;ie(this,"_name",void 0),ie(this,"_numLeafs",void 0),ie(this,"_root",void 0),ie(this,"_onHit",void 0),ie(this,"_onSet",void 0),ie(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(r=e==null?void 0:e.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=e==null?void 0:e.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,r){var n;return(n=this.getLeafNode(e,r))===null||n===void 0?void 0:n.value}getLeafNode(e,r){if(this._root==null)return;let n=this._root;for(;n;){if(r==null||r.onNodeVisit(n),n.type==="leaf")return this._onHit(n),n;const s=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(s)}}set(e,r,n){const s=()=>{var o,i,a,l;let u,d;for(const[b,m]of e){var h,f,v;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(d):p,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:b,parent:g,branches:new Map,branchKey:d},u.type!=="branch"||u.nodeKey!==b)throw this.invalidCacheError();g==null||g.branches.set(d,u),n==null||(f=n.onNodeVisit)===null||f===void 0||f.call(n,u),d=this._mapNodeValue(m),this._root=(v=this._root)!==null&&v!==void 0?v:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(d):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==d))throw this.invalidCacheError();const w={type:"leaf",value:r,parent:u,branchKey:d};(i=u)===null||i===void 0||i.branches.set(d,w),this._root=(a=this._root)!==null&&a!==void 0?a:w,this._numLeafs++,this._onSet(w),n==null||(l=n.onNodeVisit)===null||l===void 0||l.call(n,w)};try{s()}catch(o){if(o instanceof hf)this.clear(),s();else throw o}}delete(e){const r=this.root();if(!r)return!1;if(e===r)return this._root=null,this._numLeafs=0,!0;let n=e.parent,s=e.branchKey;for(;n;){var o;if(n.branches.delete(s),n===r)return n.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;s=(o=n)===null||o===void 0?void 0:o.branchKey,n=n.parent}for(;n!==r;n=n.parent)if(n==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ft("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new hf}}var yS={TreeCache:vS},wS=yS.TreeCache,k2=Object.freeze({__proto__:null,TreeCache:wS});class _S{constructor(e){var r;ie(this,"_maxSize",void 0),ie(this,"_size",void 0),ie(this,"_head",void 0),ie(this,"_tail",void 0),ie(this,"_map",void 0),ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=e.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const r=this._keyMapper(e),n=this._map.get(r);if(n)return this.set(e,n.value),n.value}set(e,r){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const o=this.head(),i={key:e,right:o,left:null,value:r};o?o.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const r=this._keyMapper(e);if(!this._size||!this._map.has(r))return;const n=Ce(this._map.get(r)),s=n.right,o=n.left;s&&(s.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=s),n===this.tail()&&(this._tail=o),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var xS={LRUCache:_S},bS=xS.LRUCache,E2=Object.freeze({__proto__:null,LRUCache:bS});const{LRUCache:SS}=E2,{TreeCache:kS}=k2;function ES({name:t,maxSize:e,mapNodeValue:r=n=>n}){const n=new SS({maxSize:e}),s=new kS({name:t,mapNodeValue:r,onHit:o=>{n.set(o,!0)},onSet:o=>{const i=n.tail();n.set(o,!0),i&&s.size()>e&&s.delete(i.key)}});return s}var ff=ES;function Lt(t,e,r){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw le("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var n;return(n=JSON.stringify(t))!==null&&n!==void 0?n:""}if(xe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,o)=>Lt(s,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Lt(t.toJSON(r),e,r);if(t instanceof Map){const s={};for(const[o,i]of t)s[typeof o=="string"?o:Lt(o,e)]=i;return Lt(s,e,r)}return t instanceof Set?Lt(Array.from(t).sort((s,o)=>Lt(s,e).localeCompare(Lt(o,e))),e,r):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Lt(Array.from(t),e,r):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Lt(s,e)}:${Lt(t[s],e,s)}`).join(",")}}`}function CS(t,e={allowFunctions:!1}){return Lt(t,e)}var xd=CS;const{TreeCache:jS}=k2,li={equality:"reference",eviction:"keep-all",maxSize:1/0};function RS({equality:t=li.equality,eviction:e=li.eviction,maxSize:r=li.maxSize}=li,n){const s=NS(t);return TS(e,r,s,n)}function NS(t){switch(t){case"reference":return e=>e;case"value":return e=>xd(e)}throw le(`Unrecognized equality policy ${t}`)}function TS(t,e,r,n){switch(t){case"keep-all":return new jS({name:n,mapNodeValue:r});case"lru":return ff({name:n,maxSize:Ce(e),mapNodeValue:r});case"most-recent":return ff({name:n,maxSize:1,mapNodeValue:r})}throw le(`Unrecognized eviction policy ${t}`)}var PS=RS;const{isLoadable:AS,loadableWithError:ui,loadableWithPromise:LS,loadableWithValue:Ol}=Oo,{WrappedValue:C2}=S2,{getNodeLoadable:ci,peekNodeLoadable:OS,setNodeValue:$S}=mn,{saveDepsToStore:IS}=Io,{DEFAULT_VALUE:MS,getConfigDeletionHandler:DS,getNode:US,registerNode:pf}=Ht,{isRecoilValue:VS}=un,{markRecoilValueModified:mf}=gr,{retainedByOptionWithDefault:BS}=hs,{recoilCallback:zS}=fS;class j2{}const Ls=new j2,Os=[],di=new Map,FS=(()=>{let t=0;return()=>t++})();function R2(t){let e=null;const{key:r,get:n,cachePolicy_UNSTABLE:s}=t,o=t.set!=null?t.set:void 0,i=new Set,a=PS(s??{equality:"reference",eviction:"keep-all"},r),l=BS(t.retainedBy_UNSTABLE),u=new Map;let d=0;function h(){return!we("recoil_memory_managament_2020")||d>0}function f(_){return _.getState().knownSelectors.add(r),d++,()=>{d--}}function v(){return DS(r)!==void 0&&!h()}function y(_,P,L,J,D){ge(P,J,D),w(_,L)}function w(_,P){Se(_,P)&&he(_),m(P,!0)}function b(_,P){Se(_,P)&&(Ce(B(_)).stateVersions.clear(),m(P,!1))}function m(_,P){const L=di.get(_);if(L!=null){for(const J of L)mf(J,Ce(e));P&&di.delete(_)}}function p(_,P){let L=di.get(P);L==null&&di.set(P,L=new Set),L.add(_)}function g(_,P,L,J,D,Y){return P.then(A=>{if(!h())throw he(_),Ls;const z=Ol(A);return y(_,L,D,z,J),A}).catch(A=>{if(!h())throw he(_),Ls;if(xe(A))return k(_,A,L,J,D,Y);const z=ui(A);throw y(_,L,D,z,J),A})}function k(_,P,L,J,D,Y){return P.then(A=>{if(!h())throw he(_),Ls;Y.loadingDepKey!=null&&Y.loadingDepPromise===P?L.atomValues.set(Y.loadingDepKey,Ol(A)):_.getState().knownSelectors.forEach(Z=>{L.atomValues.delete(Z)});const z=N(_,L);if(z&&z.state!=="loading"){if((Se(_,D)||B(_)==null)&&w(_,D),z.state==="hasValue")return z.contents;throw z.contents}if(!Se(_,D)){const Z=W(_,L);if(Z!=null)return Z.loadingLoadable.contents}const[te,X]=R(_,L,D);if(te.state!=="loading"&&y(_,L,D,te,X),te.state==="hasError")throw te.contents;return te.contents}).catch(A=>{if(A instanceof j2)throw Ls;if(!h())throw he(_),Ls;const z=ui(A);throw y(_,L,D,z,J),A})}function j(_,P,L,J){var D,Y,A,z;if(Se(_,J)||P.version===((D=_.getState())===null||D===void 0||(Y=D.currentTree)===null||Y===void 0?void 0:Y.version)||P.version===((A=_.getState())===null||A===void 0||(z=A.nextTree)===null||z===void 0?void 0:z.version)){var te,X,Z;IS(r,L,_,(te=(X=_.getState())===null||X===void 0||(Z=X.nextTree)===null||Z===void 0?void 0:Z.version)!==null&&te!==void 0?te:_.getState().currentTree.version)}for(const ee of L)i.add(ee)}function R(_,P,L){let J=!0,D=!0;const Y=()=>{D=!1};let A,z=!1,te;const X={loadingDepKey:null,loadingDepPromise:null},Z=new Map;function ee({key:q}){const ue=ci(_,P,q);switch(Z.set(q,ue),J||(j(_,P,new Set(Z.keys()),L),b(_,L)),ue.state){case"hasValue":return ue.contents;case"hasError":throw ue.contents;case"loading":throw X.loadingDepKey=q,X.loadingDepPromise=ue.contents,ue.contents}throw le("Invalid Loadable state")}const fe=q=>(...ue)=>{if(D)throw le("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Vs(!1),zS(_,q,ue,{node:e})};try{A=n({get:ee,getCallback:fe}),A=VS(A)?ee(A):A,AS(A)&&(A.state==="hasError"&&(z=!0),A=A.contents),xe(A)?A=g(_,A,P,Z,L,X).finally(Y):Y(),A=A instanceof C2?A.value:A}catch(q){A=q,xe(A)?A=k(_,A,P,Z,L,X).finally(Y):(z=!0,Y())}return z?te=ui(A):xe(A)?te=LS(A):te=Ol(A),J=!1,Ne(_,L,Z),j(_,P,new Set(Z.keys()),L),[te,Z]}function N(_,P){let L=P.atomValues.get(r);if(L!=null)return L;const J=new Set;try{L=a.get(Y=>(typeof Y!="string"&&Vs(!1),ci(_,P,Y).contents),{onNodeVisit:Y=>{Y.type==="branch"&&Y.nodeKey!==r&&J.add(Y.nodeKey)}})}catch(Y){throw le(`Problem with cache lookup for selector "${r}": ${Y.message}`)}if(L){var D;P.atomValues.set(r,L),j(_,P,J,(D=B(_))===null||D===void 0?void 0:D.executionID)}return L}function O(_,P){const L=N(_,P);if(L!=null)return he(_),L;const J=W(_,P);if(J!=null){var D;return((D=J.loadingLoadable)===null||D===void 0?void 0:D.state)==="loading"&&p(_,J.executionID),J.loadingLoadable}const Y=FS(),[A,z]=R(_,P,Y);return A.state==="loading"?(ae(_,Y,A,z,P),p(_,Y)):(he(_),ge(P,A,z)),A}function W(_,P){const L=a2([u.has(_)?[Ce(u.get(_))]:[],Da(pd(u,([D])=>D!==_),([,D])=>D)]);function J(D){for(const[Y,A]of D)if(!ci(_,P,Y).is(A))return!0;return!1}for(const D of L){if(D.stateVersions.get(P.version)||!J(D.depValuesDiscoveredSoFarDuringAsyncWork))return D.stateVersions.set(P.version,!0),D;D.stateVersions.set(P.version,!1)}}function B(_){return u.get(_)}function ae(_,P,L,J,D){u.set(_,{depValuesDiscoveredSoFarDuringAsyncWork:J,executionID:P,loadingLoadable:L,stateVersions:new Map([[D.version,!0]])})}function Ne(_,P,L){if(Se(_,P)){const J=B(_);J!=null&&(J.depValuesDiscoveredSoFarDuringAsyncWork=L)}}function he(_){u.delete(_)}function Se(_,P){var L;return P===((L=B(_))===null||L===void 0?void 0:L.executionID)}function Ke(_){return Array.from(_.entries()).map(([P,L])=>[P,L.contents])}function ge(_,P,L){_.atomValues.set(r,P);try{a.set(Ke(L),P)}catch(J){throw le(`Problem with setting cache for selector "${r}": ${J.message}`)}}function Ue(_){if(Os.includes(r)){const P=`Recoil selector has circular dependencies: ${Os.slice(Os.indexOf(r)).join("  ")}`;return ui(le(P))}Os.push(r);try{return _()}finally{Os.pop()}}function M(_,P){const L=P.atomValues.get(r);return L??a.get(J=>{var D;return typeof J!="string"&&Vs(!1),(D=OS(_,P,J))===null||D===void 0?void 0:D.contents})}function G(_,P){return Ue(()=>O(_,P))}function x(_){_.atomValues.delete(r)}function T(_,P){e==null&&Vs(!1);for(const J of i){var L;const D=US(J);(L=D.clearCache)===null||L===void 0||L.call(D,_,P)}i.clear(),x(P),a.clear(),mf(_,e)}return o!=null?e=pf({key:r,nodeType:"selector",peek:M,get:G,set:(P,L,J)=>{let D=!1;const Y=new Map;function A({key:Z}){if(D)throw le("Recoil: Async selector sets are not currently supported.");const ee=ci(P,L,Z);if(ee.state==="hasValue")return ee.contents;if(ee.state==="loading"){const fe=`Getting value of asynchronous atom or selector "${Z}" in a pending state while setting selector "${r}" is not yet supported.`;throw ft(),le(fe)}else throw ee.contents}function z(Z,ee){if(D){const ue="Recoil: Async selector sets are not currently supported.";throw ft(),le(ue)}const fe=typeof ee=="function"?ee(A(Z)):ee;$S(P,L,Z.key,fe).forEach((ue,Kt)=>Y.set(Kt,ue))}function te(Z){z(Z,MS)}const X=o({set:z,get:A,reset:te},J);if(X!==void 0)throw xe(X)?le("Recoil: Async selector sets are not currently supported."):le("Recoil: selector set should be a void function.");return D=!0,Y},init:f,invalidate:x,clearCache:T,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=pf({key:r,nodeType:"selector",peek:M,get:G,init:f,invalidate:x,clearCache:T,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}R2.value=t=>new C2(t);var _o=R2;const{isLoadable:WS,loadableWithError:$l,loadableWithPromise:Il,loadableWithValue:bn}=Oo,{WrappedValue:N2}=S2,{peekNodeInfo:HS}=mn,{DEFAULT_VALUE:qr,DefaultValue:xr,getConfigDeletionHandler:T2,registerNode:KS,setConfigDeletionHandler:qS}=Ht,{isRecoilValue:GS}=un,{getRecoilValueAsLoadable:JS,markRecoilValueModified:ZS,setRecoilValue:gf,setRecoilValueLoadable:QS}=gr,{retainedByOptionWithDefault:YS}=hs,$s=t=>t instanceof N2?t.value:t;function XS(t){const{key:e,persistence_UNSTABLE:r}=t,n=YS(t.retainedBy_UNSTABLE);let s=0;function o(p){return Il(p.then(g=>(i=bn(g),g)).catch(g=>{throw i=$l(g),g}))}let i=xe(t.default)?o(t.default):WS(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:bn($s(t.default));i.contents;let a;const l=new Map;function u(p){return p}function d(p,g){const k=g.then(j=>{var R,N;return((N=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===k&&gf(p,m,j),j}).catch(j=>{var R,N;throw((N=((R=p.getState().nextTree)!==null&&R!==void 0?R:p.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===k&&QS(p,m,$l(j)),j});return k}function h(p,g,k){var j;s++;const R=()=>{var B;s--,(B=l.get(p))===null||B===void 0||B.forEach(ae=>ae()),l.delete(p)};if(p.getState().knownAtoms.add(e),i.state==="loading"){const B=()=>{var ae;((ae=p.getState().nextTree)!==null&&ae!==void 0?ae:p.getState().currentTree).atomValues.has(e)||ZS(p,m)};i.contents.finally(B)}const N=(j=t.effects)!==null&&j!==void 0?j:t.effects_UNSTABLE;if(N!=null){let B=function(x){if(Se&&x.key===e){const T=he;return T instanceof xr?f(p,g):xe(T)?Il(T.then(_=>_ instanceof xr?i.toPromise():_)):bn(T)}return JS(p,x)},ae=function(x){return B(x).toPromise()},Ne=function(x){var T;const _=HS(p,(T=p.getState().nextTree)!==null&&T!==void 0?T:p.getState().currentTree,x.key);return Se&&x.key===e&&!(he instanceof xr)?{..._,isSet:!0,loadable:B(x)}:_},he=qr,Se=!0,Ke=!1,ge=null;const Ue=x=>T=>{if(Se){const _=B(m),P=_.state==="hasValue"?_.contents:qr;he=typeof T=="function"?T(P):T,xe(he)&&(he=he.then(L=>(ge={effect:x,value:L},L)))}else{if(xe(T))throw le("Setting atoms to async values is not implemented.");typeof T!="function"&&(ge={effect:x,value:$s(T)}),gf(p,m,typeof T=="function"?_=>{const P=$s(T(_));return ge={effect:x,value:P},P}:$s(T))}},M=x=>()=>Ue(x)(qr),G=x=>T=>{var _;const{release:P}=p.subscribeToTransactions(L=>{var J;let{currentTree:D,previousTree:Y}=L.getState();Y||(ft(),Y=D);const A=(J=D.atomValues.get(e))!==null&&J!==void 0?J:i;if(A.state==="hasValue"){var z,te,X,Z;const ee=A.contents,fe=(z=Y.atomValues.get(e))!==null&&z!==void 0?z:i,q=fe.state==="hasValue"?fe.contents:qr;((te=ge)===null||te===void 0?void 0:te.effect)!==x||((X=ge)===null||X===void 0?void 0:X.value)!==ee?T(ee,q,!D.atomValues.has(e)):((Z=ge)===null||Z===void 0?void 0:Z.effect)===x&&(ge=null)}},e);l.set(p,[...(_=l.get(p))!==null&&_!==void 0?_:[],P])};for(const x of N)try{const T=x({node:m,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:k,setSelf:Ue(x),resetSelf:M(x),onSet:G(x),getPromise:ae,getLoadable:B,getInfo_UNSTABLE:Ne});if(T!=null){var O;l.set(p,[...(O=l.get(p))!==null&&O!==void 0?O:[],T])}}catch(T){he=T,Ke=!0}if(Se=!1,!(he instanceof xr)){var W;const x=Ke?$l(he):xe(he)?Il(d(p,he)):bn($s(he));x.contents,g.atomValues.set(e,x),(W=p.getState().nextTree)===null||W===void 0||W.atomValues.set(e,x)}}return R}function f(p,g){var k,j;return(k=(j=g.atomValues.get(e))!==null&&j!==void 0?j:a)!==null&&k!==void 0?k:i}function v(p,g){if(g.atomValues.has(e))return Ce(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(r==null)return Vm(),i;const k=g.nonvalidatedAtoms.get(e),j=r.validator(k,qr);return a=j instanceof xr?i:bn(j),a}else return i}function y(){a=void 0}function w(p,g,k){if(g.atomValues.has(e)){const j=Ce(g.atomValues.get(e));if(j.state==="hasValue"&&k===j.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&k instanceof xr)return new Map;return a=void 0,new Map().set(e,bn(k))}function b(){return T2(e)!==void 0&&s<=0}const m=KS({key:e,nodeType:"atom",peek:f,get:v,set:w,init:h,invalidate:y,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return m}function bd(t){const{...e}=t,r="default"in t?t.default:new Promise(()=>{});return GS(r)?e6({...e,default:r}):XS({...e,default:r})}function e6(t){const e=bd({...t,default:qr,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:n=>n instanceof xr?n:Ce(t.persistence_UNSTABLE).validator(n,qr)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),r=_o({key:`${t.key}__withFallback`,get:({get:n})=>{const s=n(e);return s instanceof xr?t.default:s},set:({set:n},s)=>n(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return qS(r.key,T2(t.key)),r}bd.value=t=>new N2(t);var t6=bd;class r6{constructor(e){var r;ie(this,"_map",void 0),ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=e==null?void 0:e.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,r){this._map.set(this._keyMapper(e),r)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var n6={MapCache:r6},s6=n6.MapCache,o6=Object.freeze({__proto__:null,MapCache:s6});const{LRUCache:vf}=E2,{MapCache:i6}=o6,hi={equality:"reference",eviction:"none",maxSize:1/0};function a6({equality:t=hi.equality,eviction:e=hi.eviction,maxSize:r=hi.maxSize}=hi){const n=l6(t);return u6(e,r,n)}function l6(t){switch(t){case"reference":return e=>e;case"value":return e=>xd(e)}throw le(`Unrecognized equality policy ${t}`)}function u6(t,e,r){switch(t){case"keep-all":return new i6({mapKey:r});case"lru":return new vf({mapKey:r,maxSize:Ce(e)});case"most-recent":return new vf({mapKey:r,maxSize:1})}throw le(`Unrecognized eviction policy ${t}`)}var c6=a6;const{setConfigDeletionHandler:d6}=Ht;let h6=0;function f6(t){var e,r;const n=c6({equality:(e=(r=t.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var o;let i;try{i=n.get(s)}catch(f){throw le(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(i!=null)return i;const a=`${t.key}__selectorFamily/${(o=xd(s,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${h6++}`,l=f=>t.get(s)(f),u=t.cachePolicy_UNSTABLE,d=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=_o({key:a,get:l,set:(y,w)=>f(s)(y,w),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d})}else h=_o({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d});return n.set(s,h),d6(h.key,()=>{n.delete(s)}),h}}var gn=f6;gn({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});gn({key:"__error",get:t=>()=>{throw le(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:P2,loadableWithPromise:A2,loadableWithValue:L2}=Oo;function qa(t,e){const r=Array(e.length).fill(void 0),n=Array(e.length).fill(void 0);for(const[s,o]of e.entries())try{r[s]=t(o)}catch(i){n[s]=i}return[r,n]}function p6(t){return t!=null&&!xe(t)}function Ga(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Gu(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((r,n,s)=>({...r,[n]:e[s]}),{})}function Gn(t,e,r){const n=r.map((s,o)=>s==null?L2(e[o]):xe(s)?A2(s):P2(s));return Gu(t,n)}function m6(t,e){return e.map((r,n)=>r===void 0?t[n]:r)}gn({key:"__waitForNone",get:t=>({get:e})=>{const r=Ga(t),[n,s]=qa(e,r);return Gn(t,n,s)},dangerouslyAllowMutability:!0});gn({key:"__waitForAny",get:t=>({get:e})=>{const r=Ga(t),[n,s]=qa(e,r);return s.some(o=>!xe(o))?Gn(t,n,s):new Promise(o=>{for(const[i,a]of s.entries())xe(a)&&a.then(l=>{n[i]=l,s[i]=void 0,o(Gn(t,n,s))}).catch(l=>{s[i]=l,o(Gn(t,n,s))})})},dangerouslyAllowMutability:!0});gn({key:"__waitForAll",get:t=>({get:e})=>{const r=Ga(t),[n,s]=qa(e,r);if(s.every(i=>i==null))return Gu(t,n);const o=s.find(p6);if(o!=null)throw o;return Promise.all(s).then(i=>Gu(t,m6(n,i)))},dangerouslyAllowMutability:!0});gn({key:"__waitForAllSettled",get:t=>({get:e})=>{const r=Ga(t),[n,s]=qa(e,r);return s.every(o=>!xe(o))?Gn(t,n,s):Promise.all(s.map((o,i)=>xe(o)?o.then(a=>{n[i]=a,s[i]=void 0}).catch(a=>{n[i]=void 0,s[i]=a}):null)).then(()=>Gn(t,n,s))},dangerouslyAllowMutability:!0});gn({key:"__noWait",get:t=>({get:e})=>{try{return _o.value(L2(e(t)))}catch(r){return _o.value(xe(r)?A2(r):P2(r))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:iE}=Oo,{RecoilRoot:g6}=_d,{isRecoilValue:aE}=un,{freshSnapshot:lE}=Fa,{useRecoilValue:v6,useSetRecoilState:y6}=M3;var Ja={RecoilRoot:g6,atom:t6,useRecoilValue:v6,useSetRecoilState:y6},w6=Ja.RecoilRoot,Sd=Ja.atom,cn=Ja.useRecoilValue,Uo=Ja.useSetRecoilState;const dn=Sd({key:"userState",default:null});Sd({key:"interestsState",default:[]});const xo=Sd({key:"onboardingDataState",default:null}),O2="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012C2%2017.52%206.48%2022%2012%2022C17.52%2022%2022%2017.52%2022%2012C22%206.48%2017.52%202%2012%202ZM9.29%2016.29L5.7%2012.7C5.60742%2012.6074%205.53398%2012.4975%205.48387%2012.3765C5.43377%2012.2556%205.40798%2012.1259%205.40798%2011.995C5.40798%2011.8641%205.43377%2011.7344%205.48387%2011.6135C5.53398%2011.4925%205.60742%2011.3826%205.7%2011.29C5.79258%2011.1974%205.90249%2011.124%206.02346%2011.0739C6.14442%2011.0238%206.27407%2010.998%206.405%2010.998C6.53593%2010.998%206.66558%2011.0238%206.78654%2011.0739C6.90751%2011.124%207.01742%2011.1974%207.11%2011.29L10%2014.17L16.88%207.29C17.067%207.10302%2017.3206%206.99798%2017.585%206.99798C17.8494%206.99798%2018.103%207.10302%2018.29%207.29C18.477%207.47698%2018.582%207.73057%2018.582%207.995C18.582%208.25943%2018.477%208.51302%2018.29%208.7L10.7%2016.29C10.6075%2016.3827%2010.4976%2016.4563%2010.3766%2016.5064C10.2557%2016.5566%2010.126%2016.5824%209.995%2016.5824C9.86403%2016.5824%209.73435%2016.5566%209.61338%2016.5064C9.4924%2016.4563%209.38251%2016.3827%209.29%2016.29Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",_6=["","","",""];function x6(){const[t,e]=S.useState(null),r=bt(),n=Uo(xo),s=i=>{e(a=>a===i?null:i)},o=()=>{t&&(n({genre:t,moods:[]}),r("/onboarding/step2"))};return c.jsxs("div",{className:"w-full min-h-screen bg-white relative overflow-hidden font-pretendard",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:"w-full h-6 relative overflow-hidden mt-4",children:c.jsxs("div",{className:"w-full h-1 absolute left-0 top-[18px] flex justify-center gap-4",children:[c.jsx("div",{className:"w-36 h-1 rounded-xs",style:{backgroundColor:"#2e2c6a"}}),c.jsx("div",{className:"w-36 h-1 bg-gray-50 rounded-xs"})]})}),c.jsxs("div",{className:"px-5 max-w-md mx-auto flex flex-col justify-center min-h-[calc(100vh-8rem-80px)]",children:[c.jsxs("h1",{className:"text-center text-black text-2xl font-semibold mb-16 leading-tight",children:["  ",c.jsx("br",{}),""]}),c.jsx("div",{className:"space-y-4 relative",children:_6.map(i=>{const a=t===i;return c.jsxs("button",{onClick:()=>s(i),className:`w-full h-12 rounded-[10px] flex items-center px-4 relative transition-colors ${a?"bg-white border-2 text-primary-900":"bg-gray-50 text-gray-600 hover:bg-gray-100 border-2 border-gray-200"}`,style:a?{borderColor:"#2e2c6a"}:void 0,children:[c.jsx("span",{className:"text-base font-semibold",children:i}),a&&c.jsx("div",{className:"absolute right-4 w-6 h-6 flex items-center justify-center",children:c.jsx("img",{src:O2,alt:"check",className:"w-6 h-6"})})]},i)})})]}),c.jsxs("div",{className:"fixed left-0 right-0 w-full px-5 flex gap-3",style:{bottom:"calc(3rem + env(safe-area-inset-bottom, 0px))",maxWidth:"375px",left:"50%",transform:"translateX(-50%)"},children:[c.jsx("button",{className:"flex-1 h-12 bg-gray-300 rounded-[10px] flex items-center justify-center",children:c.jsx("span",{className:"text-white text-base font-semibold",children:""})}),c.jsx("button",{onClick:o,className:`flex-1 h-12 rounded-[10px] flex items-center justify-center transition-colors ${t!==null?"text-white":"bg-gray-300 text-white cursor-not-allowed"}`,style:t!==null?{backgroundColor:"#2e2c6a"}:void 0,disabled:t===null,children:c.jsx("span",{className:"text-base font-semibold",children:""})})]})]})}var Ju=function(t,e){return Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ju(t,e)};function $2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ju(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ca=function(){return ca=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ca.apply(this,arguments)};function ps(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function I2(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function M2(t,e){return function(r,n){e(r,n,t)}}function D2(t,e,r,n,s,o){function i(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,v=r.length-1;v>=0;v--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(m){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(m||null))};var b=(0,r[v])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=i(b.get))&&(d.get=h),(h=i(b.set))&&(d.set=h),(h=i(b.init))&&s.unshift(h)}else(h=i(b))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function U2(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function V2(t){return typeof t=="symbol"?t:"".concat(t)}function B2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function z2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function K(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function F2(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Za=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function W2(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Za(e,t,r)}function da(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function H2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kd(arguments[e]));return t}function K2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function q2(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function G2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(v){return function(y){return Promise.resolve(y).then(v,h)}}function a(v,y){n[v]&&(s[v]=function(w){return new Promise(function(b,m){o.push([v,w,b,m])>1||l(v,w)})},y&&(s[v]=y(s[v])))}function l(v,y){try{u(n[v](y))}catch(w){f(o[0][3],w)}}function u(v){v.value instanceof os?Promise.resolve(v.value.v).then(d,h):f(o[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function f(v,y){v(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function J2(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:os(t[s](i)),done:!1}:o?o(i):i}:o}}function Z2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof da=="function"?da(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,l){i=t[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},i)}}function Q2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var b6=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Zu=function(t){return Zu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zu(t)};function Y2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zu(t),n=0;n<r.length;n++)r[n]!=="default"&&Za(e,t,r[n]);return b6(e,t),e}function X2(t){return t&&t.__esModule?t:{default:t}}function eg(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function tg(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function rg(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ng(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var S6=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function sg(t){function e(o){t.error=t.hasError?new S6(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function og(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?e?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):t}const k6={__extends:$2,__assign:ca,__rest:ps,__decorate:I2,__param:M2,__esDecorate:D2,__runInitializers:U2,__propKey:V2,__setFunctionName:B2,__metadata:z2,__awaiter:K,__generator:F2,__createBinding:Za,__exportStar:W2,__values:da,__read:kd,__spread:H2,__spreadArrays:K2,__spreadArray:q2,__await:os,__asyncGenerator:G2,__asyncDelegator:J2,__asyncValues:Z2,__makeTemplateObject:Q2,__importStar:Y2,__importDefault:X2,__classPrivateFieldGet:eg,__classPrivateFieldSet:tg,__classPrivateFieldIn:rg,__addDisposableResource:ng,__disposeResources:sg,__rewriteRelativeImportExtension:og},E6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ng,get __assign(){return ca},__asyncDelegator:J2,__asyncGenerator:G2,__asyncValues:Z2,__await:os,__awaiter:K,__classPrivateFieldGet:eg,__classPrivateFieldIn:rg,__classPrivateFieldSet:tg,__createBinding:Za,__decorate:I2,__disposeResources:sg,__esDecorate:D2,__exportStar:W2,__extends:$2,__generator:F2,__importDefault:X2,__importStar:Y2,__makeTemplateObject:Q2,__metadata:z2,__param:M2,__propKey:V2,__read:kd,__rest:ps,__rewriteRelativeImportExtension:og,__runInitializers:U2,__setFunctionName:B2,__spread:H2,__spreadArray:q2,__spreadArrays:K2,__values:da,default:k6},Symbol.toStringTag,{value:"Module"})),C6="modulepreload",j6=function(t){return"/"+t},yf={},ms=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=j6(l),l in yf)return;yf[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":C6,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},R6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ed extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wf extends Ed{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _f extends Ed{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xf extends Ed{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qu||(Qu={}));class N6{constructor(e,{headers:r={},customFetch:n,region:s=Qu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=R6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:i,body:a,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const v=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:f,signal:l}).catch(m=>{throw m.name==="AbortError"?m:new wf(m)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new _f(v);if(!v.ok)throw new xf(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield v.json():w==="application/octet-stream"||w==="application/pdf"?b=yield v.blob():w==="text/event-stream"?b=v:w==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new wf(o)}:{data:null,error:o,response:o instanceof xf||o instanceof _f?o.context:void 0}}})}}var rt={};const gs=t0(E6);var fi={},pi={},mi={},gi={},vi={},T6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=T6();const P6=is.fetch,ig=is.fetch.bind(is),ag=is.Headers,A6=is.Request,L6=is.Response,vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ag,Request:A6,Response:L6,default:ig,fetch:P6},Symbol.toStringTag,{value:"Module"})),O6=t0(vn);var yi={},bf;function lg(){if(bf)return yi;bf=1,Object.defineProperty(yi,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yi.default=t,yi}var Sf;function ug(){if(Sf)return vi;Sf=1,Object.defineProperty(vi,"__esModule",{value:!0});const t=gs,e=t.__importDefault(O6),r=t.__importDefault(lg());class n{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,v;let y=null,w=null,b=null,m=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=R:w=JSON.parse(R))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");k&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,m=406,p="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const k=await u.text();try{y=JSON.parse(k),Array.isArray(y)&&u.status===404&&(w=[],y=null,m=200,p="OK")}catch{u.status===404&&k===""?(m=204,p="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((v=y==null?void 0:y.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,m=200,p="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:w,count:b,status:m,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,i)}returns(){return this}overrideTypes(){return this}}return vi.default=n,vi}var kf;function cg(){if(kf)return gi;kf=1,Object.defineProperty(gi,"__esModule",{value:!0});const e=gs.__importDefault(ug());class r extends e.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return gi.default=r,gi}var Ef;function Cd(){if(Ef)return mi;Ef=1,Object.defineProperty(mi,"__esModule",{value:!0});const e=gs.__importDefault(cg()),r=new RegExp("[,()]");class n extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return mi.default=n,mi}var Cf;function dg(){if(Cf)return pi;Cf=1,Object.defineProperty(pi,"__esModule",{value:!0});const e=gs.__importDefault(Cd());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return pi.default=r,pi}var jf;function $6(){if(jf)return fi;jf=1,Object.defineProperty(fi,"__esModule",{value:!0});const t=gs,e=t.__importDefault(dg()),r=t.__importDefault(Cd());class n{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${o}`);let v;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{f.searchParams.append(w,b)})):(h="POST",v=i);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return fi.default=n,fi}Object.defineProperty(rt,"__esModule",{value:!0});var hg=rt.PostgrestError=bg=rt.PostgrestBuilder=_g=rt.PostgrestTransformBuilder=yg=rt.PostgrestFilterBuilder=gg=rt.PostgrestQueryBuilder=pg=rt.PostgrestClient=void 0;const vs=gs,fg=vs.__importDefault($6());var pg=rt.PostgrestClient=fg.default;const mg=vs.__importDefault(dg());var gg=rt.PostgrestQueryBuilder=mg.default;const vg=vs.__importDefault(Cd());var yg=rt.PostgrestFilterBuilder=vg.default;const wg=vs.__importDefault(cg());var _g=rt.PostgrestTransformBuilder=wg.default;const xg=vs.__importDefault(ug());var bg=rt.PostgrestBuilder=xg.default;const Sg=vs.__importDefault(lg());hg=rt.PostgrestError=Sg.default;var kg=rt.default={PostgrestClient:fg.default,PostgrestQueryBuilder:mg.default,PostgrestFilterBuilder:vg.default,PostgrestTransformBuilder:wg.default,PostgrestBuilder:xg.default,PostgrestError:Sg.default};const I6=av({__proto__:null,get PostgrestBuilder(){return bg},get PostgrestClient(){return pg},get PostgrestError(){return hg},get PostgrestFilterBuilder(){return yg},get PostgrestQueryBuilder(){return gg},get PostgrestTransformBuilder(){return _g},default:kg},[rt]),{PostgrestClient:M6,PostgrestQueryBuilder:uE,PostgrestFilterBuilder:cE,PostgrestTransformBuilder:dE,PostgrestBuilder:hE,PostgrestError:fE}=kg||I6;class D6{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const U6="2.78.0",V6=`realtime-js/${U6}`,B6="1.0.0",Yu=1e4,z6=1e3,F6=100;var Ys;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ys||(Ys={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var Ut;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ut||(Ut={}));var Xu;(function(t){t.websocket="websocket"})(Xu||(Xu={}));var Gr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gr||(Gr={}));class W6{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const l=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Eg{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ve||(ve={}));const Rf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=H6(i,t,e,s),o),{}):{}},H6=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Cg(o,i):ec(i)},Cg=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return J6(e,r)}switch(t){case ve.bool:return K6(e);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return q6(e);case ve.json:case ve.jsonb:return G6(e);case ve.timestamp:return Z6(e);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return ec(e);default:return ec(e)}},ec=t=>t,K6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},q6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},G6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},J6=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Cg(e,a))}return t},Z6=t=>typeof t=="string"?t.replace(" ","T"):t,jg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ml{constructor(e,r,n={},s=Yu){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nf||(Nf={}));class Xs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xs.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Xs.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xs.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),y=d.filter(b=>v.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(i,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tf||(Tf={}));var eo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eo||(eo={}));var nr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class jd{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ml(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new Eg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xs(this),this.broadcastEndpointURL=jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[eo.PRESENCE]&&this.bindings[eo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(nr.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(nr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let p=0;p<b;p++){const g=w[p],{filter:{event:k,schema:j,table:R,filter:N}}=g,O=v&&v[p];if(O&&O.event===k&&O.schema===j&&O.table===R&&O.filter===N)m.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),this.state=Ve.errored,e==null||e(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(nr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ve.errored,e==null||e(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ve.joined&&e===eo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ml(this,Ut.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ml(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>F6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ut;if(n&&[a,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,b;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(v=>v.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var y,w,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const k=v.id,j=(y=v.filter)===null||y===void 0?void 0:y.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:b,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&jd.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ut.close,{},e)}_onError(e){this._on(Ut.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Rf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Rf(e.columns,e.old_record)),r}}const Dl=()=>{},wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q6=[1e3,2e3,5e3,1e4],Y6=1e4,X6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ek{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dl,this.ref=0,this.reconnectTimer=null,this.logger=Dl,this.conn=null,this.sendBuffer=[],this.serializer=new W6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>ms(async()=>{const{default:a}=await Promise.resolve().then(()=>vn);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xu.websocket}`,this.httpEndpoint=jg(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B6}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Gr.Connecting;case Ys.open:return Gr.Open;case Ys.closing:return Gr.Closing;default:return Gr.Closed}}isConnected(){return this.connectionState()===Gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new jd(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(z6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ut.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([X6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:V6};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Eg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Yu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:wi.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Dl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Q6[h-1]||Y6,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Rd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tk extends Rd{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tc extends Rd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Nd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rk=()=>K(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>vn),void 0)).Response:Response}),rc=t=>{if(Array.isArray(t))return t.map(r=>rc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=rc(n)}),e},nk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ul=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sk=(t,e,r)=>K(void 0,void 0,void 0,function*(){const n=yield rk();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new tk(Ul(s),o,i))}).catch(s=>{e(new tc(Ul(s),s))}):e(new tc(Ul(t),t))}),ok=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(nk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Vo(t,e,r,n,s,o){return K(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,ok(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>sk(l,a,n))})})}function bo(t,e,r,n){return K(this,void 0,void 0,function*(){return Vo(t,"GET",e,r,n)})}function Mt(t,e,r,n,s){return K(this,void 0,void 0,function*(){return Vo(t,"POST",e,n,s,r)})}function nc(t,e,r,n,s){return K(this,void 0,void 0,function*(){return Vo(t,"PUT",e,n,s,r)})}function ik(t,e,r,n){return K(this,void 0,void 0,function*(){return Vo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Td(t,e,r,n,s){return K(this,void 0,void 0,function*(){return Vo(t,"DELETE",e,n,s,r)})}class ak{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Te(e))return{data:null,error:e};throw e}})}}var Rg;class lk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Rg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ak(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Te(e))return{data:null,error:e};throw e}})}}Rg=Symbol.toStringTag;const uk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ck{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Nd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return K(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Pf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?nc:Mt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}})}upload(e,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return K(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Pf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nc(this.fetch,a.toString(),l,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Mt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Rd("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}update(e,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return K(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}copy(e,r,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return K(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return K(this,void 0,void 0,function*(){try{const s=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>bo(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new lk(l,this.shouldThrowOnError)}info(e){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield bo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:rc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}exists(e){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ik(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n)&&n instanceof tc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return K(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}list(e,r,n){return K(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uk),r),{prefix:e||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}listV2(e,r){return K(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ng="2.78.0",Tg={"X-Client-Info":`storage-js/${Ng}`};class dk{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tg),r),this.fetch=Nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return K(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield bo(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}createBucket(e){return K(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return K(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}})}emptyBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class hk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tg),r),this.fetch=Nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}listBuckets(e){return K(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield bo(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}}const Pd={"X-Client-Info":`storage-js/${Ng}`,"Content-Type":"application/json"};class Pg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Vl extends Pg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fk extends Pg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Af;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Af||(Af={}));const Ad=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},pk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mk=(t,e,r)=>K(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new Vl(Lf(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Vl(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Vl(a,s,i))}}else e(new fk(Lf(t),t))}),gk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(pk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function vk(t,e,r,n,s,o){return K(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,gk(e,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>mk(l,a,n))})})}function gt(t,e,r,n,s){return K(this,void 0,void 0,function*(){return vk(t,"POST",e,n,s,r)})}class yk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return K(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return K(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listIndexes(e){return K(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return K(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class wk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return K(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listVectors(e){return K(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield gt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}queryVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return K(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}class _k{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listBuckets(){return K(this,arguments,void 0,function*(e={}){try{return{data:yield gt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}class xk extends _k{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new bk(this.url,this.headers,e,this.fetch)}}class bk extends yk{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Sk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Sk extends wk{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kk extends dk{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new ck(this.url,this.headers,e,this.fetch)}get vectors(){return new xk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hk(this.url+"/iceberg",this.headers,this.fetch)}}const Ek="2.78.0";let Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";const Ck={"X-Client-Info":`supabase-js-${Bs}/${Ek}`},jk={headers:Ck},Rk={schema:"public"},Nk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tk={},Pk=t=>{let e;return t?e=t:typeof fetch>"u"?e=ig:e=fetch,(...r)=>e(...r)},Ak=()=>typeof Headers>"u"?ag:Headers,Lk=(t,e,r)=>{const n=Pk(r),s=Ak();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function Ok(t){return t.endsWith("/")?t:t+"/"}function $k(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Ik(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ok(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ag="2.78.0",Rn=30*1e3,sc=3,Bl=sc*Rn,Mk="http://localhost:9999",Dk="supabase.auth.token",Uk={"X-Client-Info":`gotrue-js/${Ag}`},oc="X-Supabase-Api-Version",Lg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bk=10*60*1e3;class So extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zk extends So{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fk(t){return Q(t)&&t.name==="AuthApiError"}class Jr extends So{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Br extends So{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ot extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wk(t){return Q(t)&&t.name==="AuthSessionMissingError"}class Sn extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _i extends Br{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xi extends Br{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hk(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Of extends Br{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ic extends Br{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function zl(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class $f extends Br{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ac extends Br{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),If=` 	
\r=`.split(""),Kk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<If.length;e+=1)t[If[e].charCodeAt(0)]=-2;for(let e=0;e<ha.length;e+=1)t[ha[e].charCodeAt(0)]=e;return t})();function Mf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ha[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ha[n]),e.queuedBits-=6}}function Og(t,e,r){const n=Kk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Df(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Jk(i,n,r)};for(let i=0;i<t.length;i+=1)Og(t.charCodeAt(i),s,o);return e.join("")}function qk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qk(n,e)}}function Jk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Jn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Og(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Zk(t){const e=[];return Gk(t,r=>e.push(r)),new Uint8Array(e)}function Xr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Mf(s,r,n)),Mf(null,r,n),e.join("")}function Qk(t){return Math.round(Date.now()/1e3)+t}function Yk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},$g=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function Xk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ig=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ms(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},e4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Fr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yr=async(t,e)=>{await t.removeItem(e)};class Qa{constructor(){this.promise=new Qa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qa.promiseConstructor=Promise;function Fl(t){const e=t.split(".");if(e.length!==3)throw new ac("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Vk.test(e[n]))throw new ac("JWT not in base64url format");return{header:JSON.parse(Df(e[0])),payload:JSON.parse(Df(e[1])),signature:Jn(e[2]),raw:{header:e[0],payload:e[1]}}}async function t4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function r4(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function n4(t){return("0"+t.toString(16)).substr(-2)}function s4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,n4).join("")}async function o4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function i4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await o4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,r=!1){const n=s4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nn(t,`${e}-code-verifier`,s);const o=await i4(n);return[o,n===o?"plain":"s256"]}const a4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l4(t){const e=t.headers.get(oc);if(!e||!e.match(a4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function u4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function c4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(t){if(!d4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h4(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Uf(t){return JSON.parse(JSON.stringify(t))}const Kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),f4=[502,503,504];async function Vf(t){var e;if(!e4(t))throw new ic(Kr(t),0);if(f4.includes(t.status))throw new ic(Kr(t),t.status);let r;try{r=await t.json()}catch(o){throw new Jr(Kr(o),o)}let n;const s=l4(t);if(s&&s.getTime()>=Lg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $f(Kr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new $f(Kr(r),t.status,r.weak_password.reasons);throw new zk(Kr(r),t.status||500,n)}const p4=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function se(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[oc]||(o[oc]=Lg["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await m4(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function m4(t,e,r,n,s,o){const i=p4(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new ic(Kr(l),0)}if(a.ok||await Vf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Vf(l)}}function $t(t){var e;let r=null;y4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Qk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Bf(t){const e=$t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function g4(t){return{data:t,error:null}}function v4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=ps(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function zf(t){return t}function y4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hl=["global","local","others"];class w4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ig(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Hl[0]){if(Hl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hl.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ps(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:v4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zf});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){En(e);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){En(e);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){En(e);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){En(e.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){En(e.userId),En(e.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zf});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}}function Ff(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Cn={debug:!!(globalThis&&$g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _4 extends Mg{}async function x4(t,e,r){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function b4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function S4(t){return parseInt(t,16)}function k4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function E4(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Dg(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${b}
${m}`}class Me extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class fa extends Me{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function C4({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Ug(i)){if(o.rp.id!==i)return new Me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function j4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Ug(n)){if(r.rpId!==n)return new Me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class R4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const N4=new R4;function T4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=ps(t,["challenge","user","excludeCredentials"]),o=Jn(e).buffer,i=Object.assign(Object.assign({},r),{id:Jn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Jn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function P4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ps(t,["challenge","allowCredentials"]),s=Jn(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Jn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function A4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xr(new Uint8Array(s.authenticatorData)),clientDataJSON:Xr(new Uint8Array(s.clientDataJSON)),signature:Xr(new Uint8Array(s.signature)),userHandle:s.userHandle?Xr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ug(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Wf(){var t,e;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function O4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",e)}:{data:null,error:new fa("Empty credential response",e)}}catch(e){return{data:null,error:C4({error:e,options:t})}}}async function $4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",e)}:{data:null,error:new fa("Empty credential response",e)}}catch(e){return{data:null,error:j4({error:e,options:t})}}}const I4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},M4={userVerification:"preferred",hints:["security-key"]};function pa(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=pa(a,i):n[o]=pa(i)}else n[o]=i}return n}function D4(t,e){return pa(I4,t,e||{})}function U4(t,e){return pa(M4,t,e||{})}class V4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const l=s??N4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=D4(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await O4({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=U4(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await $4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return Q(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new So("rpId is required for WebAuthn authentication")};try{if(!Wf())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Q(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new So("rpId is required for WebAuthn registration")};try{if(!Wf())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return Q(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in register",i)}}}}b4();const B4={url:Mk,storageKey:Dk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hf(t,e,r){return await r()}const jn={};class ko{get jwks(){var e,r;return(r=(e=jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ko.nextInstanceID,ko.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},B4),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new w4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ig(s.fetch),this.lock=s.lock||Hf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=x4:this.lock=Hf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ag}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Xk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Hk(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new Jr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$t}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await kn(this.storage,this.storageKey)),o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:$t})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new _i("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bf})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bf})}else throw new _i("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Sn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,l,u,d,h,f;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:m,options:p}=e;let g;if(et())if(typeof b=="object")g=b;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")g=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const k=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await g.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Dg(j[0]);let N=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const W=await g.request({method:"eth_chainId"});N=S4(W)}const O={domain:k.host,address:R,statement:m,uri:k.href,version:"1",chainId:N,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=E4(O),y=await g.request({method:"personal_sign",params:[k4(v),R]})}try{const{data:w,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$t});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Sn}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(Q(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var r,n,s,o,i,a,l,u,d,h,f,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:m,statement:p,options:g}=e;let k;if(et())if(typeof m=="object")k=m;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=m}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let N;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")N=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)N=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:b,error:m}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:$t});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Sn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(Q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$t});if(await yr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Sn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$t}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Sn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await kn(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new _i("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:$t});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await kn(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:g4})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ot;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new _i("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Fr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Wl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=h4(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:kr})})}catch(r){if(Q(r))return Wk(r)&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ot;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await kn(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:kr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Fl(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!et())throw new xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Of("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=e;if(!o||!a||!i||!u)throw new xi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(Fk(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Yk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kn(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:h,error:f}=o;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:u,nonce:d}=e,h=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:$t}),{data:f,error:v}=h;return v?{data:{user:null,session:null},error:v}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Sn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:v})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await r4(async s=>(s>0&&await t4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$t})),(s,o)=>{const i=200*Math.pow(2,s);return o&&zl(o)&&Date.now()+i-n<Rn})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Fr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Wl()}else if(s&&!s.user&&!s.user){const i=await Fr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await yr(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=Wl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bl;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Bl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),zl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qa;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Ot;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Q(o)){const i={data:null,error:o};return zl(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Uf(s);await Nn(this.storage,this.storageKey,o)}else{const s=Uf(r);await Nn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await yr(this.storage,this.storageKey),await yr(this.storage,this.storageKey+"-code-verifier"),await yr(this.storage,this.storageKey+"-user"),this.userStorage&&await yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${sc} ticks`),s<=sc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await kn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?A4(e.webauthn.credential_response):L4(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:T4(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:P4(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fl(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new Ot}})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new Ot};const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new Ot};const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Bk>s)return n;const{data:o,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Fl(n);r!=null&&r.allowExpired||u4(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const d=c4(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,Zk(`${a}.${l}`)))throw new ac("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}ko.nextInstanceID=0;const z4=ko;class F4 extends z4{constructor(e){super(e)}}class W4{constructor(e,r,n){var s,o,i;this.supabaseUrl=e,this.supabaseKey=r;const a=Ik(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Rk,realtime:Tk,auth:Object.assign(Object.assign({},Nk),{storageKey:l}),global:jk},d=$k(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Lk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new M6(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new kk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new N6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ek(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H4=(t,e,r)=>new W4(t,e,r);function K4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}K4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vg=typeof Deno<"u",Bg=Vg?Deno.env.get("VITE_SUPABASE_URL")||Deno.env.get("SUPABASE_URL")||"":"https://tnuisvzwffwrzqcdcczh.supabase.co",zg=Vg?Deno.env.get("SUPABASE_SERVICE_ROLE_KEY")||Deno.env.get("VITE_SUPABASE_SERVICE_ROLE_KEY")||Deno.env.get("VITE_SUPABASE_ANON_KEY")||Deno.env.get("SUPABASE_ANON_KEY")||"":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRudWlzdnp3ZmZ3cnpxY2RjY3poIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMzIzMzgsImV4cCI6MjA3NzgwODMzOH0.14yk-eK30HLWpopxR2cfYNPdh3Ii4B1xgjXvY9uov9Y";if(!Bg||!zg)throw new Error("Supabase URL  Key   .");const je=H4(Bg,zg);async function Fg(t,e){try{const{data:r}=await je.from("profiles").select("*").eq("user_id",t).single();let n,s;if(r){const{data:o,error:i}=await je.from("profiles").update({genre:e.genre,moods:e.moods,updated_at:new Date().toISOString()}).eq("user_id",t).select().single();n=o,s=i}else{const{data:o,error:i}=await je.from("profiles").insert({user_id:t,genre:e.genre,moods:e.moods}).select().single();n=o,s=i}return s?(console.error("  :",s),null):n}catch(r){return console.error("   :",r),null}}async function q4(t){try{const{data:e,error:r}=await je.from("profiles").select("*").eq("user_id",t).single();return r?(console.error("  :",r),null):e}catch(e){return console.error("   :",e),null}}const G4=[{id:"01",number:"01",english:"Romance",korean:"",gradient:"from-red-100 via-orange-100 to-pink-200"},{id:"02",number:"02",english:"Horror",korean:"",gradient:"from-gray-900 via-gray-500 to-red-500"},{id:"03",number:"03",english:"Comedy",korean:"",gradient:"from-amber-300 via-amber-100 to-amber-300"},{id:"04",number:"04",english:"SF",korean:" ",gradient:"from-gray-900 via-slate-800 to-cyan-900"},{id:"05",number:"05",english:"Fantasy",korean:"",gradient:"from-fuchsia-950 via-purple-500 to-violet-200"},{id:"06",number:"06",english:"Adventure",korean:"",gradient:"from-orange-300 via-red-400 to-yellow-300"},{id:"07",number:"07",english:"Action",korean:"",gradient:"from-stone-900 via-stone-600 to-red-600"},{id:"08",number:"08",english:"Healing",korean:"",gradient:"from-gray-300 via-lime-100 to-green-300"},{id:"09",number:"09",english:"Mystery",korean:"",gradient:"from-slate-800 via-gray-400 to-gray-500"}],J4={};function Z4(){const[t,e]=S.useState([]),[r,n]=S.useState(!1),s=bt(),o=cn(xo),i=Uo(xo),a=o==null?void 0:o.genre,l=(a?J4[a]:[])||[],u=f=>{if(l.includes(f)&&a){alert(`'${a}'    .`);return}e(y=>y.includes(f)?y.filter(w=>w!==f):y.length<2?[...y,f]:y)},d=()=>{s("/onboarding")},h=async()=>{if(!(!o||t.length===0)){n(!0);try{const f={...o,moods:t};i(f),await Fg("temp-user-id",f),sessionStorage.setItem("prevPath","/onboarding/step2"),s("/main")}catch(f){console.error("    :",f)}finally{n(!1)}}};return c.jsxs("div",{className:"w-full min-h-screen bg-white relative overflow-hidden font-pretendard",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:"w-full h-6 relative overflow-hidden mt-4",children:c.jsxs("div",{className:"w-full h-1 absolute left-0 top-[18px] flex justify-center gap-4",children:[c.jsx("div",{className:"w-36 h-1 rounded-xs",style:{backgroundColor:"#2e2c6a"}}),c.jsx("div",{className:"w-36 h-1 rounded-xs",style:{backgroundColor:"#2e2c6a"}})]})}),c.jsxs("div",{className:"px-5 max-w-md mx-auto flex flex-col justify-center min-h-[calc(100vh-8rem-80px)]",children:[c.jsxs("h1",{className:"text-center text-black text-2xl font-semibold mb-2 leading-tight",children:[a?`'${a}'  `:"  ",c.jsx("br",{}),"?"]}),c.jsx("p",{className:"text-center text-primary-900 text-xs font-semibold mb-12",children:"*  2   !"}),c.jsx("div",{className:"w-full grid grid-cols-3 gap-2",children:G4.map(f=>{const v=t.includes(f.id),y=l.includes(f.id);return c.jsxs("button",{onClick:()=>u(f.id),className:`aspect-square rounded-[10px] relative overflow-hidden transition-colors ${v&&!y?"bg-white border-2":"border-2 border-transparent"} ${y?"bg-gray-200 opacity-60 cursor-not-allowed":"bg-gray-50"}`,style:v&&!y?{borderColor:"#2e2c6a"}:void 0,children:[c.jsx("div",{className:"absolute left-2 top-2 text-gray-900 text-xs font-light",children:f.number}),c.jsx("div",{className:"absolute left-2 top-[21px] text-gray-900 text-xs font-light",children:f.english}),c.jsx("div",{className:"absolute left-2 bottom-2 pr-10 text-gray-900 text-xs font-bold",children:f.korean}),c.jsx("div",{className:`absolute w-7 h-7 right-2 bottom-2 bg-gradient-to-b ${f.gradient} rounded-full`}),v&&c.jsx("div",{className:"absolute right-2 top-2 w-6 h-6 flex items-center justify-center",children:c.jsx("img",{src:O2,alt:"check",className:"w-6 h-6"})})]},f.id)})})]}),c.jsxs("div",{className:"fixed left-0 right-0 w-full px-5 flex gap-3",style:{bottom:"calc(3rem + env(safe-area-inset-bottom, 0px))",maxWidth:"375px",left:"50%",transform:"translateX(-50%)"},children:[c.jsx("button",{onClick:d,className:"flex-1 h-12 rounded-[10px] flex items-center justify-center",style:{backgroundColor:"#7a8dd6"},children:c.jsx("span",{className:"text-white text-base font-semibold",children:""})}),c.jsx("button",{onClick:h,className:`flex-1 h-12 rounded-[10px] flex items-center justify-center transition-colors ${t.length>0&&!r?"text-white":"bg-gray-300 text-white cursor-not-allowed"}`,style:t.length>0&&!r?{backgroundColor:"#2e2c6a"}:void 0,disabled:t.length===0||r,children:c.jsx("span",{className:"text-base font-semibold",children:r?" ...":""})})]})]})}const Q4={"01":[""],"02":["",""],"03":[""],"04":["SF"],"05":[""],"06":[""],"07":[""],"08":["",""],"09":["",""]};function Y4(t){const e=new Set;return t.forEach(r=>{(Q4[r]||[]).forEach(s=>e.add(s))}),Array.from(e)}const Kl={},X4=typeof Deno<"u";async function e5(){var i,a;let t="",e="";X4?(t=Deno.env.get("SUPABASE_ANON_KEY")||Deno.env.get("VITE_SUPABASE_ANON_KEY")||"",e=Deno.env.get("SUPABASE_SERVICE_ROLE_KEY")||Deno.env.get("VITE_SUPABASE_SERVICE_ROLE_KEY")||""):typeof import.meta<"u"&&(t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRudWlzdnp3ZmZ3cnpxY2RjY3poIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMzIzMzgsImV4cCI6MjA3NzgwODMzOH0.14yk-eK30HLWpopxR2cfYNPdh3Ii4B1xgjXvY9uov9Y",e=(Kl==null?void 0:Kl.VITE_SUPABASE_SERVICE_ROLE_KEY)||"");const r=await je.auth.getSession().catch(()=>null),n=(a=(i=r==null?void 0:r.data)==null?void 0:i.session)==null?void 0:a.access_token,s={},o=n||e||t;return t&&(s.apikey=t),o&&(s.Authorization=`Bearer ${o}`),s}const t5={"01":"","02":"","03":"","04":" ","05":"","06":"","07":"","08":"","09":""};async function r5(t,e=!1){try{const n=`${t.moods.map(o=>t5[o]||"").join(" ")} ${t.genre}`,s=Y4(t.moods);try{console.log(`[AI  ] "${n}"`);const{data:o,error:i}=await je.functions.invoke("embed",{body:{text:n}});if(i)throw console.warn("[ ]   :",i.message),i;const a=o.vector,{data:l,error:u}=await je.rpc("match_contents",{query_vector:a,match_count:10,p_genre:t.genre,p_mood_tags:s});if(u)throw console.warn("[  ]   :",u.message),u;const d=(l||[]).filter(h=>h.ott_providers&&h.ott_providers.length>0);if(d.length>0)return console.log(`[AI  ] "${n}" => ${d.length} `),d.slice(0,10);throw console.log("[AI   ]   "),new Error("No AI results")}catch{console.log(`[  ] "${n}"`);let i=je.from("contents").select("*");i=i.not("ott_providers","is",null),t.genre&&(i=i.eq("genre",t.genre)),s.length>0&&(i=i.overlaps("tags",s));const{data:a,error:l}=await i.order("imdb_rating",{ascending:!1,nullsFirst:!1}).limit(30);if(l)return console.error("[  ]:",l),[];const u=(a||[]).filter(d=>d.ott_providers&&d.ott_providers.length>0);if(console.log(`[  ] "${n}" => ${u.length} `),u.length===0){const d=t.moods[0];if(t.genre&&d)try{console.log(`[  ] ${t.genre} + ${d}`);const h=await e5();await je.functions.invoke("populate-db",{body:{genre:t.genre,mood:d},headers:h})}catch(h){console.warn("[  ]",(h==null?void 0:h.message)||h)}}return u.slice(0,10)}}catch(r){return console.error("  :",r),[]}}async function n5(t){try{const{data:e,error:r}=await je.from("contents").select("*").eq("id",t).single();return r?(console.error("  :",r),null):e}catch(e){return console.error("   :",e),null}}async function s5(t,e){try{const{error:r}=await je.from("not_interested").insert({user_id:t,content_id:e});return r?r.code==="23505"?!0:(console.error("  :",r),!1):!0}catch(r){return console.error("   :",r),!1}}async function Wg(t,e){try{const{error:r}=await je.from("not_interested").delete().eq("user_id",t).eq("content_id",e);return r?(console.error("  :",r),!1):!0}catch(r){return console.error("   :",r),!1}}async function o5(t){try{const{data:e,error:r}=await je.from("not_interested").select("content_id").eq("user_id",t);return r?(console.error("   :",r),[]):e?e.map(n=>n.content_id):[]}catch(e){return console.error("    :",e),[]}}async function i5(t){try{const{data:e,error:r}=await je.from("not_interested").select(`
        content_id,
        contents:content_id (*)
      `).eq("user_id",t).order("created_at",{ascending:!1});return r?(console.error("   :",r),[]):e?e.map(s=>s.contents).filter(s=>s!==null):[]}catch(e){return console.error("    :",e),[]}}async function a5(t){try{const{count:e,error:r}=await je.from("not_interested").select("*",{count:"exact",head:!0}).eq("user_id",t);return r?(console.error("   :",r),0):e||0}catch(e){return console.error("    :",e),0}}const Hg="data:image/svg+xml,%3csvg%20width='154'%20height='119'%20viewBox='0%200%20154%20119'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_ii_176_1409)'%3e%3cpath%20d='M68.0638%2019.0113C68.5071%2028.4343%2065.5853%2040.0933%2061.3134%2051.0535C55.6109%2065.0483%2046.6843%2082.5567%2032.982%2087.6275C26.7153%2089.7637%2021.0127%2087.8871%2017.0834%2083.0358C1.64821%2063.7306%2024.7204%2014.8987%2041.5862%204.59731C54.4623%20-4.24674%2067.4996%202.54101%2068.0437%2018.612V19.0113H68.0638Z'%20fill='%232E2C6A'%20stroke='%232E2C6A'/%3e%3cpath%20d='M62.0792%2069.0212C61.7568%2051.373%2071.3484%2027.5161%2082.552%2013.0222C97.7655%20-7.66048%20120.132%20-1.831%20118.158%2023.9625C115.981%2045.4437%20106.35%2069.3606%2090.6927%2083.1757C77.6353%2093.9762%2062.2404%2086.4098%2062.0792%2069.4205V69.0212Z'%20fill='%232E2C6A'%20stroke='%232E2C6A'/%3e%3cpath%20d='M93.8558%2069.0812C94.0976%2051.453%2084.506%2027.636%2073.383%2013.0823C57.2224%20-8.73838%2034.5331%20-0.652969%2037.9586%2026.2785C40.8805%2046.7415%2049.5653%2069.1012%2064.8997%2083.0361C77.937%2094.1361%2093.7147%2086.6695%2093.8558%2069.5005V69.1012V69.0812Z'%20fill='%232E2C6A'%20stroke='%232E2C6A'/%3e%3cpath%20d='M141.995%2069.0812C142.237%2051.453%20132.646%2027.636%20121.523%2013.0823C105.382%20-8.73838%2082.6929%20-0.652969%2086.0984%2026.2785C89.0202%2046.7415%2097.705%2069.1012%20113.039%2083.0361C126.077%2094.1361%20141.854%2086.6695%20141.995%2069.5005V69.1012V69.0812Z'%20fill='%232E2C6A'%20stroke='%232E2C6A'/%3e%3c/g%3e%3cg%20filter='url(%23filter1_f_176_1409)'%3e%3cellipse%20cx='77'%20cy='101.501'%20rx='65'%20ry='5'%20fill='url(%23paint0_linear_176_1409)'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_ii_176_1409'%20x='9.5'%20y='-1'%20width='133'%20height='91.0012'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='-2'%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='8'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.44%200'/%3e%3cfeBlend%20mode='normal'%20in2='shape'%20result='effect1_innerShadow_176_1409'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='-1'%20dy='-1'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.12%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect1_innerShadow_176_1409'%20result='effect2_innerShadow_176_1409'/%3e%3c/filter%3e%3cfilter%20id='filter1_f_176_1409'%20x='0'%20y='84.5012'%20width='154'%20height='34'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='6'%20result='effect1_foregroundBlur_176_1409'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_176_1409'%20x1='77'%20y1='106.501'%20x2='77'%20y2='96.5012'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23D7DBDE'/%3e%3cstop%20offset='1'%20stop-color='%23F0F2F4'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",l5={"01":"","02":"","03":"","04":" ","05":"","06":"","07":"","08":"","09":""};function u5({profile:t,onboardingData:e}){const r=(t==null?void 0:t.genre)||(e==null?void 0:e.genre),s=((t==null?void 0:t.moods)||(e==null?void 0:e.moods)||[]).map(o=>l5[o]||o).join(", ");return c.jsxs("div",{className:"w-full h-screen relative bg-white overflow-hidden font-pretendard",children:[c.jsxs("div",{className:"absolute top-[299px] left-[32px] right-[32px] flex items-start gap-4",children:[c.jsxs("div",{className:"text-black text-xl sm:text-2xl font-semibold font-['Pretendard'] leading-tight",children:["  ",c.jsx("br",{}),"",c.jsx("br",{}),"  "]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:Hg,alt:"Loading",className:"w-[154px] h-[119px]",style:{animation:"pulse 2s ease-in-out infinite"}})})]}),(r||s)&&c.jsxs("div",{className:"w-80 py-4 left-1/2 -translate-x-1/2 top-[441px] absolute bg-gray-50 rounded-xl inline-flex flex-col justify-start items-center gap-4",children:[r&&c.jsxs("div",{className:"w-72 inline-flex justify-between items-start",children:[c.jsx("div",{className:"w-6 justify-start text-gray-600 text-sm font-medium font-['Pretendard'] tracking-tight",children:""}),c.jsx("div",{className:"text-right justify-start text-gray-900 text-sm font-medium font-['Pretendard'] tracking-tight",children:r})]}),s&&c.jsxs("div",{className:"w-72 inline-flex justify-between items-center",children:[c.jsx("div",{className:"text-center justify-start text-gray-600 text-sm font-medium font-['Pretendard'] tracking-tight",children:""}),c.jsx("div",{className:"text-center justify-start text-gray-900 text-sm font-medium font-['Pretendard'] tracking-tight",children:s})]})]})]})}function Kg(){return c.jsx("div",{className:"w-full h-screen relative bg-white overflow-hidden font-pretendard flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("img",{src:Hg,alt:"Loading",className:"w-[154px] h-[119px]",style:{animation:"pulse 2s ease-in-out infinite"}}),c.jsx("p",{className:"text-black text-lg font-medium",children:"   ..."})]})})}async function qg(t,e){try{const{error:r}=await je.from("favorites").insert({user_id:t,content_id:e});return r?r.code==="23505"?!0:(console.error("  :",r),!1):!0}catch(r){return console.error("   :",r),!1}}async function Gg(t,e){try{const{error:r}=await je.from("favorites").delete().eq("user_id",t).eq("content_id",e);return r?(console.error("  :",r),!1):!0}catch(r){return console.error("   :",r),!1}}async function c5(t,e){try{const{data:r,error:n}=await je.from("favorites").select("id").eq("user_id",t).eq("content_id",e).single();return n?(n.code==="PGRST116"||console.error("   :",n),!1):!!r}catch(r){return console.error("    :",r),!1}}async function d5(t){try{const{data:e,error:r}=await je.from("favorites").select(`
        content_id,
        contents:content_id (*)
      `).eq("user_id",t).order("created_at",{ascending:!1});return r?(console.error("   :",r),[]):e?e.map(s=>s.contents).filter(s=>s!==null):[]}catch(e){return console.error("    :",e),[]}}async function h5(t){try{const{count:e,error:r}=await je.from("favorites").select("*",{count:"exact",head:!0}).eq("user_id",t);return r?(console.error("   :",r),0):e||0}catch(e){return console.error("    :",e),0}}const Jg="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='13'%20fill='white'%20stroke='%232E2C6A'%20stroke-width='2'/%3e%3cpath%20d='M15.7973%2021.0163L15.7273%2021.0872L15.6503%2021.0163C12.3253%2017.9629%2010.1273%2015.9439%2010.1273%2013.8965C10.1273%2012.4796%2011.1773%2011.4169%2012.5773%2011.4169C13.6553%2011.4169%2014.7053%2012.1253%2015.0763%2013.0888H16.3783C16.7493%2012.1253%2017.7993%2011.4169%2018.8773%2011.4169C20.2773%2011.4169%2021.3273%2012.4796%2021.3273%2013.8965C21.3273%2015.9439%2019.1293%2017.9629%2015.7973%2021.0163ZM18.8773%2010C17.6593%2010%2016.4903%2010.5738%2015.7273%2011.4736C14.9643%2010.5738%2013.7953%2010%2012.5773%2010C10.4213%2010%208.72729%2011.7074%208.72729%2013.8965C8.72729%2016.5673%2011.1073%2018.7564%2014.7123%2022.0649L15.7273%2023L16.7423%2022.0649C20.3473%2018.7564%2022.7273%2016.5673%2022.7273%2013.8965C22.7273%2011.7074%2021.0333%2010%2018.8773%2010Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",Zg="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='13'%20fill='white'%20stroke='%232E2C6A'%20stroke-width='2'/%3e%3cpath%20d='M16%2021.0872L16.07%2017.4387C12.745%2014.3853%2019.85%2013.4643%2019.85%2011.4169C19.85%2010%2014.25%2013.5422%2015.65%2013.5422C16.728%2013.5422%2014.978%2012.1253%2015.349%2013.0888H16.651C17.022%2012.1253%2018.072%2011.4169%2019.15%2011.4169C20.55%2011.4169%2013.2%2015.6676%2013.2%2017.0845C13.2%2019.1319%2016.0632%2017.7929%2016%2021.0872ZM19.15%2010C17.932%2010%2016.763%2010.5738%2016%2011.4736C15.237%2010.5738%2014.068%2010%2012.85%2010C10.694%2010%209%2011.7074%209%2013.8965C9%2016.5673%2011.38%2018.7564%2014.985%2022.0649L16%2023L17.015%2022.0649C20.62%2018.7564%2023%2016.5673%2023%2013.8965C23%2011.7074%2021.306%2010%2019.15%2010Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",Kf={:"bg-[#ffbdbd]",:"bg-[#2c2c2c]",:"bg-[#ffd93d]",SF:"bg-[#003f5c]",:"bg-[#9b59b6]",:"bg-[#ff8c42]",:"bg-[#e74c3c]",:"bg-[#8fd19e]",:"bg-[#8fd19e]",:"bg-[#7f8c8d]",:"bg-[#7f8c8d]",:"bg-[#9b59b6]",:"bg-[#2c2c2c]",:"bg-[#7f8c8d]",:"bg-[#8d6e63]",:"bg-[#ff6b9d]",:"bg-[#5d4037]",:"bg-[#d4a574]",:"bg-[#ffd93d]",:"bg-[#8fd19e]",TV:"bg-[#9b59b6]",default:"bg-[#9b59b6]"};function f5({content:t,isActive:e=!1,distance:r=0,onCardClick:n}){var b;const s=bt(),o=cn(dn),[i,a]=S.useState(!1),[l,u]=S.useState(!1),d=t.tags&&t.tags.length>0?t.tags.flatMap(m=>m.includes("&")?m.split("&").map(p=>p.trim()).filter(Boolean):m).slice(0,2):[];S.useEffect(()=>{(async()=>{if(!(!o||!t.id))try{const p=await c5(o.id,t.id);a(p)}catch(p){console.error("   :",p)}})()},[o,t.id]);const h=m=>{if(n){n(m);return}t.id&&e&&s(`/content/${t.id}`)},f=async m=>{if(m.stopPropagation(),!o||!t.id)return;u(!0);const p=!i;a(p);try{p?await qg(o.id,t.id)||a(!1):await Gg(o.id,t.id)||a(!0)}catch(g){console.error("  :",g),a(!p)}finally{u(!1)}},v=Math.abs(r)===0?0:Math.abs(r)===1?8:12,y=Math.abs(r)===0?1:Math.abs(r)===1?.7:.4,w=Math.abs(r)===0?1:Math.abs(r)===1?.95:.9;return c.jsxs("div",{className:"w-72 h-96 relative rounded-[20px] overflow-hidden cursor-pointer flex-shrink-0 transition-all duration-500 ease-out",style:{opacity:y,transform:`scale(${w})`,filter:`blur(${v}px)`},onClick:h,children:[t.poster_url?c.jsx("img",{src:t.poster_url,alt:t.title,className:"absolute inset-0 w-full h-full object-cover"}):null,c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 to-black/90"}),o&&c.jsx("button",{onClick:f,disabled:l,className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center z-10 disabled:opacity-50","aria-label":i?" ":"",children:c.jsx("img",{src:i?Zg:Jg,alt:i?" ":"",className:"w-8 h-8"})}),c.jsxs("div",{className:"absolute left-8 bottom-20 text-left text-white",children:[c.jsx("div",{className:"text-base font-semibold font-pretendard",children:t.title}),c.jsxs("div",{className:"mt-1 text-xs font-normal font-pretendard opacity-90",children:[t.genre||((b=t.genres)==null?void 0:b[0])||""," ",t.year||""]})]}),t.poster_url&&c.jsx("img",{src:t.poster_url,alt:`${t.title} poster`,className:"absolute right-4 bottom-4 w-[84px] h-[120px] object-cover rounded-[6px]"}),t.ott_providers&&t.ott_providers.length>0&&c.jsx("div",{className:"absolute left-8 bottom-[44px] flex gap-1.5",children:t.ott_providers.slice(0,6).map((m,p)=>c.jsx("div",{className:"w-6 h-6 rounded overflow-hidden bg-white/5 backdrop-blur-sm flex items-center justify-center",children:m.logo_path?c.jsx("img",{src:m.logo_path,alt:m.provider_name,className:"w-full h-full object-contain",onError:g=>{const k=g.target;k.style.display="none";const j=k.parentElement;j&&(j.innerHTML=`<span class="text-[8px] text-white font-medium truncate px-0.5">${m.provider_name}</span>`)}}):c.jsx("span",{className:"text-[8px] text-white font-medium truncate px-0.5",children:m.provider_name})},m.provider_id||p))}),d.length>0&&c.jsx("div",{className:"absolute left-8 bottom-4 flex gap-2",children:d.map((m,p)=>{const g=Kf[m]||Kf.default;return c.jsx("div",{className:`px-2 h-5 ${g} rounded-md overflow-hidden flex items-center justify-center`,children:c.jsx("div",{className:"text-center text-white text-[10px] font-normal font-pretendard whitespace-nowrap",children:m})},p)})})]})}function p5({isVisible:t,message:e="notInterested"}){if(!t)return null;const r=e==="restored"?"   !":"    !";return c.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 z-50 w-full max-w-[375px] px-5 pt-2 pointer-events-none",children:[c.jsx("div",{className:"bg-[#2e2c6a] h-[36px] rounded-[12px] flex items-center justify-center shadow-lg",style:{animation:"slideDown 0.3s ease-out"},children:c.jsx("p",{className:"text-white text-[16px] font-medium font-pretendard text-center tracking-[0.232px]",children:r})}),c.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `})]})}const m5="data:image/svg+xml,%3csvg%20width='16'%20height='18'%20viewBox='0%200%2016%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2015.9429V6.68571C0%206.36%200.0709998%206.05143%200.213%205.76C0.355%205.46857%200.550667%205.22857%200.8%205.04L6.8%200.411429C7.15%200.137143%207.55%200%208%200C8.45%200%208.85%200.137143%209.2%200.411429L15.2%205.04C15.45%205.22857%2015.646%205.46857%2015.788%205.76C15.93%206.05143%2016.0007%206.36%2016%206.68571V15.9429C16%2016.5086%2015.804%2016.993%2015.412%2017.3962C15.02%2017.7994%2014.5493%2018.0007%2014%2018H11C10.7167%2018%2010.4793%2017.9013%2010.288%2017.7038C10.0967%2017.5063%2010.0007%2017.2622%2010%2016.9714V11.8286C10%2011.5371%209.904%2011.293%209.712%2011.0962C9.52%2010.8994%209.28266%2010.8007%209%2010.8H7C6.71667%2010.8%206.47933%2010.8987%206.288%2011.0962C6.09667%2011.2937%206.00067%2011.5378%206%2011.8286V16.9714C6%2017.2629%205.904%2017.5073%205.712%2017.7048C5.52%2017.9023%205.28267%2018.0007%205%2018H2C1.45%2018%200.979333%2017.7987%200.588%2017.3962C0.196666%2016.9937%200.000666666%2016.5093%200%2015.9429Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",g5="data:image/svg+xml,%3csvg%20width='16'%20height='18'%20viewBox='0%200%2016%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2015.9429V6.68571C0%206.36%200.0709998%206.05143%200.213%205.76C0.355%205.46857%200.550667%205.22857%200.8%205.04L6.8%200.411429C7.15%200.137143%207.55%200%208%200C8.45%200%208.85%200.137143%209.2%200.411429L15.2%205.04C15.45%205.22857%2015.646%205.46857%2015.788%205.76C15.93%206.05143%2016.0007%206.36%2016%206.68571V15.9429C16%2016.5086%2015.804%2016.993%2015.412%2017.3962C15.02%2017.7994%2014.5493%2018.0007%2014%2018H11C10.7167%2018%2010.4793%2017.9013%2010.288%2017.7038C10.0967%2017.5063%2010.0007%2017.2622%2010%2016.9714V11.8286C10%2011.5371%209.904%2011.293%209.712%2011.0962C9.52%2010.8994%209.28266%2010.8007%209%2010.8H7C6.71667%2010.8%206.47933%2010.8987%206.288%2011.0962C6.09667%2011.2937%206.00067%2011.5378%206%2011.8286V16.9714C6%2017.2629%205.904%2017.5073%205.712%2017.7048C5.52%2017.9023%205.28267%2018.0007%205%2018H2C1.45%2018%200.979333%2017.7987%200.588%2017.3962C0.196666%2016.9937%200.000666666%2016.5093%200%2015.9429Z'%20fill='%237A8DD6'/%3e%3c/svg%3e",v5="data:image/svg+xml,%3csvg%20width='18'%20height='14'%20viewBox='0%200%2018%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.616%200L3.116%203H6.116L4.616%200H6.616L8.116%203H11.116L9.616%200H11.616L13.116%203H16.116L14.616%200H16.385C16.845%200%2017.2293%200.154333%2017.538%200.463C17.8467%200.771667%2018.0007%201.156%2018%201.616V12.385C18%2012.845%2017.846%2013.2293%2017.538%2013.538C17.23%2013.8467%2016.8457%2014.0007%2016.385%2014H1.615C1.155%2014%200.771%2013.846%200.463%2013.538C0.155%2013.23%200.000666667%2012.8453%200%2012.384V1.616C0%201.15533%200.154333%200.771%200.463%200.463C0.771667%200.155%201.15567%200.000666667%201.615%200'%20fill='%232E2C6A'/%3e%3c/svg%3e",y5="data:image/svg+xml,%3csvg%20width='18'%20height='14'%20viewBox='0%200%2018%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.616%200L3.116%203H6.116L4.616%200H6.616L8.116%203H11.116L9.616%200H11.616L13.116%203H16.116L14.616%200H16.385C16.845%200%2017.2293%200.154333%2017.538%200.463C17.8467%200.771667%2018.0007%201.156%2018%201.616V12.385C18%2012.845%2017.846%2013.2293%2017.538%2013.538C17.23%2013.8467%2016.8457%2014.0007%2016.385%2014H1.615C1.155%2014%200.771%2013.846%200.463%2013.538C0.155%2013.23%200.000666667%2012.8453%200%2012.384V1.616C0%201.15533%200.154333%200.771%200.463%200.463C0.771667%200.155%201.15567%200.000666667%201.615%200'%20fill='%237A8DD6'/%3e%3c/svg%3e",w5="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5%204C5%202.93913%205.42143%201.92172%206.17157%201.17157C6.92172%200.421427%207.93913%200%209%200C10.0609%200%2011.0783%200.421427%2011.8284%201.17157C12.5786%201.92172%2013%202.93913%2013%204C13%205.06087%2012.5786%206.07828%2011.8284%206.82843C11.0783%207.57857%2010.0609%208%209%208C7.93913%208%206.92172%207.57857%206.17157%206.82843C5.42143%206.07828%205%205.06087%205%204ZM5%209C3.67392%209%202.40215%2010.5268%201.46447%2011.4645C0.526784%2012.4021%200%2013.6739%200%2015C0%2015.7956%200.316071%2016.5587%200.87868%2017.1213C1.44129%2017.6839%202.20435%2018%203%2018H15C15.7956%2018%2016.5587%2017.6839%2017.1213%2017.1213C17.6839%2016.5587%2018%2015.7956%2018%2015C18%2013.6739%2017.4732%2012.4021%2016.5355%2011.4645C15.5979%2010.5268%2014.3261%209%2013%209H5Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",_5="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5%204C5%202.93913%205.42143%201.92172%206.17157%201.17157C6.92172%200.421427%207.93913%200%209%200C10.0609%200%2011.0783%200.421427%2011.8284%201.17157C12.5786%201.92172%2013%202.93913%2013%204C13%205.06087%2012.5786%206.07828%2011.8284%206.82843C11.0783%207.57857%2010.0609%208%209%208C7.93913%208%206.92172%207.57857%206.17157%206.82843C5.42143%206.07828%205%205.06087%205%204ZM5%209C3.67392%209%202.40215%2010.5268%201.46447%2011.4645C0.526784%2012.4021%200%2013.6739%200%2015C0%2015.7956%200.316071%2016.5587%200.87868%2017.1213C1.44129%2017.6839%202.20435%2018%203%2018H15C15.7956%2018%2016.5587%2017.6839%2017.1213%2017.1213C17.6839%2016.5587%2018%2015.7956%2018%2015C18%2013.6739%2017.4732%2012.4021%2016.5355%2011.4645C15.5979%2010.5268%2014.3261%209%2013%209H5Z'%20fill='%237A8DD6'/%3e%3c/svg%3e";function Mr(){const t=bt(),e=mr(),r=s=>e.pathname===s,n=s=>e.pathname.startsWith(s);return c.jsxs("div",{className:"w-full h-14 relative overflow-visible flex items-center justify-center gap-3",children:[c.jsx("button",{className:`w-16 h-14 rounded-[40px] backdrop-blur-md bg-white/3 shadow-[0_8px_32px_0_rgba(0,0,0,0.03),inset_0px_0px_4px_0px_rgba(0,0,0,0.05)] border border-white/5 overflow-hidden cursor-pointer flex items-center justify-center transition-all hover:bg-white/10 ${r("/mypage")?"bg-white/10":""}`,onClick:()=>t("/mypage"),children:c.jsx("img",{src:r("/mypage")?w5:_5,alt:"profile",className:"w-[18px] h-[18px]"})}),c.jsx("button",{className:`w-28 h-14 rounded-[40px] backdrop-blur-md bg-white/3 shadow-[0_8px_32px_0_rgba(0,0,0,0.03),inset_0px_0px_4px_0px_rgba(0,0,0,0.05)] border border-white/5 overflow-hidden cursor-pointer flex items-center justify-center transition-all hover:bg-white/10 ${r("/main")||r("/")?"bg-white/10":""}`,onClick:()=>{sessionStorage.setItem("prevPath",e.pathname),t("/main")},children:c.jsx("img",{src:r("/main")||r("/")?m5:g5,alt:"home",className:"w-[18px] h-[18px]"})}),c.jsx("button",{className:`w-16 h-14 rounded-[40px] backdrop-blur-md bg-white/3 shadow-[0_8px_32px_0_rgba(0,0,0,0.03),inset_0px_0px_4px_0px_rgba(0,0,0,0.05)] border border-white/5 overflow-hidden cursor-pointer flex items-center justify-center transition-all hover:bg-white/10 ${n("/search")?"bg-white/10":""}`,onClick:()=>t("/search"),children:c.jsx("img",{src:n("/search")?v5:y5,alt:"contents",className:"w-[18px] h-[18px]"})})]})}const x5="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%200C6.28048%200%200%206.28048%200%2014C0%2021.7195%206.28048%2028%2014%2028C21.7195%2028%2028%2021.7195%2028%2014C28%206.28048%2021.7195%200%2014%200ZM22.0769%2012.2601C22.0769%2012.414%2022.0158%2012.5615%2021.907%2012.6704C21.7982%2012.7792%2021.6506%2012.8403%2021.4967%2012.8403H17.4892C17.3744%2012.8405%2017.2622%2012.8066%2017.1667%2012.7428C17.0712%2012.6791%2016.9968%2012.5885%2016.9529%2012.4824C16.909%2012.3764%2016.8975%2012.2597%2016.92%2012.1471C16.9426%2012.0345%2016.998%2011.9312%2017.0793%2011.8502L18.5715%2010.358L18.1946%209.91981C17.5204%209.21988%2016.6833%208.69794%2015.758%208.40063C14.8328%208.10333%2013.8483%208.03993%2012.8926%208.2161C11.9369%208.39228%2011.0397%208.80254%2010.2813%209.41021C9.52286%2010.0179%208.92685%2010.804%208.54653%2011.6983C8.1662%2012.5926%208.01341%2013.5673%208.10183%2014.5351C8.19024%2015.5029%208.5171%2016.4337%209.05318%2017.2443C9.58926%2018.0549%2010.3178%2018.72%2011.1738%2019.1802C12.0298%2019.6404%2012.9864%2019.8813%2013.9583%2019.8813C15.1745%2019.8802%2016.3606%2019.5028%2017.3538%2018.8008C18.347%2018.0989%2019.0987%2017.1068%2019.5058%2015.9607C19.5529%2015.8272%2019.6259%2015.7043%2019.7206%2015.5991C19.8152%2015.4938%2019.9296%2015.4082%2020.0574%2015.3472C20.1851%2015.2861%2020.3236%2015.2509%2020.4649%2015.2434C20.6063%2015.2359%2020.7477%2015.2563%2020.8812%2015.3034C21.0147%2015.3506%2021.1375%2015.4236%2021.2428%2015.5182C21.3481%2015.6128%2021.4337%2015.7273%2021.4947%2015.855C21.5557%2015.9827%2021.591%2016.1212%2021.5985%2016.2626C21.606%2016.4039%2021.5856%2016.5454%2021.5385%2016.6788C21.0476%2018.068%2020.1843%2019.2954%2019.043%2020.2271C17.9017%2021.1587%2016.5262%2021.7587%2015.0669%2021.9614C13.6076%2022.1642%2012.1207%2021.9619%2010.7686%2021.3766C9.41657%2020.7913%208.2514%2019.8457%207.40048%2018.643C6.54955%2017.4403%206.04562%2016.0268%205.94376%2014.557C5.84189%2013.0872%206.14602%2011.6177%206.8229%2010.3091C7.49977%209.00052%208.52335%207.90316%209.78176%207.13699C11.0402%206.37082%2012.485%205.96532%2013.9583%205.96481C15.0456%205.96065%2016.1223%206.17917%2017.1219%206.60689C18.1216%207.03461%2019.0231%207.66249%2019.771%208.45183L19.8087%208.49356L20.0987%208.8301L21.0868%207.84202C21.1395%207.78818%2021.2023%207.74535%2021.2716%207.716C21.3409%207.68665%2021.4154%207.67137%2021.4907%207.67106C21.5673%207.67043%2021.6433%207.68501%2021.7142%207.71394C21.7852%207.74287%2021.8497%207.78558%2021.904%207.83959C21.9583%207.89361%2022.0014%207.95787%2022.0307%208.02864C22.0601%208.09942%2022.0751%208.17531%2022.0749%208.25192L22.0769%2012.2601Z'%20fill='%232E2C6A'/%3e%3c/svg%3e",Qg="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='path-1-inside-1_450_1004'%20fill='white'%3e%3cpath%20d='M25.9974%206.20001C24.6954%204.8684%2023.1402%203.81079%2021.4232%203.08947C19.7063%202.36816%2017.8623%201.99774%2016%202.00001C8.26781%202.00001%202.00001%208.26781%202.00001%2016C1.99566%2019.6655%203.43338%2023.1856%206.00261%2025.8M25.996%206.20001C28.5657%208.81416%2030.004%2012.3343%2030%2016C30%2023.7322%2023.7322%2030%2016%2030C14.1377%2030.0023%2012.2937%2029.6318%2010.5768%2028.9105C8.85981%2028.1892%207.30455%2027.1316%206.00261%2025.8'/%3e%3c/mask%3e%3cpath%20d='M23.8523%208.2973C25.0106%209.48199%2026.91%209.50339%2028.0947%208.34509C29.2794%207.18679%2029.3008%205.28741%2028.1425%204.10272L25.9974%206.20001L23.8523%208.2973ZM16%202.00001V5.00001L16.0037%205.00001L16%202.00001ZM2.00001%2016L5.00001%2016.0036V16H2.00001ZM6.00261%2025.8L8.1477%2023.7027L8.14232%2023.6972L6.00261%2025.8ZM28.1354%204.09694C26.9739%202.91537%2025.0745%202.8991%2023.8929%204.06059C22.7114%205.22208%2022.6951%207.12151%2023.8566%208.30308L25.996%206.20001L28.1354%204.09694ZM30%2016L27%2015.9967V16H30ZM16%2030V27L15.9963%2027L16%2030ZM25.9974%206.20001L28.1425%204.10272C26.5607%202.4849%2024.6712%201.19998%2022.5852%200.323636L21.4232%203.08947L20.2613%205.85531C21.6092%206.42159%2022.8302%207.25189%2023.8523%208.2973L25.9974%206.20001ZM21.4232%203.08947L22.5852%200.323636C20.4992%20-0.552707%2018.2589%20-1.00275%2015.9963%20-0.999987L16%202.00001L16.0037%205.00001C17.4657%204.99822%2018.9133%205.28903%2020.2613%205.85531L21.4232%203.08947ZM16%202.00001V-0.99999C6.61095%20-0.99999%20-0.99999%206.61095%20-0.99999%2016H2.00001H5.00001C5.00001%209.92466%209.92466%205.00001%2016%205.00001V2.00001ZM2.00001%2016L-0.999988%2015.9964C-1.00527%2020.4498%200.741454%2024.7265%203.86289%2027.9028L6.00261%2025.8L8.14232%2023.6972C6.1253%2021.6448%204.9966%2018.8812%205.00001%2016.0036L2.00001%2016ZM25.996%206.20001L23.8566%208.30308C25.874%2010.3554%2027.0031%2013.1189%2027%2015.9967L30%2016L33%2016.0033C33.0048%2011.5497%2031.2575%207.27296%2028.1354%204.09694L25.996%206.20001ZM30%2016H27C27%2022.0753%2022.0753%2027%2016%2027V30V33C25.389%2033%2033%2025.389%2033%2016H30ZM16%2030L15.9963%2027C14.5343%2027.0018%2013.0867%2026.711%2011.7387%2026.1447L10.5768%2028.9105L9.41481%2031.6764C11.5008%2032.5527%2013.7411%2033.0028%2016.0037%2033L16%2030ZM10.5768%2028.9105L11.7387%2026.1447C10.3908%2025.5784%209.16981%2024.7481%208.14769%2023.7027L6.00261%2025.8L3.85753%2027.8973C5.4393%2029.5151%207.32882%2030.8%209.41481%2031.6764L10.5768%2028.9105Z'%20fill='%237A8DD6'%20mask='url(%23path-1-inside-1_450_1004)'/%3e%3cpath%20d='M6.5%2025.5L25%207'%20stroke='%237A8DD6'%20stroke-width='3'/%3e%3c/svg%3e",b5="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='path-1-inside-1_447_857'%20fill='white'%3e%3cpath%20d='M25.9974%206.20001C24.6954%204.8684%2023.1402%203.81079%2021.4232%203.08947C19.7063%202.36816%2017.8623%201.99774%2016%202.00001C8.26781%202.00001%202.00001%208.26781%202.00001%2016C1.99566%2019.6655%203.43338%2023.1856%206.00261%2025.8M25.996%206.20001C28.5657%208.81416%2030.004%2012.3343%2030%2016C30%2023.7322%2023.7322%2030%2016%2030C14.1377%2030.0023%2012.2937%2029.6318%2010.5768%2028.9105C8.85981%2028.1892%207.30455%2027.1316%206.00261%2025.8'/%3e%3c/mask%3e%3cpath%20d='M23.8523%208.2973C25.0106%209.48199%2026.91%209.50339%2028.0947%208.34509C29.2794%207.18679%2029.3008%205.28741%2028.1425%204.10272L25.9974%206.20001L23.8523%208.2973ZM16%202.00001V5.00001L16.0037%205.00001L16%202.00001ZM2.00001%2016L5.00001%2016.0036V16H2.00001ZM6.00261%2025.8L8.1477%2023.7027L8.14232%2023.6972L6.00261%2025.8ZM28.1354%204.09694C26.9739%202.91537%2025.0745%202.8991%2023.8929%204.06059C22.7114%205.22208%2022.6951%207.12151%2023.8566%208.30308L25.996%206.20001L28.1354%204.09694ZM30%2016L27%2015.9967V16H30ZM16%2030V27L15.9963%2027L16%2030ZM25.9974%206.20001L28.1425%204.10272C26.5607%202.4849%2024.6712%201.19998%2022.5852%200.323636L21.4232%203.08947L20.2613%205.85531C21.6092%206.42159%2022.8302%207.25189%2023.8523%208.2973L25.9974%206.20001ZM21.4232%203.08947L22.5852%200.323636C20.4992%20-0.552707%2018.2589%20-1.00275%2015.9963%20-0.999987L16%202.00001L16.0037%205.00001C17.4657%204.99822%2018.9133%205.28903%2020.2613%205.85531L21.4232%203.08947ZM16%202.00001V-0.99999C6.61095%20-0.99999%20-0.99999%206.61095%20-0.99999%2016H2.00001H5.00001C5.00001%209.92466%209.92466%205.00001%2016%205.00001V2.00001ZM2.00001%2016L-0.999988%2015.9964C-1.00527%2020.4498%200.741454%2024.7265%203.86289%2027.9028L6.00261%2025.8L8.14232%2023.6972C6.1253%2021.6448%204.9966%2018.8812%205.00001%2016.0036L2.00001%2016ZM25.996%206.20001L23.8566%208.30308C25.874%2010.3554%2027.0031%2013.1189%2027%2015.9967L30%2016L33%2016.0033C33.0048%2011.5497%2031.2575%207.27296%2028.1354%204.09694L25.996%206.20001ZM30%2016H27C27%2022.0753%2022.0753%2027%2016%2027V30V33C25.389%2033%2033%2025.389%2033%2016H30ZM16%2030L15.9963%2027C14.5343%2027.0018%2013.0867%2026.711%2011.7387%2026.1447L10.5768%2028.9105L9.41481%2031.6764C11.5008%2032.5527%2013.7411%2033.0028%2016.0037%2033L16%2030ZM10.5768%2028.9105L11.7387%2026.1447C10.3908%2025.5784%209.16981%2024.7481%208.14769%2023.7027L6.00261%2025.8L3.85753%2027.8973C5.4393%2029.5151%207.32882%2030.8%209.41481%2031.6764L10.5768%2028.9105Z'%20fill='%232E2C6A'%20mask='url(%23path-1-inside-1_447_857)'/%3e%3cpath%20d='M6.5%2025.5L25%207'%20stroke='%232E2C6A'%20stroke-width='3'/%3e%3c/svg%3e",S5={"01":"","02":"","03":"","04":" ","05":"","06":"","07":"","08":"","09":""};function k5(){var D,Y;const t=bt(),e=mr(),r=Uo(xo),n=cn(dn),[s,o]=S.useState([]),[i,a]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(!1),[f,v]=S.useState(null),y=cn(xo),[w,b]=S.useState(0),m=S.useRef(null),[p,g]=S.useState(!1),[k,j]=S.useState("notInterested"),[R,N]=S.useState(new Set),[O,W]=S.useState(null),[B,ae]=S.useState(null),Ne=S.useRef(!1),he=()=>{o([]),v(null),r(null),a(!1),t("/onboarding")},Se=S.useCallback(async(A=!1)=>{if(!A&&s.length>0&&!y){a(!1),h(!1),u(!1);return}const z=y&&!A&&s.length===0;try{const te="temp-user-id";let X=await q4(te);if(y&&(A||!X)&&(X=await Fg(te,y)??X),X){v(X);let ee=[];if(n)try{ee=await o5(n.id),N(new Set(ee))}catch(q){console.error("   :",q)}let fe=await r5(X,A);fe=fe.filter(q=>!ee.includes(q.id)),fe=fe.slice(0,3),o(fe),b(0)}}catch(te){console.error("   :",te)}finally{z&&(a(!1),u(!1)),h(!1)}},[y,s.length]),Ke=()=>{Se(!0)};if(S.useEffect(()=>{const A=e.pathname,z=sessionStorage.getItem("prevPath")||m.current;s.length===0&&(z!=null&&z.includes("/onboarding")?(u(!0),a(!0),h(!1)):(h(!0),u(!1),a(!1))),m.current=A,sessionStorage.setItem("prevPath",A),Se()},[Se,s.length,e.pathname]),i&&l)return c.jsx(u5,{profile:f,onboardingData:y});if(d)return c.jsx(Kg,{});const ge=(f==null?void 0:f.genre)||(y==null?void 0:y.genre),M=((f==null?void 0:f.moods)||(y==null?void 0:y.moods)||[]).map(A=>S5[A]||A).join(", "),G=()=>{w<s.length-1&&b(A=>A+1)},x=()=>{w>0&&b(A=>A-1)},T=50,_=A=>{Ne.current=!1,ae(null),W(A.targetTouches[0].clientX)},P=A=>{ae(A.targetTouches[0].clientX)},L=()=>{if(!O||!B){W(null),ae(null);return}const A=O-B,z=A>T,te=A<-T;z&&w<s.length-1?(Ne.current=!0,G()):te&&w>0&&(Ne.current=!0,x()),W(null),ae(null),setTimeout(()=>{Ne.current=!1},300)},J=async A=>{if(R.has(A)){if(n)try{await Wg(n.id,A)}catch(z){console.error("  :",z)}N(z=>{const te=new Set(z);return te.delete(A),te}),j("restored"),g(!0),setTimeout(()=>{g(!1)},3e3);return}if(n)try{await s5(n.id,A)}catch(z){console.error("  :",z)}N(z=>new Set(z).add(A)),j("notInterested"),g(!0),setTimeout(()=>{g(!1)},3e3)};return c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden overflow-x-hidden",children:[c.jsx(p5,{isVisible:p,message:k}),c.jsxs("div",{className:"h-full overflow-y-auto overflow-x-hidden bg-white relative",onClick:A=>{const z=A.target;if(z.closest("button")||z.closest("a")||z.tagName==="BUTTON"||z.tagName==="A"||z.closest("[data-card-container]")||z.closest(".bg-gray-50")||Ne.current)return;const te=A.currentTarget.getBoundingClientRect(),X=A.clientX-te.left,Z=te.width,ee=X<Z/2;if(ee&&w>0){A.stopPropagation(),A.preventDefault(),b(w-1);return}if(!ee&&w<s.length-1){A.stopPropagation(),A.preventDefault(),b(w+1);return}},children:[(ge||M)&&c.jsxs("div",{className:"w-80 py-4 left-1/2 -translate-x-1/2 top-[600px] absolute bg-gray-50 rounded-xl inline-flex flex-col justify-start items-center gap-4",children:[ge&&c.jsxs("div",{className:"w-72 inline-flex justify-between items-start",children:[c.jsx("div",{className:"w-6 justify-start text-gray-600 text-sm font-medium font-pretendard tracking-tight",children:""}),c.jsx("div",{className:"text-right justify-start text-gray-900 text-sm font-medium font-pretendard tracking-tight",children:ge})]}),M&&c.jsxs("div",{className:"w-72 inline-flex justify-between items-center",children:[c.jsx("div",{className:"text-center justify-start text-gray-600 text-sm font-medium font-pretendard tracking-tight",children:""}),c.jsx("div",{className:"text-center justify-start text-gray-900 text-sm font-medium font-pretendard tracking-tight",children:M})]})]}),c.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-[548px] flex items-center justify-center gap-4 z-30",children:[c.jsx("button",{onClick:he,className:"px-4 py-2 bg-[#2e2c6a] text-white text-sm font-semibold rounded-lg hover:bg-[#3a3878] transition-colors whitespace-nowrap",children:""}),c.jsx("button",{type:"button","aria-label":"reload-recommendations",className:"size-8 flex items-center justify-center rounded-full bg-white/0",onClick:Ke,children:c.jsx("img",{src:x5,alt:"reload",className:"w-[28px] h-[28px]"})}),s.length>0&&s[w]&&c.jsx("button",{type:"button","aria-label":"not-interested",className:"size-8 flex items-center justify-center rounded-full bg-white/0",onClick:()=>{const A=s[w];A!=null&&A.id&&J(A.id)},children:c.jsx("img",{src:R.has(((D=s[w])==null?void 0:D.id)||"")?Qg:b5,alt:R.has(((Y=s[w])==null?void 0:Y.id)||"")?" ":"",className:"w-[28px] h-[28px]"})})]}),s.length>1&&c.jsx("div",{className:"absolute top-[520px] left-1/2 -translate-x-1/2 z-20 flex gap-2 pointer-events-none",children:s.map((A,z)=>c.jsx("button",{onClick:()=>b(z),className:`pointer-events-auto transition-all ${z===w?"w-2 h-2 bg-[#2e2c6a] rounded-full":"w-2 h-2 bg-[#2e2c6a]/40 rounded-full hover:bg-[#2e2c6a]/60"}`,"aria-label":`Go to recommendation ${z+1}`},z))}),i?c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-gray-600"}):s.length===0?c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-gray-600",children:"  ."}):c.jsx("div",{className:"absolute top-[128px] w-full h-[500px] overflow-hidden z-10",children:c.jsx("div",{className:"relative w-full h-full",children:s.map((A,z)=>{const te=z-w,X=te*25,Z=180,ee=Math.sin(X*Math.PI/180)*Z,fe=(1-Math.cos(X*Math.PI/180))*Z*.3,q=ue=>{if(Ne.current){ue.preventDefault(),ue.stopPropagation();return}if(ue.target.closest("button")||z!==w)return;const ys=ue.currentTarget.getBoundingClientRect(),Bo=ue.clientX-ys.left,yn=ys.width,ws=yn/2,zo=Math.abs(Bo-ws),Xa=yn*.3;if(zo<Xa){A.id&&t(`/content/${A.id}`),ue.stopPropagation();return}const wn=Bo<ws;wn&&w>0?(ue.stopPropagation(),b(w-1)):!wn&&w<s.length-1?(ue.stopPropagation(),b(w+1)):ue.stopPropagation()};return c.jsx("div",{"data-card-container":!0,className:"absolute left-1/2 top-0 origin-center transition-all duration-500 ease-out",style:{transform:`translateX(calc(-50% + ${ee}px)) translateY(${fe}px) rotate(${X}deg)`,zIndex:s.length-Math.abs(te)},onTouchStart:_,onTouchMove:P,onTouchEnd:L,onClick:ue=>{ue.stopPropagation()},children:c.jsx(f5,{content:A,isActive:z===w,distance:te,onCardClick:q})},A.id)})})})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}const lt="69a6ef89f280454b2aab653333314c3d",Zt="https://api.themoviedb.org/3";async function Ya(t,e="movie"){var r,n,s,o;if(!t||!lt)return null;try{const i=await fetch(`${Zt}/find/${t}?api_key=${lt}&external_source=imdb_id`);if(!i.ok)return null;const a=await i.json();return(e==="tv"?(n=(r=a.tv_results)==null?void 0:r[0])==null?void 0:n.id:(o=(s=a.movie_results)==null?void 0:s[0])==null?void 0:o.id)||null}catch(i){return console.error("TMDB ID  :",i),null}}async function E5(t,e="movie"){var r;if(!t||!lt)return[];try{const n=await Ya(t,e);if(!n)return[];const s=e==="tv"?`${Zt}/tv/${n}/watch/providers`:`${Zt}/movie/${n}/watch/providers`,o=await fetch(`${s}?api_key=${lt}`);if(!o.ok)return[];const a=(r=(await o.json()).results)==null?void 0:r.KR;if(!a)return[];const l=[];return a.flatrate&&a.flatrate.forEach(u=>{l.push({provider_id:u.provider_id,provider_name:u.provider_name,logo_path:u.logo_path?`https://image.tmdb.org/t/p/w300${u.logo_path}`:void 0,type:"flatrate"})}),a.free&&a.free.forEach(u=>{l.push({provider_id:u.provider_id,provider_name:u.provider_name,logo_path:u.logo_path?`https://image.tmdb.org/t/p/w300${u.logo_path}`:void 0,type:"free"})}),a.rent&&a.rent.forEach(u=>{l.push({provider_id:u.provider_id,provider_name:u.provider_name,logo_path:u.logo_path?`https://image.tmdb.org/t/p/w300${u.logo_path}`:void 0,type:"rent"})}),a.buy&&a.buy.forEach(u=>{l.push({provider_id:u.provider_id,provider_name:u.provider_name,logo_path:u.logo_path?`https://image.tmdb.org/t/p/w300${u.logo_path}`:void 0,type:"buy"})}),l}catch(n){return console.error("OTT   :",n),[]}}async function C5(t,e="movie"){if(!t||!lt)return[];try{const r=await Ya(t,e);if(!r)return[];const n=e==="tv"?"tv":"movie",[s,o]=await Promise.all([fetch(`${Zt}/${n}/${r}/videos?api_key=${lt}&language=ko-KR`),fetch(`${Zt}/${n}/${r}/images?api_key=${lt}`)]),i=[];if(s.ok&&((await s.json()).results||[]).filter(u=>u.type==="Trailer"||u.type==="Teaser"||u.type==="Clip").slice(0,3).forEach(u=>{u.key&&i.push({type:"video",url:`https://www.youtube.com/watch?v=${u.key}`,thumbnail:u.key?`https://img.youtube.com/vi/${u.key}/hqdefault.jpg`:""})}),o.ok){const a=await o.json();(a.backdrops||[]).slice(0,4).forEach(d=>{d.file_path&&i.push({type:"image",url:`https://image.tmdb.org/t/p/original${d.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${d.file_path}`})}),(a.posters||[]).slice(0,2).forEach(d=>{d.file_path&&i.push({type:"image",url:`https://image.tmdb.org/t/p/original${d.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${d.file_path}`})})}return i.slice(0,9)}catch(r){return console.error("/   :",r),[]}}async function j5(t,e="movie"){if(!t||!lt)return{cast:[],director:null,writer:null};try{const r=await Ya(t,e);if(!r)return{cast:[],director:null,writer:null};const s=await fetch(`${Zt}/${e==="tv"?"tv":"movie"}/${r}/credits?api_key=${lt}&language=ko-KR`);if(!s.ok)return{cast:[],director:null,writer:null};const o=await s.json(),i=(o.cast||[]).slice(0,6).map(h=>{var f,v;return{id:h.id,name:h.name||"",character:h.character||((v=(f=h.roles)==null?void 0:f[0])==null?void 0:v.character)||"",profile_path:h.profile_path?`https://image.tmdb.org/t/p/w185${h.profile_path}`:null}});let a=null;const l=(o.crew||[]).find(h=>h.job==="Director"||h.job==="Executive Producer");l&&(a=l.name);let u=null;const d=(o.crew||[]).find(h=>h.job==="Writer"||h.job==="Screenplay"||h.job==="Story"||h.job==="Novel");if(d)u=d.name;else{const h=(o.crew||[]).filter(f=>f.job==="Writer"||f.job==="Screenplay"||f.job==="Story");h.length>0&&(u=h[0].name,h.length>1&&(u+=`  ${h.length-1}`))}return{cast:i,director:a,writer:u}}catch(r){return console.error("/   :",r),{cast:[],director:null,writer:null}}}async function R5(t,e="movie"){var r,n,s,o;if(!t||!lt)return{rating:null,runtime:null};try{const i=await Ya(t,e);if(!i)return{rating:null,runtime:null};if(e==="movie"){const[a,l]=await Promise.all([fetch(`${Zt}/movie/${i}?api_key=${lt}&language=ko-KR`),fetch(`${Zt}/movie/${i}/release_dates?api_key=${lt}`)]);if(!a.ok||!l.ok)return{rating:null,runtime:null};const u=await a.json(),d=await l.json();let h=null;const f=(r=d.results)==null?void 0:r.find(y=>y.iso_3166_1==="KR");(s=(n=f==null?void 0:f.release_dates)==null?void 0:n[0])!=null&&s.certification&&(h=f.release_dates[0].certification);let v=null;if(u.runtime){const y=Math.floor(u.runtime/60),w=u.runtime%60;y>0?v=`${y} ${w}`:v=`${w}`}return{rating:h,runtime:v}}else{const[a,l]=await Promise.all([fetch(`${Zt}/tv/${i}?api_key=${lt}&language=ko-KR`),fetch(`${Zt}/tv/${i}/content_ratings?api_key=${lt}`)]);if(!a.ok||!l.ok)return{rating:null,runtime:null};const u=await a.json(),d=await l.json();let h=null;const f=(o=d.results)==null?void 0:o.find(y=>y.iso_3166_1==="KR");f!=null&&f.rating&&(h=f.rating);let v=null;if(u.episode_run_time&&u.episode_run_time.length>0){const y=u.episode_run_time[0],w=Math.floor(y/60),b=y%60;w>0?v=`${w} ${b}`:v=`${b}`}return{rating:h,runtime:v}}}catch(i){return console.error("     :",i),{rating:null,runtime:null}}}const qf={:"bg-[#ffbdbd]",:"bg-[#2c2c2c]",:"bg-[#ffd93d]",SF:"bg-[#003f5c]",:"bg-[#9b59b6]",:"bg-[#ff8c42]",:"bg-[#e74c3c]",:"bg-[#8fd19e]",:"bg-[#8fd19e]",:"bg-[#7f8c8d]",:"bg-[#7f8c8d]",:"bg-[#9b59b6]",:"bg-[#2c2c2c]",:"bg-[#7f8c8d]",:"bg-[#8d6e63]",:"bg-[#ff6b9d]",:"bg-[#5d4037]",:"bg-[#d4a574]",:"bg-[#ffd93d]",:"bg-[#8fd19e]",TV:"bg-[#9b59b6]",default:"bg-[#9b59b6]"};function N5(){var M,G;const{id:t}=km(),e=bt(),[r,n]=S.useState(null),[s,o]=S.useState(!0),[i,a]=S.useState(null),[l,u]=S.useState([]),[d,h]=S.useState(null),[f,v]=S.useState(null),[y,w]=S.useState(null),[b,m]=S.useState(!0),[p,g]=S.useState([]),[k,j]=S.useState(null),[R,N]=S.useState(null),[O,W]=S.useState([]);S.useEffect(()=>{(async()=>{if(!t){a(" ID ."),o(!1);return}try{o(!0),a(null);const T=await n5(t);if(!T)a("   .");else{n(T);const _=T.genre===""?"movie":"tv",[P,L,J,D]=await Promise.all([E5(T.imdb_id,_),R5(T.imdb_id,_),j5(T.imdb_id,_),C5(T.imdb_id,_)]);u(P),v(L.rating),w(L.runtime),g(J.cast),j(J.director),N(J.writer),W(D)}}catch(T){console.error("  :",T),a("    .")}finally{o(!1)}})()},[t]);const B=r!=null&&r.tags&&r.tags.length>0?r.tags.flatMap(x=>x.includes("&")?x.split("&").map(T=>T.trim()).filter(Boolean):x).slice(0,2):[],ae=l.filter(x=>x.type==="flatrate").length,Ne=l.filter(x=>x.type==="free").length,he=l.filter(x=>x.type==="rent").length,Se=l.filter(x=>x.type==="buy").length,Ke=d?l.filter(x=>x.type===d):l,ge=S.useCallback(x=>{h(T=>T===x?null:x)},[]),Ue=S.useCallback(x=>{const T=new Image;T.crossOrigin="anonymous",T.onload=()=>{try{const _=document.createElement("canvas"),P=_.getContext("2d");if(!P){m(!0);return}const D=Math.min(200/T.width,100/T.height,1);_.width=T.width*D,_.height=T.height*D,P.drawImage(T,0,0,_.width,_.height);const Y=Math.min(_.height*.3,50),z=P.getImageData(0,0,_.width,Y).data;let te=0;const X=Math.max(1,Math.floor(z.length/4/50));let Z=0;for(let ee=0;ee<z.length;ee+=4*X){const fe=z[ee],q=z[ee+1],ue=z[ee+2],Kt=(fe*299+q*587+ue*114)/1e3;te+=Kt,Z++}if(Z>0){const ee=te/Z;m(ee<128)}else m(!0)}catch(_){console.warn("    (CORS   ):",_),m(!0)}},T.onerror=()=>{m(!0)},T.src=x},[]);return S.useEffect(()=>{r!=null&&r.poster_url?Ue(r.poster_url):m(!1)},[r==null?void 0:r.poster_url,Ue]),s?c.jsx(Kg,{}):i||!r?c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6 bg-white",children:[c.jsx("div",{className:"text-red-600 mb-4",children:i||"   ."}),c.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-[#2e2c6a] text-white rounded-lg hover:bg-[#3a3878] transition-colors",children:""})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]}):c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsxs("div",{className:"h-full overflow-y-auto bg-white",children:[c.jsx("button",{onClick:()=>e(-1),className:"absolute top-[20px] left-5 z-20 w-6 h-6 flex items-center justify-center","aria-label":"",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-6 h-6 ${b?"text-white":"text-black"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsxs("div",{className:"relative w-full h-[378px] overflow-hidden",children:[r.poster_url&&c.jsxs(c.Fragment,{children:[c.jsx("img",{src:r.poster_url,alt:r.title,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 to-black"})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end pb-4 px-5",children:[c.jsx("h1",{className:"text-[20px] font-bold text-white mb-1 text-center",children:r.title}),c.jsxs("p",{className:"text-[14px] font-normal text-white text-center mb-4",children:[r.genre||"","  ",r.year||""]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(d?Ke:l).slice(0,2).map((x,T)=>c.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:x.logo_path?c.jsx("img",{src:x.logo_path,alt:x.provider_name,className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.style.display="none"}}):c.jsx("div",{className:"w-full h-full bg-gray-400"})},x.provider_id||T)),B.map((x,T)=>{const _=qf[x]||qf.default;return c.jsx("div",{className:`h-5 ${_} rounded-[6px] px-2 flex items-center justify-center`,children:c.jsx("span",{className:"text-[10px] font-normal text-white whitespace-nowrap",children:x})},T)})]}),r.poster_url&&c.jsx("div",{className:"absolute right-[20px] bottom-[20px] w-[84px] h-[120px] rounded-[6px] overflow-hidden",children:c.jsx("img",{src:r.poster_url,alt:`${r.title} poster`,className:"w-full h-full object-cover"})})]})]}),r.description&&c.jsx("div",{className:"w-full min-h-[105px] bg-[#010100] px-5 py-4",children:c.jsx("p",{className:"text-[14px] font-normal text-white leading-[1.5]",children:r.description})}),c.jsx("div",{className:"mx-5 mt-5 mb-6 border border-black/10 rounded-[20px] px-4 py-4",children:c.jsxs("div",{className:"space-y-[15px]",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:r.title||"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:((M=r.genres)==null?void 0:M.join(", "))||((G=r.tags)==null?void 0:G.join(", "))||"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:r.year?`${r.year}`:"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:f||"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:y||"-"})]})]})}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-bold text-black mb-4",children:""}),c.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[c.jsxs("button",{onClick:()=>ge("flatrate"),className:`flex flex-col items-center gap-1 ${d==="flatrate"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",ae]}),c.jsx("div",{className:`w-[55px] h-[2px] border-b ${d==="flatrate"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>ge("free"),className:`flex flex-col items-center gap-1 ${d==="free"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",Ne]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${d==="free"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>ge("rent"),className:`flex flex-col items-center gap-1 ${d==="rent"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",he]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${d==="rent"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>ge("buy"),className:`flex flex-col items-center gap-1 ${d==="buy"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",Se]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${d==="buy"?"border-[#2e2c6a]":"border-transparent"}`})]})]}),c.jsx("div",{className:"space-y-3",children:Ke.length>0?Ke.map((x,T)=>c.jsxs("button",{className:"w-full h-9 border border-[#2e2c6a] rounded-[12px] flex items-center justify-between px-2 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[x.logo_path&&c.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:c.jsx("img",{src:x.logo_path,alt:x.provider_name,className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.style.display="none"}})}),c.jsx("span",{className:"text-[14px] font-normal text-[#2e2c6a]",children:x.provider_name})]}),c.jsx("svg",{className:"w-4 h-4 text-[#2e2c6a] rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]},x.provider_id||T)):c.jsx("p",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:d?"     .":"   ."})})]}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:"/"}),p.length>0?c.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 mb-4",children:p.map(x=>c.jsxs("div",{className:"flex flex-col items-center min-w-0 max-w-[100px] mx-auto",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-300 mb-2 overflow-hidden flex items-center justify-center flex-shrink-0",children:x.profile_path?c.jsx("img",{src:x.profile_path,alt:x.name,className:"w-full h-full object-cover",onError:T=>{const _=T.target;_.style.display="none"}}):null}),c.jsx("div",{className:"bg-gray-900 rounded-[10px] px-1.5 py-0.5 mb-1 w-full min-w-0",children:c.jsx("span",{className:"text-[14px] font-normal text-white block truncate text-center",title:x.character||"",children:x.character||""})}),c.jsx("span",{className:"text-[14px] font-normal text-gray-900 text-center w-full truncate block min-w-0",title:x.name,children:x.name})]},x.id))}):c.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:"  ."}),c.jsx("div",{className:"w-full h-[1px] border-t border-[#2e2c6a] my-4"}),c.jsxs("div",{className:"space-y-4",children:[k&&c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:""}),c.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:k,children:k})]}),R&&c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:""}),c.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:R,children:R})]}),!k&&!R&&c.jsx("div",{className:"text-[14px] font-normal text-gray-500",children:"  ."})]}),c.jsx("button",{className:"w-full h-[52px] bg-[#2e2c6a] rounded-[10px] mt-6 flex items-center justify-center",children:c.jsx("span",{className:"text-[16px] font-semibold text-white",children:"/ "})})]}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:"   "}),O.length>0?c.jsxs("div",{className:"space-y-3",children:[O.length>0&&c.jsxs("div",{className:"flex gap-3",children:[O.slice(0,2).map((x,T)=>{const _=[300,190];return c.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${_[T]}px`},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:P=>{const L=P.target;L.src="",L.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T)}),O.length<2&&c.jsx("div",{className:"h-32 w-[190px] bg-gray-300 rounded"})]}),O.length>2&&c.jsxs("div",{className:"flex gap-3",children:[O.slice(2,4).map((x,T)=>c.jsxs("div",{className:"h-32 w-[210px] rounded overflow-hidden cursor-pointer relative group",style:{width:"210px"},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.src="",P.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T+2)),O.length<4&&c.jsx("div",{className:"h-32 w-[210px] bg-gray-300 rounded"})]}),O.length>4&&c.jsxs("div",{className:"flex gap-3",children:[O.slice(4,7).map((x,T)=>{const _=[144,147,188];return c.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${_[T]}px`},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:P=>{const L=P.target;L.src="",L.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T+4)}),O.length<7&&c.jsxs(c.Fragment,{children:[O.length===5&&c.jsx("div",{className:"h-32 w-[147px] bg-gray-300 rounded"}),O.length===6&&c.jsx("div",{className:"h-32 w-[188px] bg-gray-300 rounded"})]})]})]}):c.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:"    ."})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}const T5="/assets/MuuviLogoPrimary-MrWlbJ2X.svg",P5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M23.04%2012.2615C23.04%2011.446%2022.9668%2010.6619%2022.8309%209.90918H12V14.3576H18.1891C17.9225%2015.7951%2017.1123%2017.013%2015.8943%2017.8285V20.714H19.6109C21.7855%2018.7119%2023.04%2015.7637%2023.04%2012.2615Z'%20fill='%234285F4'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.9999%2023.5001C15.1049%2023.5001%2017.7081%2022.4703%2019.6108%2020.7139L15.8942%2017.8285C14.8644%2018.5185%2013.5472%2018.9262%2011.9999%2018.9262C9.00467%2018.9262%206.46945%2016.9032%205.56513%2014.1851H1.72308V17.1646C3.61536%2020.923%207.50445%2023.5001%2011.9999%2023.5001Z'%20fill='%2334A853'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.56523%2014.185C5.33523%2013.495%205.20455%2012.7579%205.20455%2012C5.20455%2011.242%205.33523%2010.505%205.56523%209.81499V6.83545H1.72318C0.944318%208.38795%200.5%2010.1443%200.5%2012C0.5%2013.8557%200.944318%2015.612%201.72318%2017.1645L5.56523%2014.185Z'%20fill='%23FBBC05'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.9999%205.07386C13.6883%205.07386%2015.2042%205.65409%2016.396%206.79364L19.6944%203.49523C17.7029%201.63955%2015.0997%200.5%2011.9999%200.5C7.50445%200.5%203.61536%203.07705%201.72308%206.83545L5.56513%209.815C6.46945%207.09682%209.00468%205.07386%2011.9999%205.07386Z'%20fill='%23EA4335'/%3e%3c/svg%3e";function A5(){const[t,e]=S.useState(!1),[r,n]=S.useState(null),s=async()=>{try{e(!0),n(null);const o=`${window.location.origin}/mypage`;console.log("[Google  ]",{redirectTo:o});const{data:i,error:a}=await je.auth.signInWithOAuth({provider:"google",options:{redirectTo:o}});if(a){console.error("[Google  ]",{message:a.message,status:a.status,error:a});const l=a.message||"",u=l.includes("provider is not enabled")||l.includes("Unsupported provider")||a.status===400;n(u?` Google   .

  :

1. Supabase  
    Authentication  Providers

2. Google 
    "Enable Google"  

3. Google Cloud Console 
   Client ID Client Secret 

4.    `:` : ${a.message||"   "}`),e(!1)}else i&&console.log("[Google OAuth  ]",i)}catch(o){console.error("[Google    ]",o),n(`   : ${(o==null?void 0:o.message)||"   "}`),e(!1)}};return c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsx("div",{className:"h-full overflow-y-auto bg-white",children:c.jsxs("div",{className:"absolute inset-x-0 top-0 bottom-0 flex flex-col items-center",children:[c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:c.jsx("img",{src:T5,alt:"Muuvi",className:"w-[128px] h-auto"})}),c.jsxs("div",{className:"w-full px-6 pb-[120px]",children:[r&&c.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm whitespace-pre-line",children:r}),c.jsxs("button",{type:"button",onClick:s,disabled:t,className:"w-full bg-white border border-[#E3E3E3] rounded-[12px] py-[14px] px-6 flex items-center justify-center gap-3 text-[#101010] text-base font-semibold shadow-sm disabled:opacity-70 disabled:cursor-not-allowed",children:[c.jsx("img",{src:P5,alt:"Google",className:"w-6 h-6"}),c.jsx("span",{children:t?" ...":"Google "})]})]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}const Gf={:"bg-[#ffbdbd]",:"bg-[#ffd93d]",:"bg-[#2c2c2c]",SF:"bg-[#003f5c]",:"bg-[#9b59b6]",:"bg-[#ff8c42]",:"bg-[#e74c3c]",:"bg-[#8fd19e]",:"bg-[#7f8c8d]",default:"bg-[#9b59b6]"};function Jf({content:t,onRemove:e,isNotInterested:r=!1}){const n=bt(),s=cn(dn),[o,i]=S.useState(!r),[a,l]=S.useState(!1),u=t.tags&&t.tags.length>0?t.tags.flatMap(f=>f.includes("&")?f.split("&").map(v=>v.trim()).filter(Boolean):f).slice(0,2):[],d=()=>{t.id&&n(`/content/${t.id}`)},h=async f=>{if(f.stopPropagation(),!s||!t.id)return;l(!0);const v=!o;i(v);try{v?await qg(s.id,t.id)||i(!1):await Gg(s.id,t.id)?e==null||e():i(!0)}catch(y){console.error("  :",y),i(!v)}finally{l(!1)}};return c.jsxs("div",{className:"relative w-[160px] h-[257px] rounded-[10px] overflow-hidden cursor-pointer border border-[#2e2c6a]",onClick:d,children:[t.poster_url?c.jsx("img",{src:t.poster_url,alt:t.title,className:"absolute inset-0 w-full h-full object-cover"}):c.jsx("div",{className:"absolute inset-0 bg-gray-200"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/80"}),t.ott_providers&&t.ott_providers.length>0&&c.jsx("div",{className:"absolute top-2 left-2.5 flex gap-1 z-20",children:t.ott_providers.slice(0,2).map((f,v)=>c.jsx("div",{className:"w-6 h-6 rounded overflow-hidden bg-white/10 backdrop-blur-sm",children:f.logo_path?c.jsx("img",{src:f.logo_path,alt:f.provider_name,className:"w-full h-full object-cover",onError:y=>{const w=y.target;w.style.display="none"}}):null},f.provider_id||v))}),s&&!r&&c.jsx("button",{onClick:h,disabled:a,className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center z-10 disabled:opacity-50","aria-label":o?" ":"",children:c.jsx("img",{src:o?Zg:Jg,alt:o?" ":"",className:"w-8 h-8"})}),s&&r&&c.jsx("button",{onClick:f=>{f.stopPropagation(),e==null||e()},disabled:a,className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center z-10 disabled:opacity-50","aria-label":" ",children:c.jsx("img",{src:Qg,alt:" ",className:"w-8 h-8"})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#f1f0fa] h-[23px] flex items-center justify-center",children:c.jsx("p",{className:"text-[14px] font-normal text-[#2e2c6a] text-center leading-[1.5]",children:t.title})}),u.length>0&&c.jsx("div",{className:"absolute left-2.5 bottom-[32px] flex gap-1 z-10",children:u.map((f,v)=>{const y=Gf[f]||Gf.default;return c.jsx("div",{className:`h-5 ${y} rounded-[6px] px-2 flex items-center justify-center`,children:c.jsx("span",{className:"text-[10px] font-normal text-white whitespace-nowrap",children:f})},v)})})]})}function L5(){var v,y;const t=bt(),e=cn(dn),[r,n]=S.useState(0),[s,o]=S.useState(0),[i,a]=S.useState(0),[l,u]=S.useState([]),[d,h]=S.useState([]);if(S.useEffect(()=>{(async()=>{if(!e){n(0),u([]),o(0),h([]);return}try{const[b,m,p,g]=await Promise.all([d5(e.id),h5(e.id),i5(e.id),a5(e.id)]);u(b),n(m),h(p),o(g)}catch(b){console.error("  :",b)}})()},[e]),!e)return c.jsx(A5,{});const f=((v=e.user_metadata)==null?void 0:v.full_name)||((y=e.email)==null?void 0:y.split("@")[0])||"";return c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsx("div",{className:"h-full overflow-y-auto bg-white",children:c.jsxs("div",{className:"px-5 pt-16 pb-24",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-[#2e2c6a] flex items-center justify-center mb-4"}),c.jsx("button",{onClick:()=>t("/settings"),className:"absolute top-0 right-0 w-6 h-6","aria-label":"",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#101010",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.01131 9.77251C4.28062 9.5799 4.48571 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",stroke:"#101010",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-[16px] font-semibold text-black",children:f}),c.jsx("button",{className:"w-4 h-4",children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.3333 2.00004C11.5084 1.82498 11.7163 1.68705 11.9437 1.59431C12.1711 1.50157 12.4132 1.45605 12.6573 1.46049C12.9014 1.46493 13.1421 1.5192 13.366 1.62004C13.5898 1.72087 13.7926 1.86618 13.9627 2.04737C14.1328 2.22857 14.2665 2.44175 14.3563 2.67391C14.4462 2.90608 14.4902 3.1526 14.4858 3.40071C14.4814 3.64881 14.4287 3.89359 14.3307 4.12004C14.2326 4.34649 14.0913 4.54981 13.9133 4.72004L6.24667 12.3867L2.66667 13.3334L3.61333 9.75337L11.3333 2.00004Z",stroke:"#101010",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),c.jsxs("div",{className:"w-full max-w-[320px] h-[56px] bg-[#f0f2f4] rounded-[10px] overflow-hidden mb-6 flex",children:[c.jsxs("div",{className:"flex-1 h-full flex flex-col items-center justify-center relative",children:[c.jsx("div",{className:"text-black text-base font-bold font-pretendard tracking-tight mb-0.5",children:r}),c.jsx("div",{className:"text-black text-xs font-normal font-pretendard tracking-tight",children:""}),c.jsx("div",{className:"absolute right-0 top-[12px] w-0 h-9 outline outline-1 outline-offset-[-0.5px] outline-[#a8adb3]"})]}),c.jsxs("div",{className:"flex-1 h-full flex flex-col items-center justify-center relative",children:[c.jsx("div",{className:"text-black text-base font-bold font-pretendard tracking-tight mb-0.5",children:s}),c.jsx("div",{className:"text-black text-xs font-normal font-pretendard tracking-tight",children:""}),c.jsx("div",{className:"absolute right-0 top-[12px] w-0 h-9 outline outline-1 outline-offset-[-0.5px] outline-[#a8adb3]"})]}),c.jsxs("div",{className:"flex-1 h-full flex flex-col items-center justify-center",children:[c.jsx("div",{className:"text-black text-base font-bold font-pretendard tracking-tight mb-0.5",children:i}),c.jsx("div",{className:"text-black text-xs font-normal font-pretendard tracking-tight",children:"  "})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-[18px] font-semibold text-black mb-4 font-pretendard",children:" "}),l.length>0?c.jsx("div",{className:"overflow-x-auto -mx-5 px-5 show-scrollbar",children:c.jsx("div",{className:"flex gap-4 pb-2",style:{width:"max-content"},children:l.map(w=>c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Jf,{content:w,onRemove:()=>{u(b=>b.filter(m=>m.id!==w.id)),n(b=>Math.max(0,b-1))}})},w.id))})}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-[14px] text-gray-500",children:"  "})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-[18px] font-semibold text-black mb-4 font-pretendard",children:" "}),d.length>0?c.jsx("div",{className:"overflow-x-auto -mx-5 px-5",children:c.jsx("div",{className:"flex gap-4",style:{width:"max-content"},children:d.map(w=>c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Jf,{content:w,isNotInterested:!0,onRemove:async()=>{if(e&&w.id)try{await Wg(e.id,w.id)&&(h(m=>m.filter(p=>p.id!==w.id)),o(m=>Math.max(0,m-1)))}catch(b){console.error("  :",b)}}})},w.id))})}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-[14px] text-gray-500",children:"   "})})]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}function O5(){const t=bt(),e=cn(dn),r=Uo(dn),n=async()=>{try{const{error:s}=await je.auth.signOut();s?(console.error(" :",s),alert(" .  .")):(r(null),t("/mypage"))}catch(s){console.error("   :",s),alert("   .")}};return c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsx("div",{className:"h-full overflow-y-auto bg-white",children:c.jsxs("div",{className:"px-5 pt-16 pb-24",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("button",{onClick:()=>t(-1),className:"w-6 h-6 flex items-center justify-center mr-4","aria-label":"",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsx("h1",{className:"text-[20px] font-bold text-black",children:""})]}),e&&c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"bg-[#f0f2f4] rounded-[10px] p-4",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 mb-1",children:""}),c.jsx("p",{className:"text-[16px] font-semibold text-black",children:e.email||"-"})]})}),c.jsx("div",{className:"mt-8",children:c.jsx("button",{onClick:n,className:"w-full h-[52px] bg-[#e74c3c] rounded-[10px] flex items-center justify-center hover:bg-[#c0392b] transition-colors",children:c.jsx("span",{className:"text-[16px] font-semibold text-white",children:""})})})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}const $5="/assets/MuuviLogoWhite-Ct0xkzc7.svg";function Zf(){const t=bt(),e={"--typing-delay":"0.3s"},r={animationDelay:"2s"};return S.useEffect(()=>{const n=setTimeout(()=>{t("/onboarding",{replace:!0})},3500);return()=>clearTimeout(n)},[t]),c.jsx("div",{className:"min-h-screen bg-indigo-900 flex items-center justify-center font-pretendard text-white",children:c.jsx("div",{className:"relative w-[375px] h-[812px]",children:c.jsxs("div",{className:"absolute inset-x-0 top-[312px] flex flex-col items-center gap-6",children:[c.jsx("p",{className:"text-base font-medium text-center leading-tight animate-splash-text",children:c.jsx("span",{className:"typing-mask",style:e,children:"   "})}),c.jsx("img",{src:$5,alt:"Muuvi Logo",className:"w-40 h-8 animate-splash-logo",style:r})]})})})}const ma="https://api.themoviedb.org/3",I5="https://image.tmdb.org/t/p";function Yg(t,e="w342"){if(t)return`${I5}/${e}${t}`}async function M5(t){const e="69a6ef89f280454b2aab653333314c3d",r=new URL(`${ma}/search/multi`);r.searchParams.set("query",t),r.searchParams.set("include_adult","false"),r.searchParams.set("language","ko-KR"),r.searchParams.set("page","1");const n=await fetch(r.toString(),{headers:{Authorization:`Bearer ${e.startsWith("eyJ")?e:""}`,"Content-Type":"application/json;charset=utf-8"}});if(n.status===401){const o=new URL(`${ma}/search/multi`);o.searchParams.set("api_key",e),o.searchParams.set("query",t),o.searchParams.set("include_adult","false"),o.searchParams.set("language","ko-KR"),o.searchParams.set("page","1");const a=await(await fetch(o.toString())).json();return Qf((a==null?void 0:a.results)??[])}const s=await n.json();return Qf((s==null?void 0:s.results)??[])}function Qf(t){return t.filter(e=>e.media_type==="movie"||e.media_type==="tv").map(e=>{const r=e.title||e.name||"",n=e.release_date||e.first_air_date||"",s=n?n.slice(0,4):void 0,o=e.poster_path||e.profile_path||null;return{id:String(e.id),title:r,year:s,posterUrl:Yg(o,"w342"),mediaType:e.media_type??"movie"}})}async function D5(t,e){const r="69a6ef89f280454b2aab653333314c3d",n=t==="movie"?`/movie/${e}`:`/tv/${e}`,s=new URL(`${ma}${n}`);s.searchParams.set("language","ko-KR"),s.searchParams.set("append_to_response","credits,release_dates,content_ratings");const o=await fetch(s.toString(),{headers:{Authorization:`Bearer ${r.startsWith("eyJ")?r:""}`,"Content-Type":"application/json;charset=utf-8"}});if(o.status===401){const a=new URL(`${ma}${n}`);a.searchParams.set("api_key",r),a.searchParams.set("language","ko-KR"),a.searchParams.set("append_to_response","credits,release_dates,content_ratings");const l=await fetch(a.toString());if(!l.ok)return null;const u=await l.json();return Yf(t,u)}if(!o.ok)return null;const i=await o.json();return Yf(t,i)}function U5(t,e="w500"){return Yg(t??void 0,e)}function Yf(t,e){return t==="movie"?{mediaType:"movie",id:e.id,title:e.title,release_date:e.release_date,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,runtime:e.runtime,genres:e.genres}:{mediaType:"tv",id:e.id,name:e.name,first_air_date:e.first_air_date,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,episode_run_time:e.episode_run_time,genres:e.genres}}const Xf="muuvi_recent_searches_v1";function V5(){const t=bt(),[e,r]=S.useState(""),[n,s]=S.useState(!1),[o,i]=S.useState(!1),[a,l]=S.useState([]),[u,d]=S.useState(!1),[h,f]=S.useState([]),v=S.useRef(null);S.useEffect(()=>{const m=localStorage.getItem(Xf);if(m)try{const p=JSON.parse(m);Array.isArray(p)&&l(p.slice(0,10))}catch{}},[]),S.useEffect(()=>{localStorage.setItem(Xf,JSON.stringify(a.slice(0,10)))},[a]);const y=S.useMemo(()=>["","","","","","","SF",""],[]),w=m=>{const p=(m??e).trim();p&&(d(!0),l(g=>[p,...g.filter(j=>j!==p)].slice(0,10)),f([]),(async()=>{try{const g=await M5(p);f(g)}catch(g){console.error("TMDB  :",g),f([])}finally{d(!1)}})())},b=!e&&!o;return c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden overflow-x-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white",children:c.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t(-1),"aria-label":"",className:"shrink-0 w-9 h-9 rounded-full bg-[#2e2c6a]/10 flex items-center justify-center",children:c.jsx("span",{className:"inline-block w-0 h-0 border-y-8 border-y-transparent border-r-8 border-r-[#2e2c6a]"})}),c.jsxs("div",{className:"flex-1 h-11 rounded-[14px] bg-[#f0f2f4] px-3 flex items-center gap-2",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[c.jsx("circle",{cx:"9",cy:"9",r:"7",stroke:"#60646C",strokeWidth:"1.5"}),c.jsx("path",{d:"M14 14L18 18",stroke:"#60646C",strokeWidth:"1.5",strokeLinecap:"round"})]}),c.jsx("input",{ref:v,className:"flex-1 h-full bg-transparent outline-none text-[15px] placeholder:text-[#9aa0a6]",placeholder:", ,  ",value:e,onChange:m=>r(m.target.value),onFocus:()=>i(!0),onBlur:()=>i(!1),onCompositionStart:()=>s(!0),onCompositionEnd:()=>s(!1),onKeyDown:m=>{m.key==="Enter"&&!n&&(m.preventDefault(),w())}}),e&&c.jsx("button",{onClick:()=>{var m;r(""),f([]),(m=v.current)==null||m.focus()},"aria-label":"",className:"shrink-0 w-8 h-8 rounded-full bg-black/5 flex items-center justify-center",children:c.jsx("span",{className:"text-[#60646C] text-sm",children:""})}),c.jsx("button",{onClick:()=>w(),className:"shrink-0 h-8 px-3 rounded-full bg-[#2e2c6a] text-white text-sm font-medium",children:""})]})]})}),c.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden bg-white pt-[68px] pb-24 relative",children:c.jsxs("div",{className:"px-4",children:[b&&c.jsxs("div",{className:"space-y-8",children:[!!a.length&&c.jsxs("section",{children:[c.jsx("h3",{className:"text-[15px] font-semibold text-[#2e2c6a] mb-3",children:" "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(m=>c.jsx("button",{onClick:()=>{r(m),w(m)},className:"px-3 h-8 rounded-full bg-[#f0f2f4] text-[13px] text-[#2e2c6a] hover:bg-[#e7e9ec]",children:m},m))}),c.jsx("div",{className:"mt-3",children:c.jsx("button",{onClick:()=>l([]),className:"text-[12px] text-[#60646C] underline",children:" "})})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-[15px] font-semibold text-[#2e2c6a] mb-3",children:" "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(m=>c.jsx("button",{onClick:()=>{r(m),w(m)},className:"px-3 h-8 rounded-full bg-[#2e2c6a]/10 text-[13px] text-[#2e2c6a] hover:bg-[#2e2c6a]/15",children:m},m))})]})]}),u&&c.jsx("div",{className:"mt-2 space-y-4",children:Array.from({length:6}).map((m,p)=>c.jsxs("div",{className:"flex gap-3 animate-pulse",children:[c.jsx("div",{className:"w-20 h-28 rounded-[8px] bg-[#f0f2f4]"}),c.jsxs("div",{className:"flex-1 py-1",children:[c.jsx("div",{className:"h-4 w-2/3 bg-[#f0f2f4] rounded mb-2"}),c.jsx("div",{className:"h-3 w-1/3 bg-[#f0f2f4] rounded mb-3"}),c.jsx("div",{className:"h-3 w-1/2 bg-[#f0f2f4] rounded"})]})]},p))}),!u&&!!h.length&&c.jsx("div",{className:"mt-2 space-y-4",children:h.map(m=>c.jsxs("button",{onClick:()=>t(`/content/tmdb/${m.mediaType}/${m.id}`),className:"w-full flex gap-3",children:[c.jsx("div",{className:"w-20 h-28 rounded-[8px] bg-[#e7e9ec] overflow-hidden",children:m.posterUrl?c.jsx("img",{src:m.posterUrl,alt:m.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#d8dbe0] to-[#f0f2f4]"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-[15px] font-semibold text-[#111827] line-clamp-2",children:m.title}),c.jsx("p",{className:"text-[12px] text-[#6b7280] mt-1",children:m.year??""})]})]},m.id))}),!u&&e&&h.length===0&&!b&&c.jsx("div",{className:"mt-12 text-center",children:c.jsx("p",{className:"text-[#60646C]",children:"  "})})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}function B5(){const t=bt(),{type:e,id:r}=km(),[n,s]=S.useState(null),[o,i]=S.useState(!0),[a,l]=S.useState(null),[u,d]=S.useState(null),[h,f]=S.useState([]),[v,y]=S.useState([]),[w,b]=S.useState(null),[m,p]=S.useState(null),[g,k]=S.useState([]),[j,R]=S.useState([]),[N,O]=S.useState(null);S.useEffect(()=>{let x=!0;return(async()=>{var T,_,P,L,J,D,Y;if(!(!e||!r))try{const A=await D5(e,r);if(x){s(A);const z=A.genres??[];if(f(z),e==="movie"){const X=(_=(T=A.release_dates)==null?void 0:T.results)==null?void 0:_.find(fe=>fe.iso_3166_1==="KR"),Z=((L=(P=X==null?void 0:X.release_dates)==null?void 0:P[0])==null?void 0:L.certification)||null;l(Z||null);const ee=A.runtime;if(ee){const fe=Math.floor(ee/60),q=ee%60;d(fe>0?`${fe} ${q}`:`${q}`)}else d(null)}else{const X=((J=A.content_ratings)==null?void 0:J.results)||[],Z=X.find(q=>q.iso_3166_1==="KR");let ee=(Z==null?void 0:Z.rating)||null;if(!ee){const q=X.find(ue=>ue.iso_3166_1==="US");ee=(q==null?void 0:q.rating)||null,ee||(ee=((D=X==null?void 0:X[0])==null?void 0:D.rating)||null)}l(ee);const fe=(Y=A.episode_run_time)==null?void 0:Y[0];if(fe){const q=Math.floor(fe/60),ue=fe%60;d(q>0?`${q} ${ue}`:`${ue}`)}else d(null)}const te=A.credits;if(te){const X=(te.cast||[]).slice(0,6).map(q=>{var ue,Kt;return{id:q.id,name:q.name||"",character:q.character||((Kt=(ue=q.roles)==null?void 0:ue[0])==null?void 0:Kt.character)||"",profile_path:q.profile_path?`https://image.tmdb.org/t/p/w185${q.profile_path}`:null}});y(X);const Z=te.crew||[],ee=Z.find(q=>q.job==="Director")||Z.find(q=>q.department==="Directing")||(e==="tv"?Z.find(q=>q.job==="Executive Producer"):void 0);b((ee==null?void 0:ee.name)??null);let fe=Z.find(q=>q.job==="Writer")||Z.find(q=>q.job==="Screenplay")||Z.find(q=>q.job==="Story")||Z.find(q=>q.job==="Novel")||(e==="tv"?Z.find(q=>q.job==="Creator"):void 0);if(!fe&&e==="tv"){const q=A.created_by;Array.isArray(q)&&q.length>0?p(q.map(ue=>ue.name).filter(Boolean).join(", ")):p(null)}else p((fe==null?void 0:fe.name)??null)}F5(e,r).then(X=>x&&k(X)),z5(e,r).then(X=>x&&R(X))}}finally{}})(),()=>{x=!1}},[e,r]);const W=n&&("title"in n?n.title:n.name)||"",B=(()=>{var x,T;return n?"release_date"in n?((x=n.release_date)==null?void 0:x.slice(0,4))||"":((T=n.first_air_date)==null?void 0:T.slice(0,4))||"":""})(),ae=U5(n&&n.poster_path),Ne=N?j.filter(x=>x.type===N):j,he=j.filter(x=>x.type==="flatrate").length,Se=j.filter(x=>x.type==="free").length,Ke=j.filter(x=>x.type==="rent").length,ge=j.filter(x=>x.type==="buy").length,Ue=(()=>{const x={flatrate:0,free:1,rent:2,buy:3},T=new Map;for(const _ of j){const P=T.get(_.provider_id);P?x[_.type]<x[P.type]&&T.set(_.provider_id,_):T.set(_.provider_id,_)}return Array.from(T.values())})(),M=N?Ne:Ue,G=S.useCallback(x=>{O(T=>T===x?null:x)},[]);return S.useEffect(()=>{i(!!ae)},[ae]),c.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[c.jsxs("div",{className:"h-full overflow-y-auto bg-white",children:[c.jsx("button",{onClick:()=>t(-1),className:"absolute top-[20px] left-5 z-20 w-6 h-6 flex items-center justify-center","aria-label":"",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-6 h-6 ${o?"text-white":"text-black"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsxs("div",{className:"relative w-full h-[378px] overflow-hidden",children:[ae&&c.jsxs(c.Fragment,{children:[c.jsx("img",{src:ae,alt:W,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 to-black"})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end pb-4 px-5",children:[c.jsx("h1",{className:"text-[20px] font-bold text-white mb-1 text-center",children:W}),c.jsxs("p",{className:"text-[14px] font-normal text-white text-center mb-4",children:[e==="movie"?"":"TV","  ",B]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[M.slice(0,2).map((x,T)=>c.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:x.logo_path?c.jsx("img",{src:x.logo_path,alt:x.provider_name,className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.style.display="none"}}):c.jsx("div",{className:"w-full h-full bg-gray-400"})},x.provider_id||T)),h.slice(0,2).map(x=>c.jsx("div",{className:"h-5 bg-[#9b59b6] rounded-[6px] px-2 flex items-center justify-center",children:c.jsx("span",{className:"text-[10px] font-normal text-white whitespace-nowrap",children:x.name})},x.id))]}),ae&&c.jsx("div",{className:"absolute right-[20px] bottom-[20px] w-[84px] h-[120px] rounded-[6px] overflow-hidden",children:c.jsx("img",{src:ae,alt:`${W} poster`,className:"w-full h-full object-cover"})})]})]}),(n==null?void 0:n.overview)&&c.jsx("div",{className:"w-full min-h-[105px] bg-[#010100] px-5 py-4",children:c.jsx("p",{className:"text-[14px] font-normal text-white leading-[1.5]",children:n.overview})}),c.jsx("div",{className:"mx-5 mt-5 mb-6 border border-black/10 rounded-[20px] px-4 py-4",children:c.jsxs("div",{className:"space-y-[15px]",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:W})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:h.map(x=>x.name).join(", ")||"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:B?`${B}`:"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:a||"-"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:""}),c.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:u||"-"})]})]})}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-bold text-black mb-4",children:""}),c.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[c.jsxs("button",{onClick:()=>G("flatrate"),className:`flex flex-col items-center gap-1 ${N==="flatrate"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",he]}),c.jsx("div",{className:`w-[55px] h-[2px] border-b ${N==="flatrate"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>G("free"),className:`flex flex-col items-center gap-1 ${N==="free"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",Se]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${N==="free"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>G("rent"),className:`flex flex-col items-center gap-1 ${N==="rent"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",Ke]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${N==="rent"?"border-[#2e2c6a]":"border-transparent"}`})]}),c.jsxs("button",{onClick:()=>G("buy"),className:`flex flex-col items-center gap-1 ${N==="buy"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[c.jsxs("p",{className:"text-[16px] font-normal text-black",children:[" ",ge]}),c.jsx("div",{className:`w-[55px] h-[1px] border-b ${N==="buy"?"border-[#2e2c6a]":"border-transparent"}`})]})]}),c.jsx("div",{className:"space-y-3",children:M.length>0?M.map((x,T)=>c.jsxs("button",{className:"w-full h-9 border border-[#2e2c6a] rounded-[12px] flex items-center justify-between px-2 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[x.logo_path&&c.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:c.jsx("img",{src:x.logo_path,alt:x.provider_name,className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.style.display="none"}})}),c.jsx("span",{className:"text-[14px] font-normal text-[#2e2c6a]",children:x.provider_name})]}),c.jsx("svg",{className:"w-4 h-4 text-[#2e2c6a] rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]},x.provider_id||T)):c.jsx("p",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:N?"     .":"   ."})})]}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:"/"}),v.length>0?c.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 mb-4",children:v.map(x=>c.jsxs("div",{className:"flex flex-col items-center min-w-0 max-w-[100px] mx-auto",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-300 mb-2 overflow-hidden flex items-center justify-center flex-shrink-0",children:x.profile_path?c.jsx("img",{src:x.profile_path,alt:x.name,className:"w-full h-full object-cover",onError:T=>{const _=T.target;_.style.display="none"}}):null}),c.jsx("div",{className:"bg-gray-900 rounded-[10px] px-1.5 py-0.5 mb-1 w-full min-w-0",children:c.jsx("span",{className:"text-[14px] font-normal text-white block truncate text-center",title:x.character||"",children:x.character||""})}),c.jsx("span",{className:"text-[14px] font-normal text-gray-900 text-center w-full truncate block min-w-0",title:x.name,children:x.name})]},x.id))}):c.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:"  ."}),c.jsx("div",{className:"w-full h-[1px] border-t border-[#2e2c6a] my-4"}),c.jsxs("div",{className:"space-y-4",children:[w&&c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:""}),c.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:w,children:w})]}),m&&c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:""}),c.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:m,children:m})]}),!w&&!m&&c.jsx("div",{className:"text-[14px] font-normal text-gray-500",children:"  ."})]}),c.jsx("button",{className:"w-full h-[52px] bg-[#2e2c6a] rounded-[10px] mt-6 flex items-center justify-center",children:c.jsx("span",{className:"text-[16px] font-semibold text-white",children:"/ "})})]}),c.jsxs("div",{className:"px-5 mb-6",children:[c.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:"   "}),g.length>0?c.jsxs("div",{className:"space-y-3",children:[g.length>0&&c.jsxs("div",{className:"flex gap-3",children:[g.slice(0,2).map((x,T)=>{const _=[300,190];return c.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${_[T]}px`},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:P=>{const L=P.target;L.src="",L.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T)}),g.length<2&&c.jsx("div",{className:"h-32 w-[190px] bg-gray-300 rounded"})]}),g.length>2&&c.jsxs("div",{className:"flex gap-3",children:[g.slice(2,4).map((x,T)=>c.jsxs("div",{className:"h-32 w-[210px] rounded overflow-hidden cursor-pointer relative group",style:{width:"210px"},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:_=>{const P=_.target;P.src="",P.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T+2)),g.length<4&&c.jsx("div",{className:"h-32 w-[210px] bg-gray-300 rounded"})]}),g.length>4&&c.jsxs("div",{className:"flex gap-3",children:[g.slice(4,7).map((x,T)=>{const _=[144,147,188];return c.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${_[T]}px`},onClick:()=>{x.type,window.open(x.url,"_blank")},children:[c.jsx("img",{src:x.thumbnail,alt:x.type==="video"?"":"",className:"w-full h-full object-cover",onError:P=>{const L=P.target;L.src="",L.style.backgroundColor="#d1d5db"}}),x.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},T+4)}),g.length<7&&c.jsxs(c.Fragment,{children:[g.length===5&&c.jsx("div",{className:"h-32 w-[147px] bg-gray-300 rounded"}),g.length===6&&c.jsx("div",{className:"h-32 w-[188px] bg-gray-300 rounded"})]})]})]}):c.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:"    ."})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Mr,{})})})]})}async function z5(t,e){const r="69a6ef89f280454b2aab653333314c3d",n=t==="movie"?"movie":"tv",s=new URL(`https://api.themoviedb.org/3/${n}/${e}/watch/providers`);r.startsWith("eyJ")||s.searchParams.set("api_key",r);const o=await fetch(s.toString(),{headers:r.startsWith("eyJ")?{Authorization:`Bearer ${r}`}:void 0}).catch(()=>null);if(!o||!o.ok)return[];const i=await o.json(),l=["KR","US","JP"].find(h=>{var f;return(f=i==null?void 0:i.results)==null?void 0:f[h]}),u=l?i.results[l]:null;if(!u)return[];const d=[];return["flatrate","free","rent","buy"].forEach(h=>{const f=u[h];Array.isArray(f)&&f.forEach(v=>{d.push({provider_id:v.provider_id,provider_name:v.provider_name,logo_path:v.logo_path?`https://image.tmdb.org/t/p/w300${v.logo_path}`:void 0,type:h})})}),d}async function F5(t,e){const r="69a6ef89f280454b2aab653333314c3d",n=t==="movie"?"movie":"tv",s=r.startsWith("eyJ")?{Authorization:`Bearer ${r}`}:void 0,o=new URL(`https://api.themoviedb.org/3/${n}/${e}/videos`),i=new URL(`https://api.themoviedb.org/3/${n}/${e}/images`);o.searchParams.set("language","ko-KR"),r.startsWith("eyJ")||(o.searchParams.set("api_key",r),i.searchParams.set("api_key",r));const[a,l]=await Promise.all([fetch(o.toString(),{headers:s}).catch(()=>null),fetch(i.toString(),{headers:s}).catch(()=>null)]),u=[];if(a&&a.ok&&((await a.json()).results||[]).filter(f=>f.type==="Trailer"||f.type==="Teaser"||f.type==="Clip").slice(0,3).forEach(f=>{f.key&&u.push({type:"video",url:`https://www.youtube.com/watch?v=${f.key}`,thumbnail:`https://img.youtube.com/vi/${f.key}/hqdefault.jpg`})}),l&&l.ok){const d=await l.json();(d.backdrops||[]).slice(0,4).forEach(v=>{v.file_path&&u.push({type:"image",url:`https://image.tmdb.org/t/p/original${v.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${v.file_path}`})}),(d.posters||[]).slice(0,2).forEach(v=>{v.file_path&&u.push({type:"image",url:`https://image.tmdb.org/t/p/original${v.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${v.file_path}`})})}return u.slice(0,9)}function W5({children:t}){const e=Uo(dn);return S.useEffect(()=>{let r=!0;(async()=>{var o;try{const{data:i}=await je.auth.getSession();r&&e(((o=i.session)==null?void 0:o.user)??null)}catch(i){console.error("  :",i)}})();const{data:s}=je.auth.onAuthStateChange((o,i)=>{e((i==null?void 0:i.user)??null)});return()=>{r=!1,s.subscription.unsubscribe()}},[e]),c.jsx(c.Fragment,{children:t})}function H5(){return c.jsx(w6,{children:c.jsx(Kw,{children:c.jsx("div",{className:"w-full min-h-screen flex justify-center",style:{backgroundColor:"#2e2c6a"},children:c.jsx("div",{className:"w-full max-w-[375px] min-h-screen relative",children:c.jsx(W5,{children:c.jsxs(Sw,{children:[c.jsx(At,{path:"/splash",element:c.jsx(Zf,{})}),c.jsx(At,{path:"/onboarding",element:c.jsx(x6,{})}),c.jsx(At,{path:"/onboarding/step2",element:c.jsx(Z4,{})}),c.jsx(At,{path:"/main",element:c.jsx(k5,{})}),c.jsx(At,{path:"/content/:id",element:c.jsx(N5,{})}),c.jsx(At,{path:"/content/tmdb/:type/:id",element:c.jsx(B5,{})}),c.jsx(At,{path:"/mypage",element:c.jsx(L5,{})}),c.jsx(At,{path:"/settings",element:c.jsx(O5,{})}),c.jsx(At,{path:"/search",element:c.jsx(V5,{})}),c.jsx(At,{path:"/",element:c.jsx(Zf,{})})]})})})})})})}ql.createRoot(document.getElementById("root")).render(c.jsx(Re.StrictMode,{children:c.jsx(H5,{})}));
