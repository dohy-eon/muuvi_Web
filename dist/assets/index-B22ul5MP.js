import{l as ce,j as e,S as de}from"./index-BREGoMZi.js";import{f as me,u as xe,a as b}from"./react-vendor-BCvJ4SZV.js";import{b as pe}from"./recoil-vendor-BPQO4bvt.js";import{a as he}from"./recommendations-COa1II3e.js";import{B as V}from"./BottomNavigation-DgnTffoS.js";import"./supabase-vendor-DMkEyeru.js";const v="69a6ef89f280454b2aab653333314c3d",N="https://api.themoviedb.org/3",fe={ko:{originalTitle:"원제",genre:"장르",releaseDate:"개봉일",rating:"연령등급",runtime:"러닝타임",watch:"보러가기",castCrew:"출연진/제작진",castMore:"출연진/제작진 더보기",media:"영상 및 포스터 콜라주",director:"감독",writer:"극본",year:"년",noContent:"콘텐츠를 찾을 수 없습니다.",error:"콘텐츠를 불러오는 중 오류가 발생했습니다.",noOtt:"시청 가능한 플랫폼이 없습니다.",noOttType:"해당 타입으로 시청 가능한 플랫폼이 없습니다.",noCast:"출연진 정보가 없습니다.",noCrew:"제작진 정보가 없습니다.",noMedia:"영상 및 포스터 정보가 없습니다.",actor:"출연",flatrate:"정액제",free:"무료",rent:"대여",buy:"구매",back:"뒤로가기"},en:{originalTitle:"Original Title",genre:"Genre",releaseDate:"Release Date",rating:"Rating",runtime:"Runtime",watch:"Where to Watch",castCrew:"Cast & Crew",castMore:"See More Cast & Crew",media:"Media & Posters",director:"Director",writer:"Writer",year:"",noContent:"Content not found.",error:"An error occurred while loading content.",noOtt:"No streaming platforms available.",noOttType:"No platforms available for this type.",noCast:"No cast information available.",noCrew:"No crew information available.",noMedia:"No media or posters available.",actor:"Actor",flatrate:"Stream",free:"Free",rent:"Rent",buy:"Buy",back:"Back"}};async function A(h,u="movie"){var l,r,a,f;if(!h||!v)return null;try{const m=await fetch(`${N}/find/${h}?api_key=${v}&external_source=imdb_id`);if(!m.ok)return null;const i=await m.json();return(u==="tv"?(r=(l=i.tv_results)==null?void 0:l[0])==null?void 0:r.id:(f=(a=i.movie_results)==null?void 0:a[0])==null?void 0:f.id)||null}catch(m){return console.error("TMDB ID 가져오기 실패:",m),null}}async function ue(h,u="movie"){var l;if(!h||!v)return[];try{const r=await A(h,u);if(!r)return[];const a=u==="tv"?`${N}/tv/${r}/watch/providers`:`${N}/movie/${r}/watch/providers`,f=await fetch(`${a}?api_key=${v}`);if(!f.ok)return[];const i=(l=(await f.json()).results)==null?void 0:l.KR;if(!i)return[];const p=[];return i.flatrate&&i.flatrate.forEach(s=>{p.push({provider_id:s.provider_id,provider_name:s.provider_name,logo_path:s.logo_path?`https://image.tmdb.org/t/p/w300${s.logo_path}`:void 0,type:"flatrate"})}),i.free&&i.free.forEach(s=>{p.push({provider_id:s.provider_id,provider_name:s.provider_name,logo_path:s.logo_path?`https://image.tmdb.org/t/p/w300${s.logo_path}`:void 0,type:"free"})}),i.rent&&i.rent.forEach(s=>{p.push({provider_id:s.provider_id,provider_name:s.provider_name,logo_path:s.logo_path?`https://image.tmdb.org/t/p/w300${s.logo_path}`:void 0,type:"rent"})}),i.buy&&i.buy.forEach(s=>{p.push({provider_id:s.provider_id,provider_name:s.provider_name,logo_path:s.logo_path?`https://image.tmdb.org/t/p/w300${s.logo_path}`:void 0,type:"buy"})}),p}catch(r){return console.error("OTT 정보 가져오기 실패:",r),[]}}async function ge(h,u="movie"){if(!h||!v)return[];try{const l=await A(h,u);if(!l)return[];const r=u==="tv"?"tv":"movie",[a,f]=await Promise.all([fetch(`${N}/${r}/${l}/videos?api_key=${v}&language=ko-KR`),fetch(`${N}/${r}/${l}/images?api_key=${v}`)]),m=[];if(a.ok&&((await a.json()).results||[]).filter(s=>s.type==="Trailer"||s.type==="Teaser"||s.type==="Clip").slice(0,3).forEach(s=>{s.key&&m.push({type:"video",url:`https://www.youtube.com/watch?v=${s.key}`,thumbnail:s.key?`https://img.youtube.com/vi/${s.key}/hqdefault.jpg`:""})}),f.ok){const i=await f.json();(i.backdrops||[]).slice(0,4).forEach(x=>{x.file_path&&m.push({type:"image",url:`https://image.tmdb.org/t/p/original${x.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${x.file_path}`})}),(i.posters||[]).slice(0,2).forEach(x=>{x.file_path&&m.push({type:"image",url:`https://image.tmdb.org/t/p/original${x.file_path}`,thumbnail:`https://image.tmdb.org/t/p/w500${x.file_path}`})})}return m.slice(0,9)}catch(l){return console.error("영상/이미지 정보 가져오기 실패:",l),[]}}async function be(h,u="movie"){if(!h||!v)return{cast:[],director:null,writer:null};try{const l=await A(h,u);if(!l)return{cast:[],director:null,writer:null};const a=await fetch(`${N}/${u==="tv"?"tv":"movie"}/${l}/credits?api_key=${v}&language=ko-KR`);if(!a.ok)return{cast:[],director:null,writer:null};const f=await a.json(),m=(f.cast||[]).slice(0,6).map(d=>{var o,w;return{id:d.id,name:d.name||"",character:d.character||((w=(o=d.roles)==null?void 0:o[0])==null?void 0:w.character)||"",profile_path:d.profile_path?`https://image.tmdb.org/t/p/w185${d.profile_path}`:null}});let i=null;const p=(f.crew||[]).find(d=>d.job==="Director"||d.job==="Executive Producer");p&&(i=p.name);let s=null;const x=(f.crew||[]).find(d=>d.job==="Writer"||d.job==="Screenplay"||d.job==="Story"||d.job==="Novel");if(x)s=x.name;else{const d=(f.crew||[]).filter(o=>o.job==="Writer"||o.job==="Screenplay"||o.job==="Story");d.length>0&&(s=d[0].name,d.length>1&&(s+=` 외 ${d.length-1}명`))}return{cast:m,director:i,writer:s}}catch(l){return console.error("출연진/제작진 정보 가져오기 실패:",l),{cast:[],director:null,writer:null}}}async function ve(h,u="movie"){var l,r,a,f;if(!h||!v)return{rating:null,runtime:null};try{const m=await A(h,u);if(!m)return{rating:null,runtime:null};if(u==="movie"){const[i,p]=await Promise.all([fetch(`${N}/movie/${m}?api_key=${v}&language=ko-KR`),fetch(`${N}/movie/${m}/release_dates?api_key=${v}`)]);if(!i.ok||!p.ok)return{rating:null,runtime:null};const s=await i.json(),x=await p.json();let d=null;const o=(l=x.results)==null?void 0:l.find(y=>y.iso_3166_1==="KR");(a=(r=o==null?void 0:o.release_dates)==null?void 0:r[0])!=null&&a.certification&&(d=o.release_dates[0].certification);let w=null;if(s.runtime){const y=Math.floor(s.runtime/60),k=s.runtime%60;y>0?w=`${y}시간 ${k}분`:w=`${k}분`}return{rating:d,runtime:w}}else{const[i,p]=await Promise.all([fetch(`${N}/tv/${m}?api_key=${v}&language=ko-KR`),fetch(`${N}/tv/${m}/content_ratings?api_key=${v}`)]);if(!i.ok||!p.ok)return{rating:null,runtime:null};const s=await i.json(),x=await p.json();let d=null;const o=(f=x.results)==null?void 0:f.find(y=>y.iso_3166_1==="KR");o!=null&&o.rating&&(d=o.rating);let w=null;if(s.episode_run_time&&s.episode_run_time.length>0){const y=s.episode_run_time[0],k=Math.floor(y/60),R=y%60;k>0?w=`${k}시간 ${R}분`:w=`${R}분`}return{rating:d,runtime:w}}}catch(m){return console.error("연령 등급 및 러닝타임 가져오기 실패:",m),{rating:null,runtime:null}}}const H={로맨스:"bg-[#ffbdbd]",공포:"bg-[#2c2c2c]",코미디:"bg-[#ffd93d]",SF:"bg-[#003f5c]",판타지:"bg-[#9b59b6]",모험:"bg-[#ff8c42]",액션:"bg-[#e74c3c]",드라마:"bg-[#8fd19e]",가족:"bg-[#8fd19e]",미스터리:"bg-[#7f8c8d]",스릴러:"bg-[#7f8c8d]",애니메이션:"bg-[#9b59b6]",범죄:"bg-[#2c2c2c]",다큐멘터리:"bg-[#7f8c8d]",역사:"bg-[#8d6e63]",음악:"bg-[#ff6b9d]",전쟁:"bg-[#5d4037]",서부:"bg-[#d4a574]",리얼리티:"bg-[#ffd93d]",토크쇼:"bg-[#8fd19e]",TV영화:"bg-[#9b59b6]",Romance:"bg-[#ffbdbd]",Horror:"bg-[#2c2c2c]",Comedy:"bg-[#ffd93d]","Sci-Fi":"bg-[#003f5c]","Science Fiction":"bg-[#003f5c]",Fantasy:"bg-[#9b59b6]",Adventure:"bg-[#ff8c42]",Action:"bg-[#e74c3c]",Drama:"bg-[#8fd19e]",Family:"bg-[#8fd19e]",Mystery:"bg-[#7f8c8d]",Thriller:"bg-[#7f8c8d]",Animation:"bg-[#9b59b6]",Crime:"bg-[#2c2c2c]",Documentary:"bg-[#7f8c8d]",History:"bg-[#8d6e63]",Music:"bg-[#ff6b9d]",War:"bg-[#5d4037]",Western:"bg-[#d4a574]",Reality:"bg-[#ffd93d]","Talk Show":"bg-[#8fd19e]","TV Movie":"bg-[#9b59b6]",Movie:"bg-[#9b59b6]",Classic:"bg-[#9b59b6]",default:"bg-[#9b59b6]"};function Ce(){var F,K;const{id:h}=me(),u=xe(),l=pe(ce),r=fe[l],[a,f]=b.useState(null),[m,i]=b.useState(!0),[p,s]=b.useState(null),[x,d]=b.useState([]),[o,w]=b.useState(null),[y,k]=b.useState(null),[R,q]=b.useState(null),[G,C]=b.useState(!0),[L,U]=b.useState([]),[D,X]=b.useState(null),[S,Y]=b.useState(null),[j,J]=b.useState([]);b.useEffect(()=>{(async()=>{if(!h){s("콘텐츠 ID가 없습니다."),i(!1);return}try{i(!0),s(null);const n=await he(h);if(!n)s(r.noContent);else{f(n);const c=n.genre==="영화"?"movie":"tv",[g,_,T,B]=await Promise.all([ue(n.imdb_id,c),ve(n.imdb_id,c),be(n.imdb_id,c),ge(n.imdb_id,c)]);d(g),k(_.rating),q(_.runtime),U(T.cast),X(T.director),Y(T.writer),J(B)}}catch(n){console.error("콘텐츠 로드 실패:",n),s(r.error)}finally{i(!1)}})()},[h]);const I=l==="en"&&(a!=null&&a.tags_en)&&a.tags_en.length>0?a.tags_en:a==null?void 0:a.tags,Q=I&&I.length>0?I.flatMap(t=>t.includes("&")?t.split("&").map(n=>n.trim()).filter(Boolean):t).slice(0,2):[],Z=x.filter(t=>t.type==="flatrate").length,ee=x.filter(t=>t.type==="free").length,te=x.filter(t=>t.type==="rent").length,ae=x.filter(t=>t.type==="buy").length,P=o?x.filter(t=>t.type===o):x,E=b.useCallback(t=>{w(n=>n===t?null:t)},[]),W=b.useCallback(t=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{try{const c=document.createElement("canvas"),g=c.getContext("2d");if(!g){C(!0);return}const B=Math.min(200/n.width,100/n.height,1);c.width=n.width*B,c.height=n.height*B,g.drawImage(n,0,0,c.width,c.height);const se=Math.min(c.height*.3,50),M=g.getImageData(0,0,c.width,se).data;let z=0;const re=Math.max(1,Math.floor(M.length/4/50));let O=0;for(let $=0;$<M.length;$+=4*re){const ne=M[$],le=M[$+1],ie=M[$+2],oe=(ne*299+le*587+ie*114)/1e3;z+=oe,O++}if(O>0){const $=z/O;C($<128)}else C(!0)}catch(c){console.warn("이미지 밝기 계산 실패 (CORS 또는 기타 오류):",c),C(!0)}},n.onerror=()=>{C(!0)},n.src=t},[]);return b.useEffect(()=>{a!=null&&a.poster_url?W(a.poster_url):C(!1)},[a==null?void 0:a.poster_url,W]),m?e.jsx(de,{}):p||!a?e.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6 bg-white",children:[e.jsx("div",{className:"text-red-600 mb-4",children:p||r.noContent}),e.jsx("button",{onClick:()=>u(-1),className:"px-4 py-2 bg-[#2e2c6a] text-white rounded-lg hover:bg-[#3a3878] transition-colors",children:r.back})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsx(V,{})})})]}):e.jsxs("div",{className:"w-full h-screen bg-white relative font-pretendard overflow-hidden",children:[e.jsxs("div",{className:"h-full overflow-y-auto bg-white",children:[e.jsx("button",{onClick:()=>u(-1),className:"absolute top-[20px] left-5 z-20 w-6 h-6 flex items-center justify-center","aria-label":r.back,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-6 h-6 ${G?"text-white":"text-black"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"relative w-full h-[378px] overflow-hidden",children:[a.poster_url&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:a.poster_url,alt:l==="en"&&a.title_en?a.title_en:a.title,className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 to-black"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end pb-4 px-5",children:[e.jsx("h1",{className:"text-[20px] font-bold text-white mb-1 text-center",children:l==="en"&&a.title_en?a.title_en:a.title}),e.jsxs("p",{className:"text-[14px] font-normal text-white text-center mb-4",children:[a.genre||(l==="en"?"Movie":"영화")," • ",a.year||""]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(o?P:x).slice(0,2).map((t,n)=>e.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:t.logo_path?e.jsx("img",{src:t.logo_path,alt:t.provider_name,className:"w-full h-full object-cover",onError:c=>{const g=c.target;g.style.display="none"}}):e.jsx("div",{className:"w-full h-full bg-gray-400"})},t.provider_id||n)),Q.map((t,n)=>{const c=H[t]||H.default;return e.jsx("div",{className:`h-5 ${c} rounded-[6px] px-2 flex items-center justify-center`,children:e.jsx("span",{className:"text-[10px] font-normal text-white whitespace-nowrap",children:t})},n)})]}),a.poster_url&&e.jsx("div",{className:"absolute right-[20px] bottom-[20px] w-[84px] h-[120px] rounded-[6px] overflow-hidden",children:e.jsx("img",{src:a.poster_url,alt:`${l==="en"&&a.title_en?a.title_en:a.title} poster`,className:"w-full h-full object-cover"})})]})]}),(l==="en"&&a.description_en||a.description)&&e.jsx("div",{className:"w-full min-h-[105px] bg-[#010100] px-5 py-4",children:e.jsx("p",{className:"text-[14px] font-normal text-white leading-[1.5]",children:l==="en"&&a.description_en?a.description_en:a.description})}),e.jsx("div",{className:"mx-5 mt-5 mb-6 border border-black/10 rounded-[20px] px-4 py-4",children:e.jsxs("div",{className:"space-y-[15px]",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:r.originalTitle}),e.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:(l==="en"?a.title:a.title_en||a.title)||"-"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:r.genre}),e.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:((F=a.genres)==null?void 0:F.join(", "))||((K=a.tags)==null?void 0:K.join(", "))||"-"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:r.releaseDate}),e.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:a.year?`${a.year}${r.year}`:"-"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:r.rating}),e.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:y||"-"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("p",{className:"text-[14px] font-normal text-gray-700 w-[93px]",children:r.runtime}),e.jsx("p",{className:"text-[14px] font-normal text-gray-900 flex-1",children:R||"-"})]})]})}),e.jsxs("div",{className:"px-5 mb-6",children:[e.jsx("h2",{className:"text-[16px] font-bold text-black mb-4",children:r.watch}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("button",{onClick:()=>E("flatrate"),className:`flex flex-col items-center gap-1 ${o==="flatrate"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[e.jsxs("p",{className:"text-[16px] font-normal text-black",children:[r.flatrate," ",Z]}),e.jsx("div",{className:`w-[55px] h-[2px] border-b ${o==="flatrate"?"border-[#2e2c6a]":"border-transparent"}`})]}),e.jsxs("button",{onClick:()=>E("free"),className:`flex flex-col items-center gap-1 ${o==="free"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[e.jsxs("p",{className:"text-[16px] font-normal text-black",children:[r.free," ",ee]}),e.jsx("div",{className:`w-[55px] h-[1px] border-b ${o==="free"?"border-[#2e2c6a]":"border-transparent"}`})]}),e.jsxs("button",{onClick:()=>E("rent"),className:`flex flex-col items-center gap-1 ${o==="rent"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[e.jsxs("p",{className:"text-[16px] font-normal text-black",children:[r.rent," ",te]}),e.jsx("div",{className:`w-[55px] h-[1px] border-b ${o==="rent"?"border-[#2e2c6a]":"border-transparent"}`})]}),e.jsxs("button",{onClick:()=>E("buy"),className:`flex flex-col items-center gap-1 ${o==="buy"?"opacity-100":"opacity-60"} hover:opacity-100 transition-opacity`,children:[e.jsxs("p",{className:"text-[16px] font-normal text-black",children:[r.buy," ",ae]}),e.jsx("div",{className:`w-[55px] h-[1px] border-b ${o==="buy"?"border-[#2e2c6a]":"border-transparent"}`})]})]}),e.jsx("div",{className:"space-y-3",children:P.length>0?P.map((t,n)=>e.jsxs("button",{className:"w-full h-9 border border-[#2e2c6a] rounded-[12px] flex items-center justify-between px-2 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.logo_path&&e.jsx("div",{className:"w-5 h-5 rounded-[6px] overflow-hidden",children:e.jsx("img",{src:t.logo_path,alt:t.provider_name,className:"w-full h-full object-cover",onError:c=>{const g=c.target;g.style.display="none"}})}),e.jsx("span",{className:"text-[14px] font-normal text-[#2e2c6a]",children:t.provider_name})]}),e.jsx("svg",{className:"w-4 h-4 text-[#2e2c6a] rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]},t.provider_id||n)):e.jsx("p",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:o?r.noOttType:r.noOtt})})]}),e.jsxs("div",{className:"px-5 mb-6",children:[e.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:r.castCrew}),L.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4 mb-4",children:L.map(t=>e.jsxs("div",{className:"flex flex-col items-center min-w-0 max-w-[100px] mx-auto",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-300 mb-2 overflow-hidden flex items-center justify-center flex-shrink-0",children:t.profile_path?e.jsx("img",{src:t.profile_path,alt:t.name,className:"w-full h-full object-cover",onError:n=>{const c=n.target;c.style.display="none"}}):null}),e.jsx("div",{className:"bg-gray-900 rounded-[10px] px-1.5 py-0.5 mb-1 w-full min-w-0",children:e.jsx("span",{className:"text-[14px] font-normal text-white block truncate text-center",title:t.character||r.actor,children:t.character||r.actor})}),e.jsx("span",{className:"text-[14px] font-normal text-gray-900 text-center w-full truncate block min-w-0",title:t.name,children:t.name})]},t.id))}):e.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:r.noCast}),e.jsx("div",{className:"w-full h-[1px] border-t border-[#2e2c6a] my-4"}),e.jsxs("div",{className:"space-y-4",children:[D&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:r.director}),e.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:D,children:D})]}),S&&e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-[16px] font-normal text-black flex-shrink-0",children:r.writer}),e.jsx("span",{className:"text-[16px] font-normal text-[#7a8dd6] flex-1 truncate",title:S,children:S})]}),!D&&!S&&e.jsx("div",{className:"text-[14px] font-normal text-gray-500",children:r.noCrew})]}),e.jsx("button",{className:"w-full h-[52px] bg-[#2e2c6a] rounded-[10px] mt-6 flex items-center justify-center",children:e.jsx("span",{className:"text-[16px] font-semibold text-white",children:r.castMore})})]}),e.jsxs("div",{className:"px-5 mb-6",children:[e.jsx("h2",{className:"text-[16px] font-semibold text-black mb-4",children:r.media}),j.length>0?e.jsxs("div",{className:"space-y-3",children:[j.length>0&&e.jsxs("div",{className:"flex gap-3",children:[j.slice(0,2).map((t,n)=>{const c=[300,190];return e.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${c[n]}px`},onClick:()=>{t.type,window.open(t.url,"_blank")},children:[e.jsx("img",{src:t.thumbnail,alt:t.type==="video"?"비디오":"포스터",className:"w-full h-full object-cover",onError:g=>{const _=g.target;_.src="",_.style.backgroundColor="#d1d5db"}}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},n)}),j.length<2&&e.jsx("div",{className:"h-32 w-[190px] bg-gray-300 rounded"})]}),j.length>2&&e.jsxs("div",{className:"flex gap-3",children:[j.slice(2,4).map((t,n)=>e.jsxs("div",{className:"h-32 w-[210px] rounded overflow-hidden cursor-pointer relative group",style:{width:"210px"},onClick:()=>{t.type,window.open(t.url,"_blank")},children:[e.jsx("img",{src:t.thumbnail,alt:t.type==="video"?"비디오":"포스터",className:"w-full h-full object-cover",onError:c=>{const g=c.target;g.src="",g.style.backgroundColor="#d1d5db"}}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},n+2)),j.length<4&&e.jsx("div",{className:"h-32 w-[210px] bg-gray-300 rounded"})]}),j.length>4&&e.jsxs("div",{className:"flex gap-3",children:[j.slice(4,7).map((t,n)=>{const c=[144,147,188];return e.jsxs("div",{className:"h-32 rounded overflow-hidden cursor-pointer relative group",style:{width:`${c[n]}px`},onClick:()=>{t.type,window.open(t.url,"_blank")},children:[e.jsx("img",{src:t.thumbnail,alt:t.type==="video"?"비디오":"포스터",className:"w-full h-full object-cover",onError:g=>{const _=g.target;_.src="",_.style.backgroundColor="#d1d5db"}}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]},n+4)}),j.length<7&&e.jsxs(e.Fragment,{children:[j.length===5&&e.jsx("div",{className:"h-32 w-[147px] bg-gray-300 rounded"}),j.length===6&&e.jsx("div",{className:"h-32 w-[188px] bg-gray-300 rounded"})]})]})]}):e.jsx("div",{className:"text-[14px] font-normal text-gray-500 text-center py-4",children:r.noMedia})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-30 pt-4 pb-2 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsx(V,{})})})]})}export{Ce as default};
